###########################
# Commune of France Focus Tree
# By Nijato, updated by Alpinia
###########################

focus_tree = {
	id = commune_of_france_focus

	country = {
		factor = 0
		modifier = {
			add = 10
			tag = FRA
		}
	}

	default = no
	continuous_focus_position = { x = 1800 y = 1800 }

	focus = {
		id = FRA_direction_of_the_economy
		icon = GFX_goal_FRA_paris
		cost = 5

		x = 5
		y = 0

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_direction_of_the_economy"
			add_tech_bonus = {
				name = FRA_direction_of_the_economy
				bonus = 1
				uses = 1
				category = industry
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_amenagement_du_territoire
		icon = GFX_socialist_constitution
		cost = 5

		relative_position_id = FRA_direction_of_the_economy
		x = 0
		y = 2

		ai_will_do = { factor = 1 }
		prerequisite = {
			focus = FRA_orthodox_syndicalism
			focus = FRA_communal_industrialisation
			focus = FRA_war_economy_and_agriculture
			focus = FRA_worker_self_management
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_amenagement_du_territoire"
			add_ideas = FRA_amenagement_du_territoire_idea
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_plan_prost
		icon = GFX_goal_social_reforms
		cost = 5

		relative_position_id = FRA_amenagement_du_territoire
		x = 0
		y = 2

		ai_will_do = { factor = 1 }
		prerequisite = {
			focus = FRA_amenagement_du_territoire
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_plan_prost"
			swap_ideas = {
				remove_idea = FRA_amenagement_du_territoire_idea
				add_idea = FRA_plan_prost_idea
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_hydroelectricity
		icon = GFX_goal_dam
		cost = 6

		relative_position_id = FRA_plan_prost
		x = -2
		y = 1

		available = {
			has_full_control_of_state = 26 #Auvergne
			has_full_control_of_state = 763 #Alpes
			if = {
				limit = { owns_state = 735 } #Savoy
				has_full_control_of_state = 735
			}
			if = {
				limit = { owns_state = 943 } #Upper Savoy
				has_full_control_of_state = 943
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { owns_state = 735 } #Savoy
			}
			modifier = {
				factor = 0
				NOT = { owns_state = 943 } #Upper Savoy
				OR = {
					has_global_flag = can_demand_romandy
					NOT = { SWI = { has_completed_focus = SWI_peace_at_last } }
				}
			}
		}
		prerequisite = {
			focus = FRA_plan_prost
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_hydroelectricity"
			26 = {
				add_building_construction = {
					type = dam
					level = 1
					province = 3770
					instant_build = yes
				}
			}
			763 = {
				add_building_construction = {
					type = dam
					level = 1
					province = 3764
					instant_build = yes
				}
			}
			if = {
				limit = {
					NOT = { owns_state = 735 } #Savoy
					NOT = { owns_state = 943 } #Upper Savoy
				}
				custom_effect_tooltip = {
					localization_key = building_state_modifier|dam
					INDENT = "    "
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = FRA_will_build_in_savoy_if_owned
				custom_effect_tooltip = FRA_will_build_in_upper_savoy_if_owned
			}
			else_if = {
				limit = { NOT = { owns_state = 735 } } #Savoy
				943 = {
					add_building_construction = {
						type = dam
						level = 1
						province = 778
						instant_build = yes
					}
				}
				custom_effect_tooltip = {
					localization_key = building_state_modifier|dam
					INDENT = "    "
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = FRA_will_build_in_savoy_if_owned
			}
			else_if = {
				limit = { NOT = { owns_state = 943 } } #Upper Savoy
				735 = {
					add_building_construction = {
						type = dam
						level = 1
						province = 6609
						instant_build = yes
					}
				}
				custom_effect_tooltip = {
					localization_key = building_state_modifier|dam
					INDENT = "    "
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = FRA_will_build_in_upper_savoy_if_owned
			}
			else = {
				735 = {
					add_building_construction = {
						type = dam
						level = 1
						province = 6609
						instant_build = yes
					}
				}
				943 = {
					add_building_construction = {
						type = dam
						level = 1
						province = 778
						instant_build = yes
					}
				}
				custom_effect_tooltip = {
					localization_key = building_state_modifier|dam
					INDENT = "    "
				}
			}
		}
	}

	focus = {
		id = FRA_improve_the_electrical_network
		icon = GFX_focus_ARG_develop_the_electricity_sector
		cost = 6

		relative_position_id = FRA_hydroelectricity
		x = 0
		y = 1

		available = {
			dam > 0
		}

		ai_will_do = { factor = 2 }
		prerequisite = {
			focus = FRA_hydroelectricity
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_improve_the_electrical_network"
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			custom_effect_tooltip = tooltip_white_line
			add_one_random_infrastructure = yes
		}
	}

	focus = {
		id = FRA_office_des_chemins_de_fer
		icon = GFX_focus_BEL_engine_of_the_economy
		cost = 5

		relative_position_id = FRA_plan_prost
		x = 2
		y = 1

		ai_will_do = { factor = 1 }
		prerequisite = {
			focus = FRA_plan_prost
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_office_des_chemins_de_fer"
			add_one_random_infrastructure = yes
			add_one_random_infrastructure = yes
			add_one_random_infrastructure = yes
			add_one_random_infrastructure = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_autoroutes
		icon = GFX_goal_FRA_autoroutes
		cost = 5

		relative_position_id = FRA_office_des_chemins_de_fer
		x = 0
		y = 1

		ai_will_do = { factor = 1 }
		prerequisite = {
			focus = FRA_office_des_chemins_de_fer
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_autoroutes"
			add_one_random_infrastructure = yes
			add_one_random_infrastructure = yes
			add_one_random_infrastructure = yes
			add_one_random_infrastructure = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_mining_expansion
		icon = GFX_focus_generic_central_planning
		cost = 6

		relative_position_id = FRA_plan_prost
		x = 0
		y = 1

		ai_will_do = { factor = 1 }
		prerequisite = {
			focus = FRA_plan_prost
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_mining_expansion"
			add_resource = {
				type = steel
				amount = 17
				state = 32
			}
			add_resource = {
				type = steel
				amount = 23
				state = 26
			}
			add_resource = {
				type = oil
				amount = 2
				state = 16
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_communal_industrialisation
		icon = GFX_goal_generic_soviet_construction
		cost = 7

		relative_position_id = FRA_direction_of_the_economy
		x = -5
		y = 1

		ai_will_do = { factor = 10 }
		available = {
			has_country_flag = ECO_JACO
		}
		prerequisite = {
			focus = FRA_direction_of_the_economy
		}
		mutually_exclusive = {
			focus = FRA_orthodox_syndicalism
			focus = FRA_war_economy_and_agriculture
			focus = FRA_worker_self_management
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_communal_industrialisation"
			add_ideas = FRA_industrialization_idea
			custom_effect_tooltip = tooltip_white_line
			add_one_random_civilian_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_factory_towns
		icon = GFX_ITA_urban
		cost = 7

		relative_position_id = FRA_communal_industrialisation
		x = -1
		y = 1

		ai_will_do = { factor = 10 }
		prerequisite = {
			focus = FRA_communal_industrialisation
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_factory_towns"
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			custom_effect_tooltip = tooltip_white_line
			add_one_random_infrastructure = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_sense_of_dedication
		icon = GFX_goal_syndicalist_workers
		cost = 7

		relative_position_id = FRA_communal_industrialisation
		x = -1
		y = 2

		ai_will_do = { factor = 10 }
		prerequisite = {
			focus = FRA_factory_towns
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_sense_of_dedication"
			add_ideas = FRA_sense_of_dedication_idea
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_technician_management
		icon = GFX_goal_generic_design_equipment_standards
		cost = 7

		relative_position_id = FRA_communal_industrialisation
		x = 1
		y = 1

		ai_will_do = { factor = 5 }
		prerequisite = {
			focus = FRA_communal_industrialisation
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_technician_management"
			add_ideas = FRA_technician_management_idea
			custom_effect_tooltip = tooltip_white_line
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_orthodox_syndicalism
		icon = GFX_goal_generic_workers_democracy
		cost = 7

		relative_position_id = FRA_direction_of_the_economy
		x = -2
		y = 1

		ai_will_do = { factor = 10 }
		available = {
			has_country_flag = ECO_TRAV
		}
		prerequisite = {
			focus = FRA_direction_of_the_economy
		}
		mutually_exclusive = {
			focus = FRA_communal_industrialisation
			focus = FRA_war_economy_and_agriculture
			focus = FRA_worker_self_management
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_orthodox_syndicalism"
			add_one_random_civilian_factory = yes
			add_one_random_military_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_worker_designer_cooperation
		icon = GFX_goal_generic_production
		cost = 7

		relative_position_id = FRA_orthodox_syndicalism
		x = -1
		y = 2

		ai_will_do = { factor = 6 }
		prerequisite = {
			focus = FRA_orthodox_syndicalism
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_worker_designer_cooperation"
			add_tech_bonus = {
				name = FRA_worker_designer_cooperation
				ahead_reduction = 1
				bonus = 1.0
				uses = 1
				category = industry
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_military_factory = yes
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = FRA_reduce_unemployment
		icon = GFX_goal_conspiracy
		cost = 7

		relative_position_id = FRA_orthodox_syndicalism
		x = 0
		y = 1

		ai_will_do = { factor = 10 }
		prerequisite = {
			focus = FRA_orthodox_syndicalism
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_reduce_unemployment"
			add_ideas = FRA_efficient_industry_idea
			custom_effect_tooltip = tooltip_white_line
			add_one_random_infrastructure = yes
			add_one_random_infrastructure = yes
			add_one_random_infrastructure = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_improve_management_of_unions
		icon = GFX_goal_workers_rights
		cost = 7

		relative_position_id = FRA_orthodox_syndicalism
		x = 1
		y = 2

		ai_will_do = { factor = 10 }
		prerequisite = {
			focus = FRA_orthodox_syndicalism
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_improve_management_of_unions"
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_war_economy_and_agriculture
		icon = GFX_goal_state_economy
		cost = 7

		relative_position_id = FRA_direction_of_the_economy
		x = 1
		y = 1

		ai_will_do = { factor = 10 }
		available = {
			has_country_flag = ECO_SORE
		}
		prerequisite = {
			focus = FRA_direction_of_the_economy
		}
		mutually_exclusive = {
			focus = FRA_communal_industrialisation
			focus = FRA_orthodox_syndicalism
			focus = FRA_worker_self_management
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_war_economy_and_agriculture"
			add_ideas = FRA_war_economy_and_agriculture_idea
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_modern_farms
		icon = GFX_focus_generic_farmland
		cost = 7

		relative_position_id = FRA_war_economy_and_agriculture
		x = 0
		y = 2

		ai_will_do = { factor = 10 }
		prerequisite = {
			focus = FRA_war_economy_and_agriculture
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_modern_farms"
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_mass_production
		icon = GFX_goal_factory_complex
		cost = 7

		relative_position_id = FRA_war_economy_and_agriculture
		x = 1
		y = 1

		ai_will_do = { factor = 10 }
		prerequisite = {
			focus = FRA_war_economy_and_agriculture
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_mass_production"
			add_ideas = FRA_mass_production_idea
			custom_effect_tooltip = tooltip_white_line
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
		}
	}

	focus = {
		id = FRA_war_industry
		icon = GFX_goal_Focus_Military_Mobilisation
		cost = 7

		relative_position_id = FRA_war_economy_and_agriculture
		x = 1
		y = 3

		ai_will_do = { factor = 10 }
		prerequisite = {
			focus = FRA_modern_farms
		}
		prerequisite = {
			focus = FRA_mass_production
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_war_industry"
			swap_ideas = {
				remove_idea = FRA_war_economy_and_agriculture_idea
				add_idea = FRA_war_economy_and_agriculture_idea_2
			}
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_worker_self_management
		icon = GFX_focus_prc_agrarian_socialism
		cost = 7

		relative_position_id = FRA_direction_of_the_economy
		x = 3
		y = 1

		ai_will_do = { factor = 10 }
		available = {
			has_country_flag = ECO_ANAR
		}
		prerequisite = {
			focus = FRA_direction_of_the_economy
		}
		mutually_exclusive = {
			focus = FRA_communal_industrialisation
			focus = FRA_war_economy_and_agriculture
			focus = FRA_orthodox_syndicalism
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_worker_self_management"
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_decentralized_industry
		icon = GFX_goal_workers_for_business
		cost = 7

		relative_position_id = FRA_worker_self_management
		x = 2
		y = 1

		ai_will_do = { factor = 5 }
		prerequisite = {
			focus = FRA_worker_self_management
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_decentralized_industry"
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_collective_properties
		icon = GFX_Socialist_Law
		cost = 7

		relative_position_id = FRA_worker_self_management
		x = 0
		y = 2

		ai_will_do = { factor = 10 }
		prerequisite = {
			focus = FRA_worker_self_management
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_collective_properties"
			add_ideas = FRA_collective_properties_idea
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_ruralism
		icon = GFX_goal_FRA_ruralism
		cost = 7

		relative_position_id = FRA_worker_self_management
		x = 2
		y = 2

		ai_will_do = { factor = 5 }
		prerequisite = {
			focus = FRA_decentralized_industry
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_ruralism"
			add_ideas = FRA_ruralism_idea
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_vanguard_of_the_revolution
		icon = GFX_focus_SOV_builder_of_the_red_army
		cost = 6

		x = 14
		y = 0

		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_vanguard_of_the_revolution"
			add_war_support = 0.05
			add_ideas = FRA_vanguard_of_the_revolution_idea
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = FRA_socialist_education
		icon = GFX_goal_brain
		cost = 6

		relative_position_id = FRA_vanguard_of_the_revolution
		x = -1
		y = 1

		ai_will_do = { factor = 100 }
		prerequisite = {
			focus = FRA_vanguard_of_the_revolution
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_socialist_education"
			add_stability = 0.05
			add_ideas = FRA_socialist_education_idea
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = FRA_curie_research_institute
		icon = GFX_focus_research2
		cost = 8

		relative_position_id = FRA_vanguard_of_the_revolution
		x = 0
		y = 2

		ai_will_do = { factor = 1000 }
		prerequisite = {
			focus = FRA_vanguard_of_the_revolution
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_curie_research_institute"
			add_research_slot_until_five = yes
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = FRA_department_revolutionary_ideals
		icon = GFX_goal_big_news
		cost = 6

		relative_position_id = FRA_vanguard_of_the_revolution
		x = 1
		y = 1

		ai_will_do = { factor = 10 }
		prerequisite = {
			focus = FRA_vanguard_of_the_revolution
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_department_revolutionary_ideals"
			if = {
				limit = { has_idea = GER_catholic_resistance_idea }
				remove_ideas = GER_catholic_resistance_idea
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = FRA_failed_operation_eulen
			}
			else = {
				add_stability = 0.05
				add_war_support = 0.05
				add_political_power = 100
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = FRA_blocks_operation_eulen
			}
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = FRA_road_to_war
		icon = GFX_focus_focus_fra_revolution_utmost
		cost = 6

		relative_position_id = FRA_vanguard_of_the_revolution
		x = 13
		y = 0

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_road_to_war"
			add_war_support = 0.10
			add_named_threat = {
				threat = 2
				name = FRA_rearmament_threat
			}
			custom_effect_tooltip = tooltip_white_line
			add_timed_idea = { idea = FRA_to_war_idea days = 500 }
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = FRA_demand_haute_savoie
		icon = GFX_goal_FRA_savoie
		cost = 2

		relative_position_id = FRA_road_to_war
		x = 1
		y = 2

		available = {
			is_subject = no
			has_global_flag = can_demand_romandy
			can_declare_war_on = SWI
			SWI = { owns_state = 760 }
		}

		prerequisite = {
			focus = FRA_road_to_war
		}

		bypass = {
			OR = {
				owns_state = 760
				NOT = { can_declare_war_on = SWI }
				SWI = { has_socialist_government = yes }
			}
		}

		will_lead_to_war_with = GER
		will_lead_to_war_with = SWI
		will_lead_to_war_with = AUS

		ai_will_do = { factor = 1000 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_demand_haute_savoie"
			country_event = prewar.7
			add_named_threat = {
				threat = 7
				name = SWI_haute_savoie_threat
			}
			custom_effect_tooltip = SWI_romandie_confrontation
		}
	}

	focus = {
		id = FRA_renseignements_generaux
		icon = GFX_focus_generic_secret_service_agency
		cost = 6

		relative_position_id = FRA_road_to_war
		x = 0
		y = 1

		ai_will_do = { factor = 70 }
		prerequisite = {
			focus = FRA_road_to_war
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_renseignements_generaux"
			if = {
				limit = { has_dlc_lar = yes }
				set_temp_variable = { upgrades = 3 }
				if = {
					limit = { has_intelligence_agency = no }
					create_intelligence_agency = yes
					subtract_from_temp_variable = { upgrades = 1 }
				}
				if = {
					limit = {
						NOT = { has_done_agency_upgrade = upgrade_form_department }
						check_variable = { upgrades > 0 }
					}
					upgrade_intelligence_agency = upgrade_form_department
					subtract_from_temp_variable = { upgrades = 1 }
				}
				if = {
					limit = {
						NOT = { has_done_agency_upgrade = upgrade_decryption_boost }
						check_variable = { upgrades > 0 }
					}
					upgrade_intelligence_agency = upgrade_decryption_boost
					subtract_from_temp_variable = { upgrades = 1 }
				}
				else_if = {
					limit = {
						NOT = { has_done_agency_upgrade = upgrade_decryption_boost_2 }
						check_variable = { upgrades > 0 }
					}
					upgrade_intelligence_agency = upgrade_decryption_boost_2
					subtract_from_temp_variable = { upgrades = 1 }
				}
				if = {
					limit = {
						NOT = { has_done_agency_upgrade = upgrade_crypto_strength }
						check_variable = { upgrades > 0 }
					}
					upgrade_intelligence_agency = upgrade_crypto_strength
					subtract_from_temp_variable = { upgrades = 1 }
				}
				else_if = {
					limit = {
						NOT = { has_done_agency_upgrade = upgrade_crypto_strength_2 }
						check_variable = { upgrades > 0 }
					}
					upgrade_intelligence_agency = upgrade_crypto_strength_2
					subtract_from_temp_variable = { upgrades = 1 }
				}
				if = {
					limit = { check_variable = { upgrades > 0 } }
					gain_random_agency_upgrade = yes
				}
				if = {
					limit = { check_variable = { upgrades > 1 } }
					gain_random_agency_upgrade = yes
				}
				if = {
					limit = { check_variable = { upgrades > 2 } }
					gain_random_agency_upgrade = yes
				}
				custom_effect_tooltip = tooltip_white_line
				add_ideas = FRA_renseignements_generaux_lar
			}
			else = {
				add_political_power = 50
				add_ideas = FRA_renseignements_generaux_non_lar
			}
			hidden_effect = {
				NFA = { country_event = { id = nfa.544 days = 5 } } #Wine-smuggling
			}
		}
	}

	focus = {
		id = FRA_military_buildup
		icon = GFX_goal_economic_control
		cost = 8

		relative_position_id = FRA_road_to_war
		x = -2
		y = 1

		prerequisite = {
			focus = FRA_road_to_war
		}

		ai_will_do = {
			factor = 70
			modifier = {
				factor = 100
				date > 1937.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_military_buildup"
			add_tech_bonus = {
				name = FRA_military_buildup
				bonus = 1
				uses = 1
				category = construction_tech
			}
			custom_effect_tooltip = tooltip_white_line
			every_core_state = {
				display_individual_scopes = yes
				random_select_amount = 4
				limit = {
					is_owned_and_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = { building = industrial_complex size > 1 include_locked = yes }
					is_metropolis_state = no
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = tooltip_white_line
			RUS = {
				country_event = { id = demrus.121 days = 50 random_days = 50 } #A Conspiracy to Destroy Germany
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = FRA_fortify_the_german_border
		icon = GFX_goal_generic_construct_military
		cost = 6

		relative_position_id = FRA_military_buildup
		x = 1
		y = 1

		ai_will_do = {
			factor = 1.5
			modifier = {
				factor = 500
				date >  1939.10.1
			}
		}
		prerequisite = {
			focus = FRA_military_buildup
		}

		available = {
			has_tech = basic_fortification_tech
			has_full_control_of_state = 27
			if = {
				limit = { owns_state = 760 }
				has_full_control_of_state = 760
			}
			has_full_control_of_state = 785
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_fortify_the_german_border"
			27 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border_country = GER
					}
				}
			}
			760 = {
				if = {
					limit = { is_owned_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border_country = GER
						}
					}
				}
			}
			785 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_extend_the_line
		icon = GFX_goal_nested_fortifications
		cost = 6

		relative_position_id = FRA_fortify_the_german_border
		x = 0
		y = 1

		ai_will_do = {
			factor = 1.5
			modifier = {
				factor = 500
				date >  1939.10.1
			}
		}
		prerequisite = {
			focus = FRA_fortify_the_german_border
		}

		available = {
			if = {
				limit = { owns_state = 29 }
				has_full_control_of_state = 29
			}
			else = {
				has_full_control_of_state = 17
			}
			has_full_control_of_state = 24
			has_full_control_of_state = 980
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_extend_the_line"
			if = {
				limit = { owns_state = 29 }
				29 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			else = {
				17 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			24 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}
			980 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_calibrate_the_economy
		icon = GFX_Socialist_Law
		cost = 8

		relative_position_id = FRA_military_buildup
		x = -1
		y = 1

		ai_will_do = {
			factor = 70
			modifier = {
				factor = 10
				OR = {
					date > 1937.6.1
					has_war = yes
				}
			}
			modifier = {
				factor = 10
				OR = {
					date > 1938.6.1
					has_war = yes
				}
			}
		}
		prerequisite = {
			focus = FRA_military_buildup
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_calibrate_the_economy"
			add_stability = 0.05
			add_political_power = 50
			custom_effect_tooltip = tooltip_white_line
			add_timed_idea = { idea = FRA_calibrate_the_economy_idea days = 500 }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = FRA_synthetic_chemistry
		icon = GFX_focus_GER_factories_for_resources
		cost = 10

		relative_position_id = FRA_calibrate_the_economy
		x = 0
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 10
				threat > 0.7
			}
			modifier = {
				factor = 10
				has_war = yes
			}
		}
		prerequisite = {
			focus = FRA_calibrate_the_economy
		}
		available = {
			has_tech = synth_oil_experiments
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_synthetic_chemistry"
			add_one_random_synthetic_refinery = yes
			add_one_random_synthetic_refinery = yes
			custom_effect_tooltip = tooltip_white_line
			modify_building_resources = {
				building = synthetic_refinery
				resource = rubber
				amount = 3
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_synthetic_chemistry
				bonus = 1
				uses = 2
				category = synth_resources
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = FRA_industrial_mobilisation
		icon = GFX_focus_GER_prioritize_the_four_year_plan
		cost = 8

		relative_position_id = FRA_vanguard_of_the_revolution
		x = 1
		y = 3

		ai_will_do = { factor = 70 }
		prerequisite = {
			focus = FRA_curie_research_institute
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_industrial_mobilisation"
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_military_science
		icon = GFX_goal_military_research
		cost = 6

		relative_position_id = FRA_industrial_mobilisation
		x = 0
		y = 2

		ai_will_do = { factor = 3 }
		prerequisite = {
			focus = FRA_industrial_mobilisation
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_military_science"
			add_tech_bonus = {
				name = FRA_military_science
				bonus = 1
				uses = 2
				category = artillery
				category = infantry_weapons
				category = cat_mechanized_equipment
				category = naval_equipment
				category = air_equipment
			}
			add_doctrine_cost_reduction = {
				name = FRA_military_science
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = FRA_electric_machines
		icon = GFX_goal_GER_Zuse_Computer
		cost = 8

		relative_position_id = FRA_industrial_mobilisation
		x = 1
		y = 1

		ai_will_do = { factor = 3 }
		prerequisite = {
			focus = FRA_industrial_mobilisation
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_electric_machines"
			add_tech_bonus = {
				name = FRA_electric_machines
				bonus = 1.0
				uses = 1
				category = electronics
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_electric_machines
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = electronics
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = FRA_damocles
		icon = GFX_focus_generic_nuclear_development
		cost = 8

		relative_position_id = FRA_vanguard_of_the_revolution
		x = -1
		y = 3

		ai_will_do = { factor = 10 }
		available = {
			is_in_faction_with = ENG
			count_triggers = {
				amount = 3
				is_in_faction_with = AST
				is_in_faction_with = CAN
				AND = {
					is_in_faction_with = SRI
					custom_trigger_tooltip = {
						tooltip = SRI_italy_unified_flag
						SRI = { has_country_flag = SRI_italy_unified_flag }
					}
				}
				AND = {
					is_in_faction_with = CSA
					has_global_flag = USA_civil_war_over_flag
				}
			}
		}
		bypass = {
			has_global_flag = damocles_project_active
		}
		prerequisite = {
			focus = FRA_curie_research_institute
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_damocles"
			ENG = { country_event = comfrance.25 }
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				FRA_damocles_effect = yes
				custom_effect_tooltip = tooltip_white_line
				ENG = { FRA_damocles_effect = yes }
			}
		}
	}

	focus = {
		id = FRA_zoe_project
		icon = GFX_focus_wonderweapons
		cost = 6

		relative_position_id = FRA_industrial_mobilisation
		x = -1
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 10
				date > 1940.4.3
			}
		}
		prerequisite = {
			focus = FRA_damocles
		}
		prerequisite = {
			focus = FRA_industrial_mobilisation
		}
		available = {
			NOT = { has_global_flag = damocles_project_active }
		}
		bypass_if_unavailable = yes
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_zoe_project"
			if = {
				limit = {
					NOT = { has_tech = atomic_research }
					NOT = { is_researching_technology = atomic_research }
				}
				add_tech_bonus = {
					name = FRA_zoe_project
					bonus = 0.5
					uses = 1
					technology = atomic_research
				}
			}
			else = {
				add_breakthrough_progress = {
					specialization = specialization_nuclear
					value = 0.5
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = FRA_take_down_germany
		icon = GFX_focus_GER_subdue_the_wehrmacht
		cost = 6

		relative_position_id = FRA_vanguard_of_the_revolution
		x = 6
		y = 3

		available = {
			second_weltkrieg_can_start = yes
			can_declare_war_on = GER
			is_faction_leader = yes
		}

		continue_if_invalid = yes

		cancel = {
			OR = {
				is_faction_leader = no
				has_country_flag = KR_copenhagen_conference_success
			}
		}

		bypass = {
			NOT = { can_declare_war_on = GER }
		}

		prerequisite = {
			focus = FRA_curie_research_institute
		}
		prerequisite = {
			focus = FRA_found_the_phalanstere_international
		}
		prerequisite = {
			focus = FRA_calibrate_the_economy
		}

		will_lead_to_war_with = GER
		will_lead_to_war_with = NFA
		will_lead_to_war_with = BEL
		will_lead_to_war_with = FLA
		will_lead_to_war_with = WAL

		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0
				date < 1939.6.1
			}
			modifier = {
				factor = 0
				NOT = { has_country_flag = fra_populace_demands_war }
				alliance_strength_ratio < 0.8
				GER = { alliance_strength_ratio > 1.5 }
				UKR = {
					is_in_faction_with = GER
					surrender_progress < 0.1
				}
			}
			modifier = {
				factor = 0
				NOT = { has_country_flag = fra_populace_demands_war }
				RUS = {
					is_faction_leader = yes
					has_socialist_government = no
					NOT = { focus_progress = { focus = RUS_preemptive_war progress > 0 } }
				}
			}
			modifier = {
				factor = 0
				NOT = { has_country_flag = fra_populace_demands_war }
				RUS = {
					exists = yes
					has_socialist_government = yes
					is_faction_leader = no #hasn't recovered from BM yet
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_take_down_germany"
			declare_war_on = {
				type = topple_government
				target = GER
			}
			if = {
				limit = {
					can_declare_war_on = BEL
					BEL = { is_in_faction_with = GER }
				}
				declare_war_on = {
					target = BEL
					type = annex_everything
				}
			}
			if = {
				limit = {
					can_declare_war_on = FLA
					FLA = { is_in_faction_with = GER }
				}
				declare_war_on = {
					target = FLA
					type = annex_everything
				}
			}
			if = {
				limit = {
					can_declare_war_on = WAL
					WAL = { is_in_faction_with = GER }
				}
				declare_war_on = {
					target = WAL
					type = annex_everything
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = FRA_flank_the_rhineland
		icon = GFX_focus_BEL_dyle_plan
		cost = 2

		relative_position_id = FRA_take_down_germany
		x = -2
		y = 1

		available = {
			is_subject = no
			OR = {
				has_war_with = GER
				NOT = { country_exists = GER }
			}
		}

		bypass = {
			OR = {
				NOT = { can_declare_war_on = HOL }
				HOL = { has_socialist_government = yes }
			}
			OR = {
				NOT = { can_declare_war_on = 6.owner }
				var:6.owner = { has_socialist_government = yes }
			}
			if = {
				limit = { var:34.owner = { NOT = { owns_state = 6 } } }
				OR = {
					NOT = { can_declare_war_on = 34.owner }
					var:34.owner = { has_socialist_government = yes }
				}
			}
		}

		prerequisite = {
			focus = FRA_take_down_germany
		}

		will_lead_to_war_with = HOL
		will_lead_to_war_with = BEL
		will_lead_to_war_with = FLA
		will_lead_to_war_with = WAL

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				can_declare_war_on = 6.owner
				var:6.owner = {
					has_socialist_government = no
					default_attack_AI_trigger = yes
				}
			}
			modifier = {
				factor = 0
				can_declare_war_on = 34.owner
				var:34.owner = {
					has_socialist_government = no
					default_attack_AI_trigger = yes
				}
			}
			modifier = {
				factor = 0
				can_declare_war_on = HOL
				HOL = {
					has_socialist_government = no
					default_attack_AI_trigger = yes
				}
			}
			modifier = {
				factor = 0
				NOT = { has_government = totalist }
				GER = {
					exists = yes
					is_subject = no
					has_socialist_government = no
				}
				OR = {
					BEL = { has_idea = generic_neutral_foreign_policy }
					HOL = { has_idea = generic_neutral_foreign_policy }
				}
			}
			modifier = {
				factor = 0
				has_war_with = GER
				OR = {
					is_ally_with = 42.controller #Palatinate
					is_ally_with = 780.controller #Baden
					is_ally_with = 781.controller #Western Rhineland
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_flank_the_rhineland"
			if = {
				limit = {
					can_declare_war_on = HOL
					HOL = { has_socialist_government = no }
				}
				create_wargoal = {
					type = topple_government
					target = HOL
				}
			}
			if = {
				limit = {
					can_declare_war_on = 6.owner
					var:6.owner = { has_socialist_government = no }
				}
				create_wargoal = {
					type = topple_government
					target = 6.owner
				}
			}
			if = {
				limit = {
					can_declare_war_on = 34.owner
					var:34.owner = {
						NOT = { owns_state = 6 } #WAL
						has_socialist_government = no
					}
				}
				create_wargoal = {
					type = topple_government
					target = 34.owner
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = FRA_the_red_danube
		icon = GFX_goal_FRA_liberate_AH
		cost = 4

		relative_position_id = FRA_take_down_germany
		x = 0
		y = 1

		available = {
			OR = {
				has_country_flag = FRA2_FOR_SORE
				has_country_flag = FRA2_FOR_JACO
				has_country_flag = FRA2_FOR_ANAR
			}
			is_subject = no
			NOT = { has_war_with = GER }
		}

		bypass = {
			OR = {
				NOT = { can_declare_war_on = AUS }
				AUS = { has_socialist_government = yes }
			}
			OR = {
				NOT = { can_declare_war_on = HUN }
				HUN = { has_socialist_government = yes }
			}
			OR = {
				NOT = { can_declare_war_on = CZE }
				CZE = { has_socialist_government = yes }
			}
			OR = {
				NOT = { can_declare_war_on = CRO }
				CRO = { has_socialist_government = yes }
			}
		}

		prerequisite = {
			focus = FRA_take_down_germany
		}

		will_lead_to_war_with = AUS
		will_lead_to_war_with = HUN

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				can_declare_war_on = AUS
				AUS = {
					has_socialist_government = no
					default_attack_AI_trigger = yes
				}
			}
			modifier = {
				factor = 0
				can_declare_war_on = HUN
				HUN = {
					has_socialist_government = no
					default_attack_AI_trigger = yes
				}
			}
			modifier = {
				factor = 0
				can_declare_war_on = CZE
				CZE = {
					has_socialist_government = no
					default_attack_AI_trigger = yes
				}
			}
			modifier = {
				factor = 0
				can_declare_war_on = CRO
				CRO = {
					has_socialist_government = no
					default_attack_AI_trigger = yes
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_the_red_danube"
			if = {
				limit = {
					can_declare_war_on = AUS
					AUS = { has_socialist_government = no }
				}
				create_wargoal = {
					type = topple_government
					target = AUS
				}
			}
			if = {
				limit = {
					can_declare_war_on = HUN
					HUN = {
						has_socialist_government = no
						NOT = { is_subject_of = AUS }
					}
				}
				create_wargoal = {
					type = topple_government
					target = HUN
				}
			}
			if = {
				limit = {
					can_declare_war_on = CZE
					CZE = {
						has_socialist_government = no
						NOT = { is_subject_of = AUS }
					}
				}
				create_wargoal = {
					type = topple_government
					target = CZE
				}
			}
			if = {
				limit = {
					can_declare_war_on = CRO
					CRO = {
						has_socialist_government = no
						NOT = { is_subject_of = AUS }
					}
				}
				create_wargoal = {
					type = topple_government
					target = CRO
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = FRA_liberate_iberia
		icon = GFX_goal_FRA_liberate_Iberia
		cost = 4

		relative_position_id = FRA_take_down_germany
		x = 2
		y = 1

		prerequisite = {
			focus = FRA_take_down_germany
		}
		available = {
			OR = {
				has_country_flag = FRA2_FOR_SORE
				has_country_flag = FRA2_FOR_JACO
				has_country_flag = FRA2_FOR_ANAR
			}
			is_subject = no
			NOT = { has_war_with = GER }
		}
		bypass = {
			OR = {
				NOT = { can_declare_war_on = SPA }
				SPA = { has_socialist_government = yes }
			}
			OR = {
				NOT = { can_declare_war_on = POR }
				POR = { has_socialist_government = yes }
			}
		}

		will_lead_to_war_with = SPA
		will_lead_to_war_with = POR

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				can_declare_war_on = SPA
				SPA = {
					has_socialist_government = no
					default_attack_AI_trigger = yes
				}
			}
			modifier = {
				factor = 0
				POR = {
					has_socialist_government = no
					default_attack_AI_trigger = yes
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_liberate_iberia"
			if = {
				limit = {
					can_declare_war_on = SPA
					SPA = { has_socialist_government = no }
				}
				create_wargoal = {
					target = SPA
					type = topple_government
				}
			}
			if = {
				limit = {
					can_declare_war_on = POR
					POR = { has_socialist_government = no }
				}
				create_wargoal = {
					target = POR
					type = topple_government
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = FRA_world_revolution
		icon = GFX_focus_ARG_no_gods_no_masters
		cost = 4

		relative_position_id = FRA_take_down_germany
		x = -1
		y = 2

		prerequisite = {
			focus = FRA_flank_the_rhineland
		}
		prerequisite = {
			focus = FRA_the_red_danube
		}
		prerequisite = {
			focus = FRA_liberate_iberia
		}
		available = {
			OR = {
				has_elections = no
				has_country_flag = FRA2_FOR_SORE
				has_country_flag = FRA2_FOR_JACO
			}
			4 = { is_controlled_by_ROOT_or_ally = yes } #Vienna
			43 = { is_controlled_by_ROOT_or_ally = yes } #Budapest
			2 = { is_controlled_by_ROOT_or_ally = yes } #Latium
			41 = { is_controlled_by_ROOT_or_ally = yes } #Madrid
		}

		mutually_exclusive = {
			focus = FRA_peaceful_revolution
			focus = FRA_european_revolution
		}

		ai_will_do = { factor = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_world_revolution"
			add_ideas = FRA_revolutionary_spirit
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = FRA_european_revolution
		icon = GFX_focus_ger_great_red_menace
		cost = 4

		relative_position_id = FRA_take_down_germany
		x = 1
		y = 2

		prerequisite = {
			focus = FRA_flank_the_rhineland
		}
		prerequisite = {
			focus = FRA_the_red_danube
		}
		prerequisite = {
			focus = FRA_liberate_iberia
		}
		available = {
			has_country_flag = FRA2_FOR_ANAR
			4 = { is_controlled_by_ROOT_or_ally = yes } #Vienna
			43 = { is_controlled_by_ROOT_or_ally = yes } #Budapest
			2 = { is_controlled_by_ROOT_or_ally = yes } #Latium
			41 = { is_controlled_by_ROOT_or_ally = yes } #Madrid
		}

		mutually_exclusive = {
			focus = FRA_world_revolution
			focus = FRA_peaceful_revolution
		}

		ai_will_do = { factor = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_european_revolution"
			unlock_decision_category_tooltip = FRA_liberate_europe_category
		}
	}

	focus = {
		id = FRA_peaceful_revolution
		icon = GFX_focus_SWE_refuge_from_war
		cost = 6

		relative_position_id = FRA_take_down_germany
		x = 3
		y = 2

		prerequisite = {
			focus = FRA_take_down_germany
		}
		available = {
			has_country_flag = FRA2_FOR_TRAV
			has_war = no
		}

		mutually_exclusive = {
			focus = FRA_world_revolution
			focus = FRA_european_revolution
		}

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_peaceful_revolution"
			add_ideas = FRA_peaceful_revolution_idea
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = FRA_the_congress_of_the_internationale
		icon = GFX_goal_FRA_Internationale_Congress
		cost = 0

		relative_position_id = FRA_vanguard_of_the_revolution
		x = 6
		y = 0

		available = {
			hidden_trigger = { always = no }
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_the_congress_of_the_internationale"
			custom_effect_tooltip = unlock_focuses
		}
	}

	focus = {
		id = FRA_mission_to_india
		icon = GFX_goal_india_commune
		cost = 4
		dynamic = yes

		relative_position_id = FRA_the_congress_of_the_internationale
		x = -2
		y = 1

		prerequisite = {
			focus = FRA_the_congress_of_the_internationale
		}
		available = {
			has_country_flag = FRA_support_bharatiya
			country_exists = HND
			HND = {
				has_socialist_government = yes
			}
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_mission_to_india"
			HND = {
				country_event = comfrance.62
			}
		}
	}

	focus = {
		id = FRA_arab_committee
		icon = GFX_goal_INS_focus_islamic_socialism
		cost = 5

		relative_position_id = FRA_the_congress_of_the_internationale
		x = -1
		y = 2

		prerequisite = {
			focus = FRA_the_congress_of_the_internationale
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_arab_committee"
			add_political_power = 60
			ENG = {
				country_event = { id = comfrance.64 days = 2 }
			}
			every_other_country = {
				limit = {
					OR = {
						tag = NFA
						tag = OTT
						tag = GER
						AND = {
							original_tag = SPA
							owns_state = 290
						}
					}
				}
				country_event = { id = comfrance.63 days = 2 }
			}
		}
	}

	focus = {
		id = FRA_found_the_phalanstere_international
		icon = GFX_goal_FRA_phalanstere
		cost = 8

		relative_position_id = FRA_the_congress_of_the_internationale
		x = 0
		y = 1

		prerequisite = {
			focus = FRA_the_congress_of_the_internationale
		}

		available = {
			is_faction_leader = yes
		}

		ai_will_do = { factor = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_found_the_phalanstere_international"
			set_global_flag = FRA_created_phalanstere
			hidden_effect = {
				create_economic_sphere = yes
				var:economic_sphere = {
					set_character_name = INT_phalanstere
					var:desc = { set_character_name = KR_phalanstere_desc }
					var:icon = { set_character_name = "GFX_goal_FRA_phalanstere" }
					set_variable = { red = 0.238 }
					set_variable = { green = 0.321 }
					set_variable = { blue = 0.549 }
				}
			}
			FRA_add_to_phalanstere = yes
			add_tech_bonus = {
				name = FRA_found_the_phalanstere_international
				bonus = 1
				uses = 1
				category = construction_tech
			}
			every_other_country = {
				display_individual_scopes = yes
				limit = {
					has_socialist_government = yes
					NOT = { has_war_with = ROOT }
				}
				country_event = comfrance.127
			}
			hidden_effect = {
				ENG = { country_event = { id = comfrance.128 days = 10 } }
				SRI = { country_event = { id = comfrance.128 days = 10 } }
				HND = { country_event = { id = comfrance.128 days = 10 } }
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = FRA_working_women
		icon = GFX_focus_ARG_women_in_industry
		cost = 5

		relative_position_id = FRA_the_congress_of_the_internationale
		x = 1
		y = 2

		prerequisite = {
			focus = FRA_the_congress_of_the_internationale
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_working_women"
			add_ideas = FRA_working_women_idea
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = FRA_international_avant_garde
		icon = GFX_goal_art_avantgarde
		cost = 5

		relative_position_id = FRA_the_congress_of_the_internationale
		x = 2
		y = 1

		prerequisite = {
			focus = FRA_the_congress_of_the_internationale
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_international_avant_garde"
			add_ideas = FRA_international_avant_garde_idea
			ENG = {
				country_event = comfrance.165
			}
			hidden_effect = {
				country_event = { id = comfrance.164 days = 15 random_days = 30 }
				NFA = {
					country_event = { id = nfa.505 days = 3 } #Académie Française revolted by such acts
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	### New Military Tree ###

	focus = {
		id = FRA_integrate_the_corps_francs
		icon = GFX_goal_integrate_the_militia
		cost = 7

		x = 3
		y = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_integrate_the_corps_francs"
			army_experience = 20
			add_doctrine_cost_reduction = {
				name = FRA_integrate_the_corps_francs
				cost_reduction = 0.75
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = tech_assault_battalion_effect
			hidden_effect = {
				set_technology = { tech_assault_battalion = 1 popup = no }
			}
		}
	}
	focus = {
		id = FRA_the_riflemans_friend
		icon = GFX_focus_generic_military_equipment
		cost = 7

		relative_position_id = FRA_integrate_the_corps_francs
		x = 2
		y = 0

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_the_riflemans_friend"
			add_one_random_military_factory = yes
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_the_riflemans_friend
				bonus = 0.75
				uses = 2
				category = infantry_weapons
			}
		}
	}
	focus = {
		id = FRA_eyes_on_the_ligne_bleue
		icon = GFX_focus_AUS_osterreichische_gebirgsjager
		cost = 7

		relative_position_id = FRA_the_riflemans_friend
		x = 2
		y = 0

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_eyes_on_the_ligne_bleue"
			army_experience = 20
			if = {
				limit = { has_dlc_aat = yes }
				add_tech_bonus = {
					name = FRA_eyes_on_the_ligne_bleue
					bonus = 1
					uses = 1
					category = mountaineers_tech
				}
				add_doctrine_cost_reduction = {
					name = FRA_eyes_on_the_ligne_bleue
					cost_reduction = 0.5
					uses = 1
					category = cat_mountaineers_doctrine
				}
			}
			else = {
				add_tech_bonus = {
					name = FRA_eyes_on_the_ligne_bleue
					bonus = 0.75
					uses = 2
					category = mountaineers_tech
				}
			}
			custom_effect_tooltip = tooltip_white_line
			enable_tech_ski_infantry = yes
		}
	}
	focus = {
		id = FRA_reform_the_high_command
		icon = GFX_goal_FRA_army
		cost = 7

		prerequisite = {
			focus = FRA_integrate_the_corps_francs
		}
		prerequisite = {
			focus = FRA_the_riflemans_friend
		}
		prerequisite = {
			focus = FRA_eyes_on_the_ligne_bleue
		}

		relative_position_id = FRA_the_riflemans_friend
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_reform_the_high_command"
			add_war_support = 0.05
			custom_effect_tooltip = tooltip_white_line
			add_dynamic_modifier = { modifier = FRA_armee_federale_modifier }
			custom_effect_tooltip = tooltip_white_line
			enable_tech_masterful_blitz = yes
		}
	}
	focus = {
		id = FRA_all_for_the_revolution
		icon = GFX_focus_SOV_builder_of_the_red_army
		cost = 7

		available = {
			has_country_flag = ARMY_SORE
		}
		prerequisite = {
			focus = FRA_reform_the_high_command
		}
		mutually_exclusive = {
			focus = FRA_supremacy_of_movement
			focus = FRA_principe_de_concentration
			focus = FRA_the_methodical_war
		}

		relative_position_id = FRA_reform_the_high_command
		x = -5
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_all_for_the_revolution"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_army_org_factor = 0.1
				tooltip = army_org_factor_tooltip
			}
			add_to_variable = {
				FRA_af_army_morale_factor = 0.1
				tooltip = army_morale_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = FRA_all_for_the_revolution
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = tooltip_adds_extra_effects_to_foci
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_the_modern_comrade_soldier
			}
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_corps_du_genie_militaire
			}
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_rapid_response_detachments
			}
		}
	}
	focus = {
		id = FRA_our_comrades_fight_too
		icon = GFX_goal_generic_solidarity
		cost = 7

		prerequisite = {
			focus = FRA_all_for_the_revolution
		}
		mutually_exclusive = {
			focus = FRA_levee_en_masse
		}

		relative_position_id = FRA_all_for_the_revolution
		x = -1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_our_comrades_fight_too"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_weekly_manpower = 3000
				tooltip = weekly_manpower_tooltip
			}
			add_to_variable = {
				FRA_af_modifier_army_sub_unit_militia_attack_factor = 0.1
				tooltip = modifier_army_sub_unit_militia_attack_factor_tooltip
			}
			add_to_variable = {
				FRA_af_modifier_army_sub_unit_militia_defence_factor = 0.1
				tooltip = modifier_army_sub_unit_militia_defence_factor_tooltip
			}
			add_to_variable = {
				FRA_af_modifier_army_sub_unit_militia_max_org_factor = 0.1
				tooltip = modifier_army_sub_unit_militia_max_org_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = tech_militias_effect
			hidden_effect = {
				set_technology = { tech_militias = 1 popup = no }
			}
			custom_effect_tooltip = tooltip_white_line
			custom_override_tooltip = {
				tooltip = {
					localization_key = FRA_create_international_brigade_template
					NAME = "Volontaires Internationaux"
				}
				if = {
					limit = { has_template = "Volontaires Internationaux" }
					delete_unit_template_and_units = { division_template = "Volontaires Internationaux" disband = yes } #no cheating
				}
				division_template = {
					name = "Volontaires Internationaux"
					division_names_group = FRA_MIL_02
					template_counter = 68
					role = infantry
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
						militia = { x = 2 y = 0 }
						militia = { x = 2 y = 1 }
						militia = { x = 2 y = 2 }
					}
					support = {
						assault_battalion = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
			}
			custom_effect_tooltip = tooltip_white_line
			random_controlled_state = {
				prioritize = { 16 }
				limit = { valid_state_for_spawning_friendly_unit = yes }
				custom_override_tooltip = {
					tooltip = {
						localization_key = tooltip_spawn_units
						COUNT = 8
						TYPE = "Volontaires Internationaux"
					}
					create_unit = {
						division = "division_template = \"Volontaires Internationaux\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
						owner = ROOT
						count = 8
					}
				}
			}
		}
	}
	focus = {
		id = FRA_levee_en_masse
		icon = GFX_focus_generic_spur_communist_revolutions
		cost = 7

		prerequisite = {
			focus = FRA_all_for_the_revolution
		}
		mutually_exclusive = {
			focus = FRA_our_comrades_fight_too
		}

		relative_position_id = FRA_all_for_the_revolution
		x = 1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_levee_en_masse"
			add_manpower = 50000
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_conscription = 0.015
				tooltip = conscription_tooltip
			}
			add_to_variable = {
				FRA_af_mobilization_speed = 0.15
				tooltip = mobilization_speed_tooltip
			}
		}
	}
	focus = {
		id = FRA_the_methodical_war
		icon = GFX_focus_BEL_legacy_of_the_great_war
		cost = 7

		available = {
			has_country_flag = ARMY_JACO
		}
		prerequisite = {
			focus = FRA_reform_the_high_command
		}
		mutually_exclusive = {
			focus = FRA_supremacy_of_movement
			focus = FRA_principe_de_concentration
			focus = FRA_all_for_the_revolution
		}

		relative_position_id = FRA_reform_the_high_command
		x = -2
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_the_methodical_war"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_max_planning = 0.25
				tooltip = max_planning_tooltip
			}
			add_to_variable = {
				FRA_af_planning_speed = -0.4
				tooltip = planning_speed_tooltip
			}
			add_to_variable = {
				FRA_af_max_command_power = 40
				tooltip = max_command_power_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = FRA_the_methodical_war
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = tooltip_adds_extra_effects_to_foci
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_expand_the_fusiliers
			}
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_corps_francs_hunters
			}
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_deepen_the_fog_of_war
			}
		}
	}
	focus = {
		id = FRA_an_armys_stomach
		icon = GFX_focus_generic_reinforcing_the_supply_network
		cost = 7

		prerequisite = {
			focus = FRA_the_methodical_war
		}

		relative_position_id = FRA_the_methodical_war
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_an_armys_stomach"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_supply_factor = 0.15
				tooltip = supply_factor_tooltip
			}
			add_to_variable = {
				FRA_af_max_dig_in = 5
				tooltip = max_dig_in_tooltip
			}
			add_to_variable = {
				FRA_af_dig_in_speed_factor = 0.15
				tooltip = dig_in_speed_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_an_armys_stomach
				ahead_reduction = 1.5
				bonus = 0.5
				uses = 1
				category = train_tech
			}
		}
	}
	focus = {
		id = FRA_principe_de_concentration
		icon = GFX_focus_SWE_let_fly_all_guns
		cost = 7

		available = {
			has_country_flag = ARMY_TRAV
		}
		prerequisite = {
			focus = FRA_reform_the_high_command
		}
		mutually_exclusive = {
			focus = FRA_supremacy_of_movement
			focus = FRA_the_methodical_war
			focus = FRA_all_for_the_revolution
		}

		relative_position_id = FRA_reform_the_high_command
		x = 2
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_principe_de_concentration"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_army_artillery_attack_factor = 0.1
				tooltip = army_artillery_attack_factor_tooltip
			}
			add_to_variable = {
				FRA_af_army_artillery_defence_factor = 0.1
				tooltip = army_artillery_defence_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = FRA_principe_de_concentration
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = tooltip_adds_extra_effects_to_foci
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_legacy_of_the_grande_batterie
			}
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_precise_fire_control
			}
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_dual_purpose_howitzers
			}
		}
	}
	focus = {
		id = FRA_aero_terrestrial_integration
		icon = GFX_focus_generic_armored_air_support
		cost = 7

		prerequisite = {
			focus = FRA_principe_de_concentration
		}

		relative_position_id = FRA_principe_de_concentration
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_aero_terrestrial_integration"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_initiative_factor = 0.02
				tooltip = initiative_factor_tooltip
			}
			add_to_variable = {
				FRA_af_coordination_bonus = 0.05
				tooltip = coordination_bonus_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			enable_tech_strengthened_support_companies = yes
		}
	}
	focus = {
		id = FRA_supremacy_of_movement
		icon = GFX_focus_generic_tankette
		cost = 7

		available = {
			has_country_flag = ARMY_ANAR
		}
		prerequisite = {
			focus = FRA_reform_the_high_command
		}
		mutually_exclusive = {
			focus = FRA_principe_de_concentration
			focus = FRA_the_methodical_war
			focus = FRA_all_for_the_revolution
		}

		relative_position_id = FRA_reform_the_high_command
		x = 5
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_supremacy_of_movement"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_army_speed_factor = 0.1
				tooltip = army_speed_factor_tooltip
			}
			add_to_variable = {
				FRA_af_org_loss_when_moving = -0.2
				tooltip = org_loss_when_moving_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = FRA_supremacy_of_movement
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = tooltip_adds_extra_effects_to_foci
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_comrade_estiennes_heritage
			}
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_the_battlefields_new_queen
			}
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_mobile_fortresses
			}
			custom_effect_tooltip = {
				localization_key = tooltip_yellow_text
				TEXT = FRA_overwhelming_firepower
			}
		}
	}
	focus = {
		id = FRA_la_petite_reine
		icon = GFX_focus_SWE_bicycle
		cost = 7

		prerequisite = {
			focus = FRA_supremacy_of_movement
		}
		mutually_exclusive = {
			focus = FRA_overrun_capitals_front_lines
		}

		relative_position_id = FRA_supremacy_of_movement
		x = -1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_la_petite_reine"
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
			custom_effect_tooltip = tooltip_white_line
			set_technology = { bicycle_infantry = 1 popup = no }
		}
	}
	focus = {
		id = FRA_overrun_capitals_front_lines
		icon = GFX_goal_generic_mobile_trucks
		cost = 7

		prerequisite = {
			focus = FRA_supremacy_of_movement
		}
		mutually_exclusive = {
			focus = FRA_la_petite_reine
		}

		relative_position_id = FRA_supremacy_of_movement
		x = 1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_overrun_capitals_front_lines"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			if = {
				limit = { has_dlc_lar = yes }
				custom_override_tooltip = {
					tooltip = FRA_motor_production_bonus
					add_ideas = FRA_af_hidden_motor_production_bonus
				}
			}
			else = {
				custom_override_tooltip = {
					tooltip = FRA_motor_production_bonus_no_lar
					add_ideas = FRA_af_hidden_motor_production_bonus_no_lar
				}
			}
		}
	}
	focus = {
		id = FRA_the_modern_comrade_soldier
		icon = GFX_goal_RUS_socialist_lone_warrior
		cost = 7

		prerequisite = {
			focus = FRA_supremacy_of_movement
			focus = FRA_principe_de_concentration
			focus = FRA_the_methodical_war
			focus = FRA_all_for_the_revolution
		}

		relative_position_id = FRA_reform_the_high_command
		x = -3
		y = 3

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_the_modern_comrade_soldier"
			army_experience = 50
			add_command_power = 25
			custom_effect_tooltip = tooltip_white_line
			every_army_leader = {
				display_individual_scopes = yes
				random_select_amount = 4
				limit = {
					is_field_marshal = no
					NOT = { has_trait = RUS_red_army_trait } #Tukhachevsky
					NOT = { has_trait = INT_polish_exile_trait } #Rokossowski
				}
				add_max_trait = 1
			}
			if = {
				limit = { has_completed_focus = FRA_all_for_the_revolution }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_all_for_the_revolution
				}
				enable_tech_forest_warfare = yes
				enable_tech_urban_warfare = yes
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_the_methodical_war }
					NOT = { has_completed_focus = FRA_principe_de_concentration }
					NOT = { has_completed_focus = FRA_supremacy_of_movement }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_all_for_the_revolution
				}
				enable_tech_forest_warfare = yes
				enable_tech_urban_warfare = yes
			}
		}
	}
	focus = {
		id = FRA_expand_the_fusiliers
		icon = GFX_focus_eng_special_air_service
		cost = 7

		prerequisite = {
			focus = FRA_the_modern_comrade_soldier
		}

		relative_position_id = FRA_the_modern_comrade_soldier
		x = -1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_expand_the_fusiliers"
			army_experience = 20
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_modifier_army_sub_unit_marines_max_org_factor = 0.05
				tooltip = modifier_army_sub_unit_marines_max_org_factor_tooltip
			}
			add_to_variable = {
				FRA_af_modifier_army_sub_unit_mountaineers_max_org_factor = 0.05
				tooltip = modifier_army_sub_unit_mountaineers_max_org_factor_tooltip
			}
			add_to_variable = {
				FRA_af_modifier_army_sub_unit_paratrooper_max_org_factor = 0.05
				tooltip = modifier_army_sub_unit_paratrooper_max_org_factor_tooltip
			}
			add_to_variable = {
				FRA_af_special_forces_attack_factor = 0.05
				tooltip = special_forces_attack_factor_tooltip
			}
			add_to_variable = {
				FRA_af_special_forces_defence_factor = 0.05
				tooltip = special_forces_defence_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_aat = no }
				add_tech_bonus = {
					name = FRA_expand_the_fusiliers
					bonus = 1
					uses = 3
					category = cat_special_forces_generic
				}
			}
			else = {
				add_potential_special_forces_tree = yes
			}
			if = {
				limit = { has_completed_focus = FRA_the_methodical_war }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_the_methodical_war
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				add_to_variable = {
					FRA_af_special_forces_cap = 0.1
					tooltip = special_forces_cap_tooltip
				}
				add_to_variable = {
					FRA_af_special_forces_defence_factor = 0.05
					tooltip = special_forces_defence_factor_tooltip
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_all_for_the_revolution }
					NOT = { has_completed_focus = FRA_principe_de_concentration }
					NOT = { has_completed_focus = FRA_supremacy_of_movement }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_the_methodical_war
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				effect_tooltip = {
					add_to_variable = {
						FRA_af_special_forces_cap = 0.1
						tooltip = special_forces_cap_tooltip
					}
					add_to_variable = {
						FRA_af_special_forces_defence_factor = 0.05
						tooltip = special_forces_defence_factor_tooltip
					}
				}
			}
		}
	}
	focus = {
		id = FRA_corps_francs_hunters
		icon = GFX_focus_prc_infiltration
		cost = 7

		prerequisite = {
			focus = FRA_expand_the_fusiliers
		}

		relative_position_id = FRA_expand_the_fusiliers
		x = -1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_corps_francs_hunters"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_special_forces_out_of_supply_factor = -0.1
				tooltip = special_forces_out_of_supply_factor_tooltip
			}
			add_to_variable = {
				FRA_af_extra_marine_supply_grace = 48
				tooltip = extra_marine_supply_grace_tooltip
			}
			add_to_variable = {
				FRA_af_extra_paratrooper_supply_grace = 48
				tooltip = extra_paratrooper_supply_grace_tooltip
			}
			if = {
				limit = { has_completed_focus = FRA_the_methodical_war }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_the_methodical_war
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				add_to_variable = {
					FRA_af_special_forces_cap = 0.05
					tooltip = special_forces_cap_tooltip
				}
				add_to_variable = {
					FRA_af_special_forces_out_of_supply_factor = -0.05
					tooltip = special_forces_out_of_supply_factor_tooltip
				}
				add_to_variable = {
					FRA_af_no_supply_grace = 24
					tooltip = no_supply_grace_tooltip
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_all_for_the_revolution }
					NOT = { has_completed_focus = FRA_principe_de_concentration }
					NOT = { has_completed_focus = FRA_supremacy_of_movement }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_the_methodical_war
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				effect_tooltip = {
					add_to_variable = {
						FRA_af_special_forces_cap = 0.05
						tooltip = special_forces_cap_tooltip
					}
					add_to_variable = {
						FRA_af_special_forces_out_of_supply_factor = -0.05
						tooltip = special_forces_out_of_supply_factor_tooltip
					}
					add_to_variable = {
						FRA_af_no_supply_grace = 24
						tooltip = no_supply_grace_tooltip
					}
				}
			}
		}
	}
	focus = {
		id = FRA_deepen_the_fog_of_war
		icon = GFX_focus_generic_radio_communication
		cost = 7

		prerequisite = {
			focus = FRA_expand_the_fusiliers
		}

		relative_position_id = FRA_expand_the_fusiliers
		x = 1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_deepen_the_fog_of_war"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_cas_damage_reduction = 0.1
				tooltip = cas_damage_reduction_tooltip
			}
			add_to_variable = {
				FRA_af_recon_factor = 0.25
				tooltip = recon_factor_tooltip
			}
			if = {
				limit = { has_completed_focus = FRA_the_methodical_war }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_the_methodical_war
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				add_to_variable = {
					FRA_af_coordination_bonus = 0.05
					tooltip = coordination_bonus_tooltip
				}
				add_to_variable = {
					FRA_af_special_forces_cap = 0.05
					tooltip = special_forces_cap_tooltip
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_all_for_the_revolution }
					NOT = { has_completed_focus = FRA_principe_de_concentration }
					NOT = { has_completed_focus = FRA_supremacy_of_movement }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_the_methodical_war
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				effect_tooltip = {
					add_to_variable = {
						FRA_af_coordination_bonus = 0.05
						tooltip = coordination_bonus_tooltip
					}
					add_to_variable = {
						FRA_af_special_forces_cap = 0.05
						tooltip = special_forces_cap_tooltip
					}
				}
			}
		}
	}
	focus = {
		id = FRA_chasseurs_portes
		icon = {
			trigger = { has_cosmetic_tag = FRA_alternate }
			value = GFX_goal_FRA_cavalry_alternate
		}
		icon = {
			trigger = { has_cosmetic_tag = FRA_red }
			value = GFX_goal_FRA_cavalry_red
		}
		icon = {
			trigger = { has_cosmetic_tag = FRA_neosocialist }
			value = GFX_goal_FRA_cavalry_neosocialist
		}
		icon = {
			trigger = { has_cosmetic_tag = FRA_sorelian }
			value = GFX_goal_FRA_cavalry_sorelian
		}
		icon = {
			value = GFX_goal_FRA_cavalry_default
		}
		cost = 7

		prerequisite = {
			focus = FRA_the_modern_comrade_soldier
		}

		relative_position_id = FRA_the_modern_comrade_soldier
		x = 1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_chasseurs_portes"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_cavalry_attack_factor = 0.05
				tooltip = cavalry_attack_factor_tooltip
			}
			add_to_variable = {
				FRA_af_cavalry_defence_factor = 0.05
				tooltip = cavalry_defence_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			enable_tech_semi_motorised_cav = yes
			custom_effect_tooltip = tooltip_white_line
			custom_override_tooltip = {
				tooltip = {
					localization_key = FRA_create_cavalry_template
					NAME = "Division de Chasseurs Portés"
				}
				if = {
					limit = { has_template = "Division de Chasseurs Portés" }
					delete_unit_template_and_units = { division_template = "Division de Chasseurs Portés" disband = yes } #no cheating
				}
				division_template = {
					name = "Division de Chasseurs Portés"
					division_names_group = FRA_CAV_01
					regiments = {
						cavalry = { x = 0 y = 0 }
						cavalry = { x = 0 y = 1 }
						cavalry = { x = 0 y = 2 }
						cavalry = { x = 1 y = 0 }
						cavalry = { x = 1 y = 1 }
						cavalry = { x = 1 y = 2 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
						recon = { x = 0 y = 2 }
					}
				}
			}
			custom_effect_tooltip = tooltip_white_line
			random_controlled_state = {
				prioritize = { 16 }
				limit = { valid_state_for_spawning_friendly_unit = yes }
				custom_override_tooltip = {
					tooltip = {
						localization_key = tooltip_spawn_units
						COUNT = 4
						TYPE = "Division de Chasseurs Portés"
					}
					create_unit = {
						division = "division_template = \"Division de Chasseurs Portés\" start_experience_factor = 0.8 start_equipment_factor = 1.0"
						owner = ROOT
						count = 4
					}
				}
			}
		}
	}
	focus = {
		id = FRA_corps_du_genie_militaire
		icon = GFX_goal_generic_construction2
		cost = 7

		prerequisite = {
			focus = FRA_the_modern_comrade_soldier
			focus = FRA_precise_fire_control
		}

		relative_position_id = FRA_the_modern_comrade_soldier
		x = 3
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_corps_du_genie_militaire"
			add_tech_bonus = {
				name = FRA_corps_du_genie_militaire
				bonus = 0.75
				uses = 2
				category = engineers_tech
			}
			custom_effect_tooltip = tooltip_white_line
			enable_tech_expanded_engineer_corps = yes
			if = {
				limit = { has_completed_focus = FRA_all_for_the_revolution }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_all_for_the_revolution
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				add_to_variable = {
					FRA_af_army_attack_speed_factor = 0.1
					tooltip = army_attack_speed_tooltip
				}
				add_to_variable = {
					FRA_af_org_loss_at_low_org_factor = -0.1
					tooltip = org_loss_at_low_org_factor_tooltip
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_the_methodical_war }
					NOT = { has_completed_focus = FRA_principe_de_concentration }
					NOT = { has_completed_focus = FRA_supremacy_of_movement }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_all_for_the_revolution
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				effect_tooltip = {
					add_to_variable = {
						FRA_af_army_attack_speed_factor = 0.1
						tooltip = army_attack_speed_tooltip
					}
					add_to_variable = {
						FRA_af_org_loss_at_low_org_factor = -0.1
						tooltip = org_loss_at_low_org_factor_tooltip
					}
				}
			}
		}
	}
	focus = {
		id = FRA_rapid_response_detachments
		icon = GFX_focus_generic_field_hostpital
		cost = 7

		prerequisite = {
			focus = FRA_corps_du_genie_militaire
		}

		relative_position_id = FRA_corps_du_genie_militaire
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_rapid_response_detachments"
			add_tech_bonus = {
				name = FRA_rapid_response_detachments
				bonus = 0.75
				uses = 2
				category = hospital_tech
			}
			custom_effect_tooltip = tooltip_white_line
			enable_tech_improved_field_hospitals = yes
			if = {
				limit = { has_completed_focus = FRA_all_for_the_revolution }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_all_for_the_revolution
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				add_to_variable = {
					FRA_af_initiative_factor = 0.04
					tooltip = initiative_factor_tooltip
				}
				add_to_variable = {
					FRA_af_land_reinforce_rate = 0.05
					tooltip = land_reinforce_rate_tooltip
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_the_methodical_war }
					NOT = { has_completed_focus = FRA_principe_de_concentration }
					NOT = { has_completed_focus = FRA_supremacy_of_movement }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_all_for_the_revolution
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				effect_tooltip = {
					add_to_variable = {
						FRA_af_initiative_factor = 0.04
						tooltip = initiative_factor_tooltip
					}
					add_to_variable = {
						FRA_af_land_reinforce_rate = 0.05
						tooltip = land_reinforce_rate_tooltip
					}
				}
			}
		}
	}
	focus = {
		id = FRA_legacy_of_the_grande_batterie
		icon = GFX_goal_generic_army_artillery
		cost = 7

		prerequisite = {
			focus = FRA_supremacy_of_movement
			focus = FRA_principe_de_concentration
			focus = FRA_the_methodical_war
			focus = FRA_all_for_the_revolution
		}

		relative_position_id = FRA_reform_the_high_command
		x = 0
		y = 2

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_legacy_of_the_grande_batterie"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			custom_override_tooltip = {
				tooltip = FRA_artillery_production_bonus
				add_ideas = FRA_af_hidden_artillery_production_bonus
			}
			if = {
				limit = { has_completed_focus = FRA_principe_de_concentration }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_principe_de_concentration
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				add_to_variable = {
					FRA_af_breakthrough_factor = 0.05
					tooltip = breakthrough_factor_tooltip
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_all_for_the_revolution }
					NOT = { has_completed_focus = FRA_the_methodical_war }
					NOT = { has_completed_focus = FRA_supremacy_of_movement }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_principe_de_concentration
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				effect_tooltip = {
					add_to_variable = {
						FRA_af_breakthrough_factor = 0.05
						tooltip = breakthrough_factor_tooltip
					}
				}
			}
		}
	}
	focus = {
		id = FRA_precise_fire_control
		icon = GFX_focus_generic_anti_tank_guns
		cost = 7

		prerequisite = {
			focus = FRA_legacy_of_the_grande_batterie
		}

		relative_position_id = FRA_legacy_of_the_grande_batterie
		x = -1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_precise_fire_control"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			add_to_variable = {
				FRA_af_army_artillery_attack_factor = 0.15
				tooltip = army_artillery_attack_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_precise_fire_control
				bonus = 0.75
				uses = 2
				category = artillery
			}
			if = {
				limit = { has_dlc_aat = yes }
				custom_effect_tooltip = tooltip_white_line
				mio:FRA_atelier_de_puteaux_organisation = {
					add_mio_funds = 500
					add_mio_funds_gain_factor = 0.1
					add_mio_research_bonus = 0.05
				}
			}
			if = {
				limit = { has_dlc_gtd = yes }
				custom_effect_tooltip = tooltip_white_line
				add_breakthrough_progress = {
					specialization = specialization_land
					value = 0.25
				}
			}
			if = {
				limit = { has_completed_focus = FRA_principe_de_concentration }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_principe_de_concentration
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				add_to_variable = {
					FRA_af_army_artillery_attack_factor = 0.05
					tooltip = army_artillery_attack_factor_tooltip
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_all_for_the_revolution }
					NOT = { has_completed_focus = FRA_the_methodical_war }
					NOT = { has_completed_focus = FRA_supremacy_of_movement }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_principe_de_concentration
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				effect_tooltip = {
					add_to_variable = {
						FRA_af_breakthrough_factor = 0.05
						tooltip = breakthrough_factor_tooltip
					}
				}
			}
		}
	}
	focus = {
		id = FRA_dual_purpose_howitzers
		icon = GFX_goal_generic_dual_purpose_guns
		cost = 7

		prerequisite = {
			focus = FRA_legacy_of_the_grande_batterie
		}

		relative_position_id = FRA_legacy_of_the_grande_batterie
		x = 1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_dual_purpose_howitzers"
			add_tech_bonus = {
				name = FRA_dual_purpose_howitzers
				ahead_reduction = 2
				bonus = 0.75
				uses = 2
				category = artillery
			}
			if = {
				limit = { has_dlc_aat = yes }
				custom_effect_tooltip = tooltip_white_line
				mio:FRA_atelier_de_puteaux_organisation = {
					add_mio_funds = 500
					add_mio_funds_gain_factor = 0.1
					add_mio_research_bonus = 0.05
				}
			}
			if = {
				limit = { has_dlc_gtd = yes }
				custom_effect_tooltip = tooltip_white_line
				add_breakthrough_progress = {
					specialization = specialization_land
					value = 0.25
				}
			}
			if = {
				limit = { has_completed_focus = FRA_principe_de_concentration }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_principe_de_concentration
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				add_to_variable = {
					FRA_af_army_artillery_defence_factor = 0.05
					tooltip = army_artillery_defence_factor_tooltip
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_all_for_the_revolution }
					NOT = { has_completed_focus = FRA_the_methodical_war }
					NOT = { has_completed_focus = FRA_supremacy_of_movement }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_principe_de_concentration
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				effect_tooltip = {
					add_to_variable = {
						FRA_af_breakthrough_factor = 0.05
						tooltip = breakthrough_factor_tooltip
					}
				}
			}
		}
	}
	focus = {
		id = FRA_comrade_estiennes_heritage
		icon = GFX_goal_doctrine_tank_warfare
		cost = 7

		prerequisite = {
			focus = FRA_supremacy_of_movement
			focus = FRA_principe_de_concentration
			focus = FRA_the_methodical_war
			focus = FRA_all_for_the_revolution
		}

		relative_position_id = FRA_reform_the_high_command
		x = 3
		y = 3

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_comrade_estiennes_heritage"
			add_tech_bonus = {
				name = FRA_comrade_estiennes_heritage
				bonus = 1
				uses = 1
				category = armor
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_military_factory = yes
			if = {
				limit = { has_dlc_nsb = yes }
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "FCM 36"
					type = light_tank_chassis_2
					design_team = mio:FRA_somua_organisation
					parent_version = 0
					modules = {
						main_armament_slot = tank_auto_cannon
						turret_type_slot = tank_light_one_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 2
						tank_nsb_armor_upgrade = 4
					}
				}
				create_equipment_variant = {
					name = "Chasseur de Char FCM 36"
					type = light_tank_destroyer_chassis_2
					design_team = mio:FRA_somua_organisation
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon
						turret_type_slot = tank_light_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 2
						tank_nsb_armor_upgrade = 4
					}
				}
			}
			if = {
				limit = { has_dlc_aat = yes }
				custom_effect_tooltip = tooltip_white_line
				mio:FRA_lorraine_dietrich_organisation = { add_mio_size = 1 }
			}
			if = {
				limit = { has_completed_focus = FRA_supremacy_of_movement }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_supremacy_of_movement
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				add_to_variable = {
					FRA_af_army_armor_attack_factor = 0.1
					tooltip = army_armor_attack_factor_tooltip
				}
				add_to_variable = {
					FRA_af_motorized_attack_factor = 0.05
					tooltip = motorized_attack_factor_tooltip
				}
				add_to_variable = {
					FRA_af_mechanized_attack_factor = 0.05
					tooltip = mechanized_attack_factor_tooltip
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_all_for_the_revolution }
					NOT = { has_completed_focus = FRA_the_methodical_war }
					NOT = { has_completed_focus = FRA_principe_de_concentration }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_supremacy_of_movement
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				effect_tooltip = {
					add_to_variable = {
						FRA_af_army_armor_attack_factor = 0.1
						tooltip = army_armor_attack_factor_tooltip
					}
					add_to_variable = {
						FRA_af_motorized_attack_factor = 0.05
						tooltip = motorized_attack_factor_tooltip
					}
					add_to_variable = {
						FRA_af_mechanized_attack_factor = 0.05
						tooltip = mechanized_attack_factor_tooltip
					}
				}
			}
		}
	}
	focus = {
		id = FRA_proletarian_knights
		icon = GFX_goal_generic_armored_cars
		cost = 7

		prerequisite = {
			focus = FRA_comrade_estiennes_heritage
		}

		relative_position_id = FRA_comrade_estiennes_heritage
		x = 1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_proletarian_knights"
			if = {
				limit = { has_dlc_lar = yes }
				add_tech_bonus = {
					name = FRA_proletarian_knights
					ahead_reduction = 1
					bonus = 1
					uses = 1
					category = cat_armored_cars
				}
				custom_effect_tooltip = tooltip_white_line
				enable_tech_armored_car_spearhead = yes
				custom_effect_tooltip = tooltip_white_line
				if = {
					limit = { has_dlc_aat = yes }
					mio:FRA_panhard_organisation = {
						add_mio_funds = 1000
						add_mio_funds_gain_factor = 0.2
						add_mio_research_bonus = 0.05
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = FRA_proletarian_knights
					bonus = 0.5
					uses = 2
					category = support_tech
				}
				add_doctrine_cost_reduction = {
					name = FRA_proletarian_knights
					cost_reduction = 0.5
					uses = 1
					category = land_doctrine
				}
			}
		}
	}
	focus = {
		id = FRA_chars_du_futur
		icon = GFX_goal_generic_heavy_armour_french
		cost = 7

		prerequisite = {
			focus = FRA_comrade_estiennes_heritage
		}
		prerequisite = {
			focus = FRA_dual_purpose_howitzers
		}

		relative_position_id = FRA_comrade_estiennes_heritage
		x = -1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_chars_du_futur"
			add_tech_bonus = {
				name = FRA_chars_du_futur
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_heavy_armor
			}
			if = {
				limit = { has_dlc_gtd = yes }
				custom_effect_tooltip = tooltip_white_line
				add_breakthrough_progress = {
					specialization = specialization_land
					value = 1
				}
			}
			if = {
				limit = { has_dlc_nsb = yes }
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "Lorraine B1"
					type = heavy_tank_chassis_1
					design_team = mio:FRA_famh_organisation
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon
						turret_type_slot = tank_heavy_three_man_tank_turret
						suspension_type_slot = tank_torsion_bar_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 10
						tank_nsb_armor_upgrade = 9
					}
				}
				create_equipment_variant = {
					name = "ARL 44"
					type = heavy_tank_chassis_2
					design_team = mio:FRA_famh_organisation
					parent_version = 0
					modules = {
						main_armament_slot = tank_heavy_cannon
						turret_type_slot = tank_heavy_three_man_tank_turret
						suspension_type_slot = tank_interleaved_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = smoke_launchers
						special_type_slot_3 = additional_machine_guns
					}
					upgrades = {
						tank_nsb_engine_upgrade = 8
						tank_nsb_armor_upgrade = 6
					}
				}
				create_equipment_variant = {
					name = "SOMUA M4"
					type = heavy_tank_chassis_3
					design_team = mio:FRA_famh_organisation
					parent_version = 0
					modules = {
						main_armament_slot = tank_heavy_cannon_2
						turret_type_slot = tank_heavy_three_man_tank_turret
						suspension_type_slot = tank_torsion_bar_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = sloped_armor
						special_type_slot_3 = smoke_launchers
					}
					upgrades = {
						tank_nsb_engine_upgrade = 8
						tank_nsb_armor_upgrade = 6
					}
				}
			}
			if = {
				limit = { has_dlc_aat = yes }
				custom_effect_tooltip = tooltip_white_line
				mio:FRA_famh_organisation = { add_mio_size = 1 }
			}
			custom_effect_tooltip = tooltip_white_line
			custom_override_tooltip = {
				tooltip = {
					localization_key = FRA_create_heavy_armour_template
					NAME = "Division Blindée"
				}
				if = {
					limit = { has_template = "Division Blindée" }
					delete_unit_template_and_units = { division_template = "Division Blindée" disband = yes } #no cheating
				}
				division_template = {
					name = "Division Blindée"
					division_names_group = FRA_ARM_01
					regiments = {
						heavy_armor = { x = 0 y = 0 }
						heavy_armor = { x = 0 y = 1 }
						heavy_armor = { x = 0 y = 2 }
						heavy_armor = { x = 0 y = 3 }
						motorized = { x = 2 y = 0 }
						motorized = { x = 2 y = 1 }
						motorized = { x = 2 y = 2 }
					}
					support = {
						mot_recon = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
					}
					priority = 2
				}
			}
			custom_effect_tooltip = tooltip_white_line
			random_controlled_state = {
				prioritize = { 16 }
				limit = { valid_state_for_spawning_friendly_unit = yes }
				custom_override_tooltip = {
					tooltip = {
						localization_key = tooltip_spawn_unit
						TYPE = "Division Blindée"
					}
					create_unit = {
						division = "division_template = \"Division Blindée\" start_experience_factor = 0.3 start_equipment_factor = 1.0"
						owner = ROOT
					}
				}
			}
		}
	}
	focus = {
		id = FRA_the_battlefields_new_queen
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		cost = 7

		prerequisite = {
			focus = FRA_comrade_estiennes_heritage
		}

		relative_position_id = FRA_comrade_estiennes_heritage
		x = 0
		y = 2

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_the_battlefields_new_queen"
			add_tech_bonus = {
				name = FRA_the_battlefields_new_queen
				bonus = 0.75
				uses = 2
				category = armor
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_military_factory = yes
			if = {
				limit = { has_dlc_gtd = yes }
				custom_effect_tooltip = tooltip_white_line
				add_breakthrough_progress = {
					specialization = specialization_land
					value = 0.5
				}
			}
			if = {
				limit = { has_dlc_nsb = yes }
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "AMC 35"
					type = medium_tank_chassis_1
					design_team = mio:FRA_somua_organisation
					parent_version = 0
					modules = {
						main_armament_slot = tank_small_cannon_2
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_christie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = sloped_armor
					}
					upgrades = {
						tank_nsb_engine_upgrade = 8
						tank_nsb_armor_upgrade = 2
					}
				}
				create_equipment_variant = {
					name = "SOMUA S35"
					type = medium_tank_chassis_2
					design_team = mio:FRA_somua_organisation
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_christie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = sloped_armor
					}
					upgrades = {
						tank_nsb_engine_upgrade = 10
						tank_nsb_armor_upgrade = 7
					}
				}
			}
			if = {
				limit = { has_dlc_aat = yes }
				custom_effect_tooltip = tooltip_white_line
				mio:FRA_somua_organisation = { add_mio_size = 1 }
				mio:FRA_de_dion_bouton_organisation = { add_mio_size = 1 }
			}
			if = {
				limit = { has_completed_focus = FRA_supremacy_of_movement }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_supremacy_of_movement
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				add_to_variable = {
					FRA_af_army_armor_defence_factor = 0.1
					tooltip = army_armor_defence_factor_tooltip
				}
				add_to_variable = {
					FRA_af_motorized_defence_factor = 0.05
					tooltip = motorized_defence_factor_tooltip
				}
				add_to_variable = {
					FRA_af_mechanized_defence_factor = 0.05
					tooltip = mechanized_defence_factor_tooltip
				}
				FRA_add_extra_basic_spg_variants = yes
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_all_for_the_revolution }
					NOT = { has_completed_focus = FRA_the_methodical_war }
					NOT = { has_completed_focus = FRA_principe_de_concentration }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_supremacy_of_movement
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				effect_tooltip = {
					add_to_variable = {
						FRA_af_army_armor_defence_factor = 0.1
						tooltip = army_armor_defence_factor_tooltip
					}
					add_to_variable = {
						FRA_af_motorized_defence_factor = 0.05
						tooltip = motorized_defence_factor_tooltip
					}
					add_to_variable = {
						FRA_af_mechanized_defence_factor = 0.05
						tooltip = mechanized_defence_factor_tooltip
					}
					FRA_add_extra_basic_spg_variants = yes
				}
			}
		}
	}
	focus = {
		id = FRA_mobile_fortresses
		icon = GFX_focus_generic_mass_production
		cost = 7

		prerequisite = {
			focus = FRA_the_battlefields_new_queen
		}
		mutually_exclusive = {
			focus = FRA_overwhelming_firepower
		}

		relative_position_id = FRA_the_battlefields_new_queen
		x = -1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_mobile_fortresses"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			custom_override_tooltip = {
				tooltip = FRA_armour_defence_bonus
				add_ideas = FRA_af_hidden_armour_defence_bonus
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_mobile_fortresses
				uses = 2
				bonus = 0.5
				category = motorized_equipment
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_military_factory = yes
			FRA_add_final_tank_variants = yes
			if = {
				limit = { has_completed_focus = FRA_supremacy_of_movement }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_supremacy_of_movement
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				custom_override_tooltip = {
					tooltip = FRA_armour_production_bonus
					add_ideas = FRA_af_hidden_armour_production_bonus
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_all_for_the_revolution }
					NOT = { has_completed_focus = FRA_the_methodical_war }
					NOT = { has_completed_focus = FRA_principe_de_concentration }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_supremacy_of_movement
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				custom_effect_tooltip = FRA_armour_production_bonus
			}
		}
	}
	focus = {
		id = FRA_overwhelming_firepower
		icon = GFX_focus_generic_tank_assault
		cost = 7

		prerequisite = {
			focus = FRA_the_battlefields_new_queen
		}
		mutually_exclusive = {
			focus = FRA_mobile_fortresses
		}

		relative_position_id = FRA_the_battlefields_new_queen
		x = 1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_overwhelming_firepower"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_federale_modifier
			}
			custom_override_tooltip = {
				tooltip = FRA_armour_breakthrough_bonus
				add_ideas = FRA_af_hidden_armour_breakthrough_bonus
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_overwhelming_firepower
				uses = 2
				bonus = 0.5
				category = motorized_equipment
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_military_factory = yes
			FRA_add_final_tank_variants = yes
			if = {
				limit = { has_completed_focus = FRA_supremacy_of_movement }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_extra_effect_from_focus_completion
					FOCUS = FRA_supremacy_of_movement
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				custom_override_tooltip = {
					tooltip = FRA_armour_production_bonus
					add_ideas = FRA_af_hidden_armour_production_bonus
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = FRA_all_for_the_revolution }
					NOT = { has_completed_focus = FRA_the_methodical_war }
					NOT = { has_completed_focus = FRA_principe_de_concentration }
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = tooltip_if_focus_completed
					FOCUS = FRA_supremacy_of_movement
				}
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_armee_federale_modifier
				}
				custom_effect_tooltip = FRA_armour_production_bonus
			}
		}
	}

	### Navy Tree ###
	focus = {
		id = FRA_restructure_the_marine_federale
		icon = GFX_goal_FRA_navy
		cost = 7

		x = 17
		y = 7

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_restructure_the_marine_federale"
			navy_experience = 50
			add_doctrine_cost_reduction = {
				name = FRA_restructure_the_marine_federale
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
			custom_effect_tooltip = tooltip_white_line
			add_dynamic_modifier = { modifier = FRA_marine_federale_modifier }
		}
	}

	focus = {
		id = FRA_shipbuilding_union_expertise
		icon = GFX_focus_generic_refit_civilian_ships
		cost = 7

		relative_position_id = FRA_restructure_the_marine_federale
		x = -4
		y = 1

		prerequisite = {
			focus = FRA_restructure_the_marine_federale
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_shipbuilding_union_expertise"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_marine_federale_modifier
			}
			add_to_variable = {
				FRA_mf_refit_ic_cost = -0.1
				tooltip = refit_ic_cost_tooltip
			}
			add_to_variable = {
				FRA_mf_refit_speed = 0.1
				tooltip = refit_speed_tooltip
			}
			add_to_variable = {
				FRA_mf_repair_speed_factor = 0.1
				tooltip = repair_speed_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_dockyard = yes
		}
	}

	focus = {
		id = FRA_expand_toulon_arsenal
		icon = GFX_focus_generic_mediterranean_sea_focus
		cost = 7

		relative_position_id = FRA_shipbuilding_union_expertise
		x = -1
		y = 1

		available = {
			controls_state = 21
		}
		prerequisite = {
			focus = FRA_shipbuilding_union_expertise
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_expand_toulon_arsenal"
			if = {
				limit = { 21 = { free_building_slots = { building = dockyard size > 2 include_locked = yes } } }
				21 = {
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						instant_build = yes
					}
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				add_one_random_dockyard = yes
				add_one_random_dockyard = yes
				add_one_random_dockyard = yes
			}
		}
	}

	focus = {
		id = FRA_refurbish_atlantic_bases
		icon = GFX_focus_generic_atlantic_coast
		cost = 7

		relative_position_id = FRA_shipbuilding_union_expertise
		x = 1
		y = 1

		available = {
			controls_state = 14
		}
		prerequisite = {
			focus = FRA_shipbuilding_union_expertise
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_refurbish_atlantic_bases"
			if = {
				limit = { 14 = { free_building_slots = { building = dockyard size > 2 include_locked = yes } } }
				14 = {
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						instant_build = yes
					}
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
				if = {
					limit = { controls_state = 983 }
					983 = {
						add_building_construction = {
							type = naval_base
							level = 2
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							instant_build = yes
						}
						add_building_construction = {
							type = coastal_bunker
							level = 1
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							instant_build = yes
						}
						add_building_construction = {
							type = anti_air_building
							level = 1
							instant_build = yes
						}
					}
				}
			}
			else = {
				add_one_random_dockyard = yes
				add_one_random_dockyard = yes
				add_one_random_dockyard = yes
			}
		}
	}

	focus = {
		id = FRA_red_fleet_old_school
		icon = GFX_goal_generic_sea_and_air
		cost = 7

		relative_position_id = FRA_restructure_the_marine_federale
		x = -2
		y = 1

		prerequisite = {
			focus = FRA_restructure_the_marine_federale
		}
		mutually_exclusive = {
			focus = FRA_the_aeronavales_day
			focus = FRA_meute_tactics
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_red_fleet_old_school"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_marine_federale_modifier
			}
			add_to_variable = {
				FRA_mf_navy_capital_ship_attack_factor = 0.05
				tooltip = navy_capital_ship_attack_factor_tooltip
			}
			custom_override_tooltip = {
				tooltip = FRA_capital_ship_production_bonus
				add_ideas = FRA_mf_hidden_capital_ship_production_bonus
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = FRA_red_fleet_old_school
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = FRA_the_aeronavales_day
		icon = GFX_goal_generic_air_naval_bomber2_new
		cost = 7

		relative_position_id = FRA_red_fleet_old_school
		x = 2
		y = 0

		prerequisite = {
			focus = FRA_restructure_the_marine_federale
		}
		mutually_exclusive = {
			focus = FRA_red_fleet_old_school
			focus = FRA_meute_tactics
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_the_aeronavales_day"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_marine_federale_modifier
			}
			add_to_variable = {
				FRA_mf_naval_strike_attack_factor = 0.05
				tooltip = naval_strike_attack_factor_tooltip
			}
			custom_override_tooltip = {
				tooltip = FRA_screen_ship_production_bonus
				add_ideas = FRA_mf_hidden_screen_ship_production_bonus
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = FRA_the_aeronavales_day
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = FRA_meute_tactics
		icon = GFX_goal_generic_navy_anti_submarine
		cost = 7

		relative_position_id = FRA_the_aeronavales_day
		x = 2
		y = 0

		prerequisite = {
			focus = FRA_restructure_the_marine_federale
		}
		mutually_exclusive = {
			focus = FRA_red_fleet_old_school
			focus = FRA_the_aeronavales_day
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_meute_tactics"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_marine_federale_modifier
			}
			add_to_variable = {
				FRA_mf_navy_submarine_attack_factor = 0.05
				tooltip = navy_submarine_attack_factor_tooltip
			}
			add_to_variable = {
				FRA_mf_naval_critical_score_chance_factor = 0.05
				tooltip = naval_critical_score_chance_factor_tooltip
			}
			add_to_variable = {
				FRA_mf_positioning = 0.1
				tooltip = positioning_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = FRA_meute_tactics
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = FRA_the_peoples_lance
		icon = GFX_focus_generic_cruiser_submarines
		cost = 7

		relative_position_id = FRA_the_aeronavales_day
		x = -1
		y = 1

		prerequisite = {
			focus = FRA_red_fleet_old_school
			focus = FRA_the_aeronavales_day
			focus = FRA_meute_tactics
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_the_peoples_lance"
			navy_experience = 15
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_the_peoples_lance
				bonus = 0.75
				uses = 2
				category = ss_tech
			}
			if = {
				limit = { has_dlc_mtg = yes }
				add_tech_bonus = {
					name = FRA_the_peoples_lance
					ahead_reduction = 1
					uses = 1
					technology = basic_submarine_snorkel
					technology = improved_submarine_snorkel
				}
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_dockyard = yes
		}
	}

	focus = {
		id = FRA_the_noose_around_capitals_neck
		icon = GFX_focus_generic_trade_interdiction
		cost = 7

		relative_position_id = FRA_the_peoples_lance
		x = -1
		y = 1

		prerequisite = {
			focus = FRA_the_peoples_lance
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_the_noose_around_capitals_neck"
			navy_experience = 15
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_marine_federale_modifier
			}
			add_to_variable = {
				FRA_mf_convoy_raiding_efficiency_factor = 0.1
				tooltip = convoy_raiding_efficiency_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_the_noose_around_capitals_neck
				bonus = 1
				uses = 1
				category = cl_tech
				category = ca_tech
			}
			if = {
				limit = { has_dlc_mtg = yes }
				add_tech_bonus = {
					name = FRA_the_noose_around_capitals_neck
					bonus = 0.75
					uses = 2
					category = ship_modules_tech
				}
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
		}
	}

	focus = {
		id = FRA_peoples_shield_and_broadside
		icon = GFX_focus_FIN_coastal_defense
		cost = 7

		relative_position_id = FRA_the_peoples_lance
		x = 0
		y = 2

		prerequisite = {
			focus = FRA_the_peoples_lance
			focus = FRA_chasseurs_tueurs_groups
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_peoples_shield_and_broadside"
			navy_experience = 15
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_marine_federale_modifier
			}
			add_to_variable = {
				FRA_mf_naval_hit_chance = 0.05
				tooltip = naval_hit_chance_tooltip
			}
			add_to_variable = {
				FRA_mf_navy_anti_air_attack_factor = 0.05
				tooltip = navy_anti_air_attack_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_mtg = yes }
				add_tech_bonus = {
					name = FRA_squadron_warfare
					bonus = 0.75
					uses = 2
					category = ship_modules_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = FRA_squadron_warfare
					bonus = 1
					uses = 1
					category = naval_equipment
				}
			}
		}
	}

	focus = {
		id = FRA_colonnes_de_neptune
		icon = GFX_goal_NFA_Troupes_de_Marine_Focus
		cost = 7

		relative_position_id = FRA_the_peoples_lance
		x = 1
		y = 1

		available = {
			has_tech = marines
		}
		prerequisite = {
			focus = FRA_the_peoples_lance
			focus = FRA_chasseurs_tueurs_groups
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_colonnes_de_neptune"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_marine_federale_modifier
			}
			add_to_variable = {
				FRA_mf_amphibious_invasion = 0.05
				tooltip = amphibious_invasion_tooltip
			}
			add_to_variable = {
				FRA_mf_naval_invasion_capacity = 10
				tooltip = naval_invasion_capacity_tooltip
			}
			add_to_variable = {
				FRA_mf_invasion_preparation = -0.1
				tooltip = invasion_preparation_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_aat = yes }
				add_tech_bonus = {
					name = FRA_colonnes_de_neptune
					bonus = 1
					uses = 1
					category = marine_tech
					category = tp_tech
				}
				add_doctrine_cost_reduction = {
					name = FRA_colonnes_de_neptune
					cost_reduction = 0.5
					uses = 1
					category = cat_marines_doctrine
				}
			}
			else = {
				add_tech_bonus = {
					name = FRA_colonnes_de_neptune
					bonus = 0.75
					uses = 2
					category = marine_tech
					category = tp_tech
				}
			}
			custom_effect_tooltip = tooltip_white_line
			hidden_effect = {
				if = {
					limit = { has_template = "Division de Fusiliers Marins" }
					delete_unit_template_and_units = { division_template = "Division de Fusiliers Marins" disband = yes } #no cheating
				}
			}
			if = {
				limit = { has_tech = special_forces_marines }
				custom_override_tooltip = {
					tooltip = {
						localization_key = FRA_create_marine_template_aat
						NAME = "Division de Fusiliers Marins"
					}
					division_template = {
						name = "Division de Fusiliers Marins"
						division_names_group = FRA_MAR_01
						regiments = {
							marine = { x = 0 y = 0 }
							marine = { x = 0 y = 1 }
							marine = { x = 0 y = 2 }
							marine = { x = 1 y = 0 }
							marine = { x = 1 y = 1 }
							marine = { x = 1 y = 2 }
						}
						support = {
							recon = { x = 0 y = 0 }
							pioneer_support = { x = 0 y = 1 }
							artillery = { x = 0 y = 2 }
						}
					}
				}
			}
			else = {
				custom_override_tooltip = {
					tooltip = {
						localization_key = FRA_create_marine_template
						NAME = "Division de Fusiliers Marins"
					}
					division_template = {
						name = "Division de Fusiliers Marins"
						division_names_group = FRA_MAR_01
						regiments = {
							marine = { x = 0 y = 0 }
							marine = { x = 0 y = 1 }
							marine = { x = 0 y = 2 }
							marine = { x = 1 y = 0 }
							marine = { x = 1 y = 1 }
							marine = { x = 1 y = 2 }
						}
						support = {
							recon = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							artillery = { x = 0 y = 2 }
						}
					}
				}
			}
			custom_effect_tooltip = tooltip_white_line
			random_controlled_state = {
				prioritize = { 21 }
				limit = { valid_state_for_spawning_friendly_unit = yes }
				custom_override_tooltip = {
					tooltip = {
						localization_key = tooltip_spawn_units
						COUNT = 2
						TYPE = "Division de Fusiliers Marins"
					}
					create_unit = {
						division = "division_template = \"Division de Fusiliers Marins\" start_experience_factor = 0.3"
						owner = ROOT
						count = 2
					}
				}
			}
		}
	}

	focus = {
		id = FRA_close_naval_coordination
		icon = GFX_goal_generic_navy_doctrines_tactics
		cost = 7

		relative_position_id = FRA_the_peoples_lance
		x = 2
		y = 2

		prerequisite = {
			focus = FRA_the_peoples_lance
			focus = FRA_chasseurs_tueurs_groups
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_close_naval_coordination"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_marine_federale_modifier
			}
			add_to_variable = {
				FRA_mf_naval_morale_factor = 0.1
				tooltip = naval_morale_factor_tooltip
			}
			add_to_variable = {
				FRA_mf_strike_force_movement_org_loss = -0.05
				tooltip = strike_force_movement_org_loss_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = FRA_close_naval_coordination
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = FRA_chasseurs_tueurs_groups
		icon = GFX_focus_generic_destroyer
		cost = 7

		relative_position_id = FRA_the_aeronavales_day
		x = 1
		y = 1

		prerequisite = {
			focus = FRA_red_fleet_old_school
			focus = FRA_the_aeronavales_day
			focus = FRA_meute_tactics
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_chasseurs_tueurs_groups"
			navy_experience = 15
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_chasseurs_tueurs_groups
				bonus = 0.75
				uses = 2
				category = dd_tech
			}
			if = {
				limit = { has_dlc_mtg = yes }
				add_tech_bonus = {
					name = FRA_the_peoples_lance
					ahead_reduction = 1
					uses = 1
					category = asw_tech
				}
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_dockyard = yes
		}
	}

	focus = {
		id = FRA_protect_revolutionary_lifelines
		icon = GFX_goal_generic_navy_cruiser
		cost = 7

		relative_position_id = FRA_chasseurs_tueurs_groups
		x = 1
		y = 1

		prerequisite = {
			focus = FRA_chasseurs_tueurs_groups
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_protect_revolutionary_lifelines"
			navy_experience = 15
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_marine_federale_modifier
			}
			add_to_variable = {
				FRA_mf_screening_efficiency = 0.1
				tooltip = screening_efficiency_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_protect_revolutionary_lifelines
				bonus = 1
				uses = 1
				category = cl_tech
				category = ca_tech
			}
			add_tech_bonus = {
				name = FRA_protect_revolutionary_lifelines
				bonus = 0.75
				uses = 2
				category = ship_modules_tech
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
		}
	}

	focus = {
		id = FRA_naval_power_projection
		icon = GFX_focus_generic_air_carrier
		cost = 7

		relative_position_id = FRA_close_naval_coordination
		x = -3
		y = 1

		prerequisite = {
			focus = FRA_peoples_shield_and_broadside
		}
		prerequisite = {
			focus = FRA_close_naval_coordination
		}
		mutually_exclusive = {
			focus = FRA_squadron_warfare
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_naval_power_projection"
			navy_experience = 15
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_squadron_warfare
				bonus = 1
				ahead_reduction = 1
				uses = 1
				category = cv_tech
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_mtg = yes }
				add_tech_bonus = {
					name = FRA_naval_power_projection
					ahead_reduction = 1
					uses = 2
					category = ship_modules_tech
				}
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
		}
	}

	focus = {
		id = FRA_squadron_warfare
		icon = GFX_focus_generic_navy_battleship3alt
		cost = 7

		relative_position_id = FRA_close_naval_coordination
		x = 1
		y = 1

		prerequisite = {
			focus = FRA_peoples_shield_and_broadside
		}
		prerequisite = {
			focus = FRA_close_naval_coordination
		}
		mutually_exclusive = {
			focus = FRA_naval_power_projection
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_squadron_warfare"
			navy_experience = 15
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_squadron_warfare
				bonus = 1
				ahead_reduction = 1
				uses = 1
				category = bc_tech
				category = bb_tech
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_mtg = yes }
				add_tech_bonus = {
					name = FRA_squadron_warfare
					ahead_reduction = 1
					uses = 2
					category = ship_modules_tech
				}
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
		}
	}

	focus = {
		id = FRA_brest_naval_academy
		icon = GFX_goal_Ecole_Naval_de_Guerre
		cost = 7

		relative_position_id = FRA_restructure_the_marine_federale
		x = 4
		y = 1

		prerequisite = {
			focus = FRA_restructure_the_marine_federale
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_brest_naval_academy"
			navy_experience = 50
			custom_effect_tooltip = tooltip_white_line
			every_navy_leader = {
				display_individual_scopes = yes
				limit = { NOT = { has_trait = bold } }
				add_trait = { trait = bold }
			}
			if = {
				limit = {
					controls_province = 3552 #Brest
					983 = { #Brittany
						is_owned_and_controlled_by = ROOT
						can_construct_building = naval_facility
					}
				}
				983 = { #Brittany
					add_building_construction = {
						type = naval_facility
						level = 1
						province = 3552 #Brest
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 14 983 }
					limit = {
						is_core_of = ROOT
						can_construct_building = naval_facility
					}
					construct_building_in_random_province = { naval_facility = 1 }
				}
			}
		}
	}

	focus = {
		id = FRA_international_naval_intelligence
		icon = GFX_focus_BEL_antwerp_maritime_academy
		cost = 7

		relative_position_id = FRA_brest_naval_academy
		x = -1
		y = 1

		prerequisite = {
			focus = FRA_brest_naval_academy
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_international_naval_intelligence"
			navy_experience = 20
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_marine_federale_modifier
			}
			add_to_variable = {
				FRA_mf_navy_intel_factor = 0.1
				tooltip = navy_intel_factor_tooltip
			}
			add_to_variable = {
				FRA_mf_naval_detection = 0.1
				tooltip = naval_detection_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_breakthrough_progress = {
				specialization = specialization_naval
				value = 1
			}
		}
	}

	focus = {
		id = FRA_gifts_for_enemy_ships
		icon = GFX_focus_generic_mine_warfare
		cost = 7

		relative_position_id = FRA_brest_naval_academy
		x = 0
		y = 2

		prerequisite = {
			focus = FRA_brest_naval_academy
		}
		prerequisite = {
			focus = FRA_naval_aerial_coordination
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_gifts_for_enemy_ships"
			navy_experience = 15
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_mtg = yes }
				custom_effect_tooltip = {
					localization_key = tooltip_modify_dynmod
					DYNMOD = FRA_marine_federale_modifier
				}
				add_to_variable = {
					FRA_mf_mines_planting_by_fleets_factor = 0.1
					tooltip = mines_planting_by_fleets_factor_tooltip
				}
				add_to_variable = {
					FRA_mf_mines_sweeping_by_fleets_factor = 0.1
					tooltip = mines_sweeping_by_fleets_factor_tooltip
				}
				add_to_variable = {
					FRA_mf_naval_mine_hit_chance = -0.05
					tooltip = naval_mine_hit_chance_tooltip
				}
				add_to_variable = {
					FRA_mf_naval_mines_damage_factor = 0.05
					tooltip = naval_mines_damage_factor_tooltip
				}
				custom_effect_tooltip = tooltip_white_line
				add_tech_bonus = {
					name = FRA_gifts_for_enemy_ships
					bonus = 0.75
					uses = 2
					category = naval_mines
				}
			}
			else = {
				add_tech_bonus = {
					name = FRA_gifts_for_enemy_ships
					bonus = 0.5
					uses = 1
					category = ss_tech
				}
				add_tech_bonus = {
					name = FRA_gifts_for_enemy_ships
					bonus = 0.5
					uses = 1
					category = dd_tech
				}
				custom_effect_tooltip = tooltip_white_line
				add_doctrine_cost_reduction = {
					name = FRA_gifts_for_enemy_ships
					cost_reduction = 0.5
					uses = 1
					category = naval_doctrine
				}
			}
		}
	}

	### Air Tree ###
	focus = {
		id = FRA_la_lutte_aerienne
		icon = GFX_goal_FRA_airforce
		cost = 7

		relative_position_id = FRA_restructure_the_marine_federale
		x = 8
		y = 0

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_la_lutte_aerienne"
			air_experience = 50
			custom_effect_tooltip = tooltip_white_line
			add_dynamic_modifier = { modifier = FRA_armee_de_lair_populaire_modifier }
		}
	}

	focus = {
		id = FRA_ecole_de_lair
		icon = GFX_focus_FIN_expand_air_force_academy
		cost = 7

		relative_position_id = FRA_la_lutte_aerienne
		x = -2
		y = 1

		prerequisite = {
			focus = FRA_la_lutte_aerienne
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_ecole_de_lair"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_de_lair_populaire_modifier
			}
			add_to_variable = {
				FRA_aap_air_weather_penalty = -0.1
				tooltip = air_weather_penalty_tooltip
			}
			add_to_variable = {
				FRA_aap_air_accidents_factor = -0.05
				tooltip = air_accidents_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = FRA_ecole_de_lair
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
		}
	}

	focus = {
		id = FRA_naval_aerial_coordination
		icon = GFX_goal_generic_air_naval_bomber
		cost = 7

		relative_position_id = FRA_ecole_de_lair
		x = -1
		y = 1

		prerequisite = {
			focus = FRA_ecole_de_lair
		}
		prerequisite = {
			focus = FRA_restructure_the_marine_federale
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_naval_aerial_coordination"
			air_experience = 15
			navy_experience = 15
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_de_lair_populaire_modifier
			}
			add_to_variable = {
				FRA_aap_naval_strike_agility_factor = 0.05
				tooltip = naval_strike_agility_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_marine_federale_modifier
			}
			add_to_variable = {
				FRA_mf_naval_coordination = 0.05
				tooltip = naval_coordination_tooltip
			}
			add_to_variable = {
				FRA_mf_spotting_chance = 0.1
				tooltip = spotting_chance_tooltip
			}
			add_tech_bonus = {
				name = FRA_naval_aerial_coordination
				bonus = 0.75
				uses = 2
				category = naval_bomber
			}
			if = {
				limit = { has_dlc_bba = yes }
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "Pl.108"
					type = small_plane_naval_bomber_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = torpedo_mounting
						engine_type_slot = engine_2_1x
					}
				}
				create_equipment_variant = {
					name = "Potez-CAMS 161"
					type = large_plane_maritime_patrol_plane_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = torpedo_mounting
						fixed_auxiliary_weapon_slot_1 = torpedo_mounting
						fixed_auxiliary_weapon_slot_2 = torpedo_mounting
						engine_type_slot = engine_2_4x
						special_type_slot_1 = flying_boat_large
						special_type_slot_2 = lmg_defense_turret_2x
						special_type_slot_3 = lmg_defense_turret_2x
					}
				}
			}
		}
	}

	focus = {
		id = FRA_hone_torpillage_skills
		icon = GFX_focus_generic_torpedo_production
		cost = 7

		relative_position_id = FRA_naval_aerial_coordination
		x = 0
		y = 2

		prerequisite = {
			focus = FRA_naval_aerial_coordination
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_hone_torpillage_skills"
			air_experience = 15
			navy_experience = 15
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_de_lair_populaire_modifier
			}
			add_to_variable = {
				FRA_aap_naval_strike_attack_factor = 0.05
				tooltip = naval_strike_attack_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_marine_federale_modifier
			}
			add_to_variable = {
				FRA_mf_naval_torpedo_screen_penetration_factor = 0.05
				tooltip = naval_torpedo_screen_penetration_factor_tooltip
			}
			add_to_variable = {
				FRA_mf_naval_torpedo_hit_chance_factor = 0.05
				tooltip = naval_torpedo_hit_chance_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_military_factory = yes
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_mtg = no }
				add_tech_bonus = {
					name = FRA_hone_torpillage_skills
					bonus = 0.75
					uses = 1
					category = ss_tech
				}
				add_tech_bonus = {
					name = FRA_hone_torpillage_skills
					bonus = 0.75
					uses = 1
					category = naval_bomber
				}
			}
			else = {
				add_tech_bonus = {
					name = FRA_hone_torpillage_skills
					bonus = 0.75
					uses = 2
					category = cat_torpedoes
				}
			}
		}
	}

	focus = {
		id = FRA_arsenal_de_laeronautique
		icon = GFX_focus_generic_air_research_boost
		cost = 7

		relative_position_id = FRA_ecole_de_lair
		x = 0
		y = 2

		prerequisite = {
			focus = FRA_ecole_de_lair
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_arsenal_de_laeronautique"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_de_lair_populaire_modifier
			}
			add_to_variable = {
				FRA_aap_air_range_factor = 0.05
				tooltip = air_range_factor_tooltip
			}
			add_to_variable = {
				FRA_aap_air_agility_factor = 0.05
				tooltip = air_agility_factor_tooltip
			}
			add_to_variable = {
				FRA_aap_air_fuel_consumption_factor = -0.05
				tooltip = air_fuel_consumption_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_bba = yes }
				add_tech_bonus = {
					name = FRA_arsenal_de_laeronautique
					bonus = 0.75
					uses = 2
					category = plane_modules_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = FRA_arsenal_de_laeronautique
					bonus = 1
					uses = 1
					category = air_equipment
				}
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = {
					controls_province = 11702 #near Toulouse
					31 = { #Garonne
						is_owned_and_controlled_by = ROOT
						can_construct_building = air_facility
					}
				}
				31 = { #Garonne
					add_building_construction = {
						type = air_facility
						level = 1
						province = 11702 #near Toulouse
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 31 }
					limit = {
						is_core_of = ROOT
						can_construct_building = air_facility
					}
					construct_building_in_random_province = { air_facility = 1 }
				}
			}
		}
	}

	focus = {
		id = FRA_barrage_david
		icon = GFX_goal_generic_radar_instillation
		cost = 7

		relative_position_id = FRA_arsenal_de_laeronautique
		x = 0
		y = 2

		available = {
			is_special_project_completed = sp:sp_air_radar
		}
		prerequisite = {
			focus = FRA_arsenal_de_laeronautique
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_barrage_david"
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_barrage_david
				bonus = 1
				uses = 1
				category = electronics
			}
			custom_effect_tooltip = tooltip_white_line
			every_core_state = {
				display_individual_scopes = yes
				limit = {
					is_owned_and_controlled_by = ROOT
					air_base > 5
					free_building_slots = { building = air_base size > 1 }
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = FRA_popular_aviation
		icon = GFX_focus_SOV_flying_clubs
		cost = 7

		relative_position_id = FRA_ecole_de_lair
		x = 1
		y = 1

		prerequisite = {
			focus = FRA_ecole_de_lair
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_popular_aviation"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_de_lair_populaire_modifier
			}
			add_to_variable = {
				FRA_aap_air_ace_generation_chance_factor = 0.1
				tooltip = air_ace_generation_chance_factor_tooltip
			}
			add_to_variable = {
				FRA_aap_air_mission_xp_gain_factor = 0.1
				tooltip = air_mission_xp_gain_factor_tooltip
			}
			add_to_variable = {
				FRA_aap_air_training_xp_gain_factor = 0.1
				tooltip = air_training_xp_gain_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_ace = {
				name = "Pierre-Henri"
				surname = "Clostermann"
				callsign = "Aigle"
				type = fighter_unique
			}
			add_ace = {
				name = "Marcel"
				surname = "Albert"
				callsign = "Renard"
				type = fighter_good
			}
			add_ace = {
				name = "Jean"
				surname = "Demozay"
				callsign = "Cigogne"
				type = fighter_good
			}
		}
	}

	focus = {
		id = FRA_les_amazones
		icon = GFX_focus_SOV_women_in_aviation
		cost = 7

		relative_position_id = FRA_popular_aviation
		x = 0
		y = 2

		prerequisite = {
			focus = FRA_popular_aviation
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_les_amazones"
			air_experience = 25
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_de_lair_populaire_modifier
			}
			add_to_variable = {
				FRA_aap_air_ace_generation_chance_factor = 0.05
				tooltip = air_ace_generation_chance_factor_tooltip
			}
			add_to_variable = {
				FRA_aap_air_mission_xp_gain_factor = 0.05
				tooltip = air_mission_xp_gain_factor_tooltip
			}
			add_to_variable = {
				FRA_aap_air_night_penalty = -0.2
				tooltip = air_night_penalty_tooltip
			}
			add_to_variable = {
				FRA_aap_air_strategic_bomber_night_penalty = -0.1
				tooltip = air_strategic_bomber_night_penalty_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			set_rule = { can_generate_female_aces = yes }
		}
	}

	focus = {
		id = FRA_politique_des_stocks
		icon = GFX_focus_generic_aircraft_production
		cost = 7

		relative_position_id = FRA_la_lutte_aerienne
		x = 0
		y = 1

		prerequisite = {
			focus = FRA_la_lutte_aerienne
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_politique_des_stocks"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_de_lair_populaire_modifier
			}
			custom_override_tooltip = {
				tooltip = FRA_aircraft_production_bonus
				add_ideas = FRA_aap_hidden_aircraft_production_bonus
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
		}
	}

	focus = {
		id = FRA_spirit_of_the_air_division
		icon = GFX_goal_generic_air_fighter2
		cost = 7

		relative_position_id = FRA_la_lutte_aerienne
		x = 2
		y = 1

		prerequisite = {
			focus = FRA_la_lutte_aerienne
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_spirit_of_the_air_division"
			air_experience = 25
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_spirit_of_the_air_division
				bonus = 0.75
				uses = 2
				category = light_fighter
			}
			if = {
				limit = { has_dlc_bba = yes }
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "L.250"
					type = small_plane_airframe_1
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = heavy_mg_2x
						engine_type_slot = engine_2_1x
					}
				}
				create_equipment_variant = {
					name = "M.S.450"
					type = small_plane_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = light_mg_2x
						fixed_auxiliary_weapon_slot_1 = heavy_mg_2x
						fixed_auxiliary_weapon_slot_2 = bomb_locks
						engine_type_slot = engine_2_1x
						special_type_slot_1 = drop_tanks
					}
				}
				create_equipment_variant = {
					name = "Po.230"
					type = small_plane_airframe_3
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = aircraft_cannon_1_2x
						fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_1x
						fixed_auxiliary_weapon_slot_2 = heavy_mg_2x
						fixed_auxiliary_weapon_slot_3 = bomb_locks
						engine_type_slot = engine_3_1x
					}
				}
			}
		}
	}

	focus = {
		id = FRA_beyond_the_frontiers
		icon = GFX_focus_generic_long_range_aircraft
		cost = 7

		relative_position_id = FRA_spirit_of_the_air_division
		x = -1
		y = 1

		prerequisite = {
			focus = FRA_spirit_of_the_air_division
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_beyond_the_frontiers"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_de_lair_populaire_modifier
			}
			add_to_variable = {
				FRA_aap_strategic_bomb_visibility = -0.05
				tooltip = strategic_bomb_visibility_tooltip
			}
			add_to_variable = {
				FRA_aap_air_strategic_bomber_bombing_factor = 0.05
				tooltip = air_strategic_bomber_bombing_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_beyond_the_frontiers
				bonus = 0.75
				uses = 2
				category = medium_air
				category = heavy_air
			}
			add_tech_bonus = {
				name = FRA_beyond_the_frontiers
				bonus = 1
				uses = 1
				category = transport_planes_cat
			}
			if = {
				limit = { has_dlc_bba = yes }
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "Br.460"
					type = medium_plane_fighter_airframe_1
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = heavy_mg_2x
						fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
						fixed_auxiliary_weapon_slot_2 = bomb_locks
						fixed_auxiliary_weapon_slot_3 = empty
						engine_type_slot = engine_2_2x
					}
				}
				create_equipment_variant = {
					name = "F.222"
					type = large_plane_airframe_1
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = large_bomb_bay
						special_type_slot_1 = lmg_defense_turret_2x
						special_type_slot_2 = lmg_defense_turret
						engine_type_slot = engine_2_4x
					}
				}
				create_equipment_variant = {
					name = "NC.223.3"
					type = large_plane_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = large_bomb_bay
						fixed_auxiliary_weapon_slot_1 = large_bomb_bay
						special_type_slot_1 = hmg_defense_turret_2x
						special_type_slot_2 = hmg_defense_turret_2x
						engine_type_slot = engine_3_4x
					}
				}
			}
		}
	}

	focus = {
		id = FRA_groupes_de_linfanterie_de_lair
		icon = GFX_focus_generic_paratrooper
		cost = 7

		relative_position_id = FRA_spirit_of_the_air_division
		x = 1
		y = 1

		available = {
			has_tech = paratroopers
		}
		prerequisite = {
			focus = FRA_spirit_of_the_air_division
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_groupes_de_linfanterie_de_lair"
			if = {
				limit = { has_dlc_aat = yes }
				add_tech_bonus = {
					name = FRA_groupes_de_linfanterie_de_lair
					bonus = 1
					uses = 1
					category = para_tech
				}
				add_doctrine_cost_reduction = {
					name = FRA_groupes_de_linfanterie_de_lair
					cost_reduction = 0.5
					uses = 1
					category = cat_paratroopers_doctrine
				}
			}
			else = {
				add_tech_bonus = {
					name = FRA_groupes_de_linfanterie_de_lair
					bonus = 0.75
					uses = 2
					category = para_tech
				}
			}
			custom_effect_tooltip = tooltip_white_line
			hidden_effect = {
				if = {
					limit = { has_template = "Groupe d'Infanterie de l'Air" }
					delete_unit_template_and_units = { division_template = "Groupe d'Infanterie de l'Air" disband = yes } #no cheating
				}
			}
			if = {
				limit = { has_tech = paras_airborne_light_armor }
				custom_override_tooltip = {
					tooltip = {
						localization_key = FRA_create_paratrooper_template_aat
						NAME = "Groupe d'Infanterie de l'Air"
					}
					division_template = {
						name = "Groupe d'Infanterie de l'Air"
						division_names_group = FRA_PAR_01
						regiments = {
							paratrooper = { x = 0 y = 0 }
							paratrooper = { x = 0 y = 1 }
							paratrooper = { x = 0 y = 2 }
							paratrooper = { x = 1 y = 0 }
							paratrooper = { x = 1 y = 1 }
							paratrooper = { x = 1 y = 2 }
						}
						support = {
							recon = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							airborne_light_armor = { x = 0 y = 2 }
						}
					}
				}
			}
			else = {
				custom_override_tooltip = {
					tooltip = {
						localization_key = FRA_create_paratrooper_template
						NAME = "Groupe d'Infanterie de l'Air"
					}
					division_template = {
						name = "Groupe d'Infanterie de l'Air"
						division_names_group = FRA_PAR_01
						regiments = {
							paratrooper = { x = 0 y = 0 }
							paratrooper = { x = 0 y = 1 }
							paratrooper = { x = 0 y = 2 }
							paratrooper = { x = 1 y = 0 }
							paratrooper = { x = 1 y = 1 }
							paratrooper = { x = 1 y = 2 }
						}
						support = {
							recon = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							artillery = { x = 0 y = 2 }
						}
					}
				}
			}
			custom_effect_tooltip = tooltip_white_line
			random_controlled_state = {
				prioritize = { 31 }
				limit = { valid_state_for_spawning_friendly_unit = yes }
				custom_override_tooltip = {
					tooltip = {
						localization_key = tooltip_spawn_units
						COUNT = 2
						TYPE = "Groupe d'Infanterie de l'Air"
					}
					create_unit = {
						division = "division_template = \"Groupe d'Infanterie de l'Air\" start_experience_factor = 0.3"
						owner = ROOT
						count = 2
					}
				}
			}
		}
	}

	focus = {
		id = FRA_adaptable_strike_tactics
		icon = GFX_focus_generic_multi_role_aircraft
		cost = 7

		relative_position_id = FRA_spirit_of_the_air_division
		x = -2
		y = 2

		prerequisite = {
			focus = FRA_spirit_of_the_air_division
		}
		mutually_exclusive = {
			focus = FRA_assault_brigades
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_adaptable_strike_tactics"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_de_lair_populaire_modifier
			}
			add_to_variable = {
				FRA_aap_air_superiority_bonus_in_combat = 0.1
				tooltip = air_superiority_bonus_in_combat_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_adaptable_strike_tactics
				bonus = 0.75
				uses = 2
				category = tactical_bomber
			}
			if = {
				limit = { has_dlc_bba = yes }
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "Br.460"
					type = medium_plane_airframe_1
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = medium_bomb_bay
						fixed_auxiliary_weapon_slot_1 = bomb_locks
						fixed_auxiliary_weapon_slot_2 = torpedo_mounting
						fixed_auxiliary_weapon_slot_3 = torpedo_mounting
						special_type_slot_1 = lmg_defense_turret_2x
						special_type_slot_2 = hmg_defense_turret_2x
						engine_type_slot = engine_3_3x
					}
				}
				create_equipment_variant = {
					name = "LeO.451"
					type = medium_plane_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = medium_bomb_bay
						fixed_auxiliary_weapon_slot_1 = torpedo_mounting
						fixed_auxiliary_weapon_slot_2 = torpedo_mounting
						engine_type_slot = engine_3_3x
						special_type_slot_1 = hmg_defense_turret_2x
						special_type_slot_2 = hmg_defense_turret_2x
						special_type_slot_3 = armor_plate_medium
					}
				}
			}
		}
	}

	focus = {
		id = FRA_assault_brigades
		icon = GFX_focus_generic_cas_aircraft
		cost = 7

		relative_position_id = FRA_spirit_of_the_air_division
		x = 2
		y = 2

		prerequisite = {
			focus = FRA_spirit_of_the_air_division
		}
		mutually_exclusive = {
			focus = FRA_adaptable_strike_tactics
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_assault_brigades"
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_de_lair_populaire_modifier
			}
			add_to_variable = {
				FRA_aap_ground_attack_factor = 0.1
				tooltip = ground_attack_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_assault_brigades
				bonus = 0.75
				uses = 2
				category = cas_bomber
			}
			if = {
				limit = { has_dlc_bba = yes }
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "Br.693"
					type = small_plane_cas_airframe_1
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = bomb_locks
						fixed_auxiliary_weapon_slot_1 = recon_camera
						engine_type_slot = engine_1_2x
						special_type_slot_1 = fuel_tanks_small
					}
				}
				create_equipment_variant = {
					name = "Po.633"
					type = small_plane_cas_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = bomb_locks
						fixed_auxiliary_weapon_slot_1 = heavy_mg_2x
						engine_type_slot = engine_2_1x
					}
				}
			}
		}
	}

	focus = {
		id = FRA_reaction_propulsion_experiments
		icon = GFX_focus_generic_jet_planes
		cost = 7

		relative_position_id = FRA_spirit_of_the_air_division
		x = -1
		y = 3

		prerequisite = {
			focus = FRA_adaptable_strike_tactics
			focus = FRA_assault_brigades
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_reaction_propulsion_experiments"
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 1
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = FRA_reaction_propulsion_experiments
				bonus = 1
				uses = 1
				category = air_equipment
			}
			add_tech_bonus = {
				name = FRA_reaction_propulsion_experiments
				bonus = 1
				uses = 1
				category = jet_technology
			}
			if = {
				limit = { has_dlc_bba = yes }
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "Dassault Ouragan"
					type = small_plane_airframe_4
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = aircraft_cannon_2_2x
						fixed_auxiliary_weapon_slot_1 = aircraft_cannon_2_2x
						engine_type_slot = jet_engine_1x
						special_type_slot_1 = armor_plate_small
						special_type_slot_2 = self_sealing_fuel_tanks_small
					}
				}
			}
		}
	}

	focus = {
		id = FRA_hurricane_of_fire
		icon = GFX_goal_Combined_Bomber_Offensive
		cost = 7

		relative_position_id = FRA_spirit_of_the_air_division
		x = 1
		y = 3

		prerequisite = {
			focus = FRA_adaptable_strike_tactics
			focus = FRA_assault_brigades
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FRA_hurricane_of_fire"
			air_experience = 50
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = {
				localization_key = tooltip_modify_dynmod
				DYNMOD = FRA_armee_de_lair_populaire_modifier
			}
			add_to_variable = {
				FRA_aap_air_mission_efficiency = 0.1
				tooltip = air_mission_efficiency_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
		}
	}
}

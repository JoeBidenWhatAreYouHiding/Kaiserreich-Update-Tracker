#Abkhazia - annexation_abkhazia
can_release_abkhazia = {
	1080 = { annexations_state_is_tied_to_annexation_decision = yes } #Abkhazia
	ROOT = {
		should_release_georgia_first = yes
		# Do North Caucasus release first
		OR = {
			country_exists = MNR
			232 = { annexations_state_has_valid_annexation = no } #Dagestan
		}
		OR = {
			is_subject = yes
			231 = { is_claim_or_core_of_ROOT = yes } #Georgia
			233 = { is_claim_or_core_of_ROOT = yes } #Vladikavkaz
			231 = { #Georgia
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			233 = { #Vladikavkaz
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
		}
	}
}

#Adana - annexation_adana
can_release_adana = {
	344 = { annexations_state_is_tied_to_annexation_decision = yes } #Adana
	ROOT = {
		should_release_turkey_first = yes
		should_release_syria_first = yes
		OR = {
			is_subject = yes
			345 = { is_claim_or_core_of_ROOT = yes } #Sivas
			AND = {
				680 = { is_claim_or_core_of_ROOT = yes } #Latakia
				owns_state = 677 #Aleppo
			}
			345 = { #Sivas
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			680 = { #Latakia
				annexations_state_owner_is_valid_grant_target = yes
				owner = {
					NOT = { tag = event_target:sivas }
					owns_state = 677 #Aleppo
					ROOT_can_grant_land = yes
				}
			}
		}
	}
}

#Arabia - annexation_arabia
can_release_arabia = {
	292 = { annexations_state_is_tied_to_annexation_decision = yes } #Nejd
	NOT = { country_exists = SAU }
	NOT = { country_exists = JBS }
	add_state_to_resistance_target_array = yes
	ROOT = { should_release_hejaz_first = yes }
}

#Armenia - annexation_armenia
can_release_armenia = {
	230 = { annexations_state_is_tied_to_annexation_decision = yes } #Yerevan
	NOT = { country_exists = ARM }
	add_state_to_resistance_target_array = yes
	ROOT = {
		should_release_russia_first = yes
		should_release_georgia_first = yes
	}
}

#Asir - annexation_asir
can_release_asir = {
	982 = { annexations_state_is_tied_to_annexation_decision = yes } #Asir
	ROOT = {
		should_release_hejaz_first = yes
		should_release_yemen_first = yes
		should_release_arabia_first = yes
		OR = {
			is_subject = yes
			679 = { is_claim_or_core_of_ROOT = yes } #Mecca
			293 = { is_claim_or_core_of_ROOT = yes } #Yemen
			292 = { is_claim_or_core_of_ROOT = yes } #Jabal Tuwaiq
			679 = { #Mecca
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			293 = { #Yemen
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			292 = { #Jabal Tuwaiq
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
		}
	}
}

#Ashkhabad - annexation_ashkhabad
can_release_ashkhabad = {
	418 = { annexations_state_is_tied_to_annexation_decision = yes } #Ashkhabad
	ROOT = {
		should_release_persia_first = yes
		should_release_khiva_first = yes
		OR = {
			is_subject = yes
			416 = { is_claim_or_core_of_ROOT = yes } #Khorasan
			584 = { is_claim_or_core_of_ROOT = yes } #Karakum
			416 = { #Khorasan
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			584 = { #Karakum
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
		}
	}
}

#Azerbaijan - annexation_azerbaijan
can_release_azerbaijan = {
	229 = { annexations_state_is_tied_to_annexation_decision = yes } #Azerbaijan
	NOT = { country_exists = AZR }
	add_state_to_resistance_target_array = yes
	ROOT = {
		should_release_russia_first = yes
		should_release_georgia_first = yes
	}
}

#Bahrain - annexation_bahrain
can_release_bahrain = {
	907 = { annexations_state_is_tied_to_annexation_decision = yes } #Bahrain
	ROOT = {
		should_release_trucial_states_first = yes
		should_release_arabia_first = yes
		should_release_persia_first = yes
		OR = {
			is_subject = yes
			412 = { is_claim_or_core_of_ROOT = yes } #Fars
			656 = { is_claim_or_core_of_ROOT = yes } #Hasa
			993 = { is_claim_or_core_of_ROOT = yes } #Qatar
			412 = { #Fars
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			656 = { #Hasa
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			993 = { #Qatar
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
		}
	}
}

#Basra - annexation_basra
can_release_basra = {
	812 = { annexations_state_is_tied_to_annexation_decision = yes } #Basra
	ROOT = {
		should_release_iraq_first = yes
		OR = {
			is_subject = yes
			291 = { is_claim_or_core_of_ROOT = yes } #Baghdad
			413 = { is_claim_or_core_of_ROOT = yes } #Khuzestan
			291 = { #Baghdad
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land_ignore_ideology = yes }
			}
		}
	}
}

#Batumi - annexation_batumi
can_release_batumi = {
	585 = { annexations_state_is_tied_to_annexation_decision = yes } #Batumi
	ROOT = {
		should_release_armenia_first = yes
		should_release_georgia_first = yes
		should_release_turkey_first = yes
		should_release_kars_first = yes
		OR = {
			is_subject = yes
			original_tag = ARM
			231 = { is_claim_or_core_of_ROOT = yes } #Georgia
			354 = { is_claim_or_core_of_ROOT = yes } #Erzurum

			231 = { #Georgia
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			var:1000.owner = { #Kars
				original_tag = ARM
				ROOT_can_grant_land = yes
			}
			354 = { #Erzurum
				annexations_state_owner_is_valid_grant_target = yes
				owner = {
					1001 = { annexations_required_state_is_owned_by_either_side = yes } #Lazistan
					ROOT_can_grant_land = yes
				}
			}
		}
	}
}

#Dhofar - annexation_dhofar
can_release_dhofar = {
	1024 = { annexations_state_is_tied_to_annexation_decision = yes } #Dhofar
	ROOT = {
		should_release_oman_first = yes
		should_release_yemen_first = yes
		OR = {
			is_subject = yes
			AND = {
				294 = { is_claim_or_core_of_ROOT = yes } #Muscat
				owns_state = 859 #Oman
			}
			752 = { is_claim_or_core_of_ROOT = yes } #Hadhramaut
			294 = { #Muscat
				annexations_state_owner_is_valid_grant_target = yes
				owner = {
					owns_state = 859 #Oman
					ROOT_can_grant_land = yes
				}
			}
			752 = { #Hadhramaut
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
		}
	}
}

#Georgia
can_release_georgia = {
	231 = { annexations_state_is_tied_to_annexation_decision = yes } #Sakartvelo
	NOT = { country_exists = GEO }
	add_state_to_resistance_target_array = yes
	ROOT = { should_release_russia_first = yes }
}

#Hasa - annexation_hasa
can_release_hasa = {
	656 = { annexations_state_is_tied_to_annexation_decision = yes } #Hasa
	ROOT = {
		should_release_trucial_states_first = yes
		should_release_arabia_first = yes
		OR = {
			is_subject = yes
			original_tag = TRU
			is_arabian_tag = yes
			is_arab_federation = yes
			TRU = { ROOT_can_grant_land = yes }
			var:991.owner = { #Summan
				is_arabian_tag = yes
				ROOT_can_grant_land = yes
			}
		}
	}
}

#Mecca - annexation_hejaz
can_release_hejaz = {
	679 = { annexations_state_is_tied_to_annexation_decision = yes } #Mecca
	NOT = { country_exists = HEJ }
	add_state_to_resistance_target_array = yes
	ROOT = { should_release_syria_first = yes }
}

#Iraq - annexation_iraq
can_release_iraq = {
	291 = { annexations_state_is_tied_to_annexation_decision = yes } #Baghdad
	NOT = { country_exists = IRQ }
	add_state_to_resistance_target_array = yes
	ROOT = {
		should_release_turkey_first = yes
		should_release_persia_first = yes
	}
}

#Karabakh - annexation_karabakh
can_release_karabakh = {
	998 = { annexations_state_is_tied_to_annexation_decision = yes } #Highland Karabagh
	ROOT = {
		should_release_armenia_first = yes
		should_release_azerbaijan_first = yes
		OR = {
			is_subject = yes
			230 = { is_claim_or_core_of_ROOT = yes } #Yerevan
			229 = { is_claim_or_core_of_ROOT = yes } #Azerbaijan

			230 = { #Yerevan
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			229 = { #Azerbaijan
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
		}
	}
}

#Kars - annexation_kars
can_release_kars = {
	1000 = { annexations_state_is_tied_to_annexation_decision = yes } #Kars
	ROOT = {
		should_release_armenia_first = yes
		should_release_turkey_first = yes
		OR = {
			is_subject = yes
			230 = { is_claim_or_core_of_ROOT = yes } #Yerevan
			354 = { is_claim_or_core_of_ROOT = yes } #Erzurum

			230 = { #Yerevan
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			354 = { #Erzurum
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
		}
	}
}

#Khasab - annexation_khasab
can_release_khasab = {
	347 = { annexations_state_is_tied_to_annexation_decision = yes } #Khasab
	ROOT = {
		should_release_trucial_states_first = yes
		should_release_oman_first = yes
		should_release_persia_first = yes
		OR = {
			is_subject = yes
			294 = { is_claim_or_core_of_ROOT = yes } #Muscat
			412 = { is_claim_or_core_of_ROOT = yes } #Fars
			658 = { is_claim_or_core_of_ROOT = yes } #Abu Dhabi
			294 = { #Muscat
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			412 = { #Fars
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			658 = { #Abu Dhabi
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
		}
	}
}

#Kurdistan - annexation_kurdistan
can_release_kurdistan = {
	350 = { annexations_state_is_tied_to_annexation_decision = yes } #Diyarbakir
	ROOT = {
		OR = {
			is_subject = yes
			NOT = { country_exists = KUR }
			AND = {
				original_tag = TUR
				OR = {
					350 = { is_valid_annexation_state = yes } #Diyarbakir
					352 = { is_valid_annexation_state = yes } #Van
					owns_state = 350 #Diyarbakir
					owns_state = 352 #Van
				}
			}
			AND = {
				original_tag = PER
				OR = {
					417 = { is_valid_annexation_state = yes } #Urmia
					421 = { is_valid_annexation_state = yes } #Kermanshah
					owns_state = 417 #Urmia
					owns_state = 421 #Kermanshah
				}
			}
			AND = {
				original_tag = IRQ
				OR = {
					819 = { is_valid_annexation_state = yes } #Sulaymaniyah
					AND = {
						has_completed_focus = IRQ_Home_of_Civilisation
						350 = { is_valid_annexation_state = yes } #Diyarbakir
						677 = { is_core_of = ROOT } #Aleppo
					}
				}
			}
			KUR = { ROOT_can_grant_land = yes }
			TUR = {
				ROOT_can_grant_land = yes
				OR = {
					owns_state = 350 #Diyarbakir
					owns_state = 352 #Van
					417 = { is_valid_annexation_state = yes } #Urmia
					421 = { is_valid_annexation_state = yes } #Kermanshah
				}
			}
			PER = {
				ROOT_can_grant_land = yes
				OR = {
					owns_state = 417 #Urmia
					owns_state = 421 #Kermanshah
					417 = { is_valid_annexation_state = yes } #Urmia
					421 = { is_valid_annexation_state = yes } #Kermanshah
				}
			}
			AND = {
				IRQ = { ROOT_can_grant_land = yes }
				819 = { is_valid_annexation_state = yes } #Sulaymaniyah
			}
		}
	}
	add_state_to_resistance_target_array = yes
	ROOT = {
		should_release_turkey_first = yes
		should_release_persia_first = yes
		should_release_iraq_first = yes
	}
}

#Lazistan - annexation_lazistan
can_release_lazistan = {
	1001 = { annexations_state_is_tied_to_annexation_decision = yes } #Lazistan
	ROOT = {
		should_release_armenia_first = yes
		should_release_georgia_first = yes
		should_release_turkey_first = yes
		should_release_kars_first = yes
		should_release_batumi_first = yes
		OR = {
			is_subject = yes
			AND = {
				231 = { is_claim_or_core_of_ROOT = yes } #Georgia
				owns_state = 585 #Batumi
			}
			354 = { is_claim_or_core_of_ROOT = yes } #Erzurum

			231 = { #Georgia
				annexations_state_owner_is_valid_grant_target = yes
				owner = {
					585 = { annexations_required_state_is_owned_by_either_side = yes } #Batumi
					ROOT_can_grant_land = yes
				}
			}
			354 = { #Erzurum
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
		}
	}
}

#Lebanon - annexation_lebanon
can_release_lebanon = {
	553 = { annexations_state_is_tied_to_annexation_decision = yes } #Beirut
	NOT = { country_exists = LEB }
	add_state_to_resistance_target_array = yes
	ROOT = { should_release_syria_first = yes }
}

#Levant - annexation_levant
can_release_levant = {
	554 = { annexations_state_is_tied_to_annexation_decision = yes } #Damascus
	NOT = { country_exists = SYR }
	add_state_to_resistance_target_array = yes
	ROOT = {
		should_release_turkey_first = yes
		should_release_egypt_first = yes
	}
}

#Najran - annexation_najran
can_release_najran = {
	981 = { annexations_state_is_tied_to_annexation_decision = yes } #Najran
	ROOT = {
		should_release_arabia_first = yes
		should_release_yemen_first = yes
		OR = {
			is_subject = yes
			original_tag = YEM
			is_arabian_tag = yes
			is_arab_federation = yes
			YEM = { ROOT_can_grant_land = yes }
			var:292.owner = {
				is_arabian_tag = yes
				ROOT_can_grant_land = yes
			}
		}
	}
}

#Oman - annexation_oman
can_release_oman = {
	294 = { annexations_state_is_tied_to_annexation_decision = yes } #Muscat
	NOT = { country_exists = OMA }
	add_state_to_resistance_target_array = yes
}

#Persia - annexation_persia
can_release_persia = {
	266 = { annexations_state_is_tied_to_annexation_decision = yes } #Teheran
	NOT = { country_exists = PER }
	ROOT = {
		NOT = {
			AND = {
				tag = TUR
				has_war_with = EGY
				EGY = { is_faction_leader = yes }
			}
		}
	}
	add_state_to_resistance_target_array = yes
}

#Persia - annexation_khuzestan
can_release_khuzestan = {
	413 = { annexations_state_is_tied_to_annexation_decision = yes } #Khuzestan
	ROOT = {
		should_release_persia_first = yes
		should_release_iraq_first = yes
		OR = {
			is_subject = yes
			266 = { is_claim_or_core_of_ROOT = yes } #Teheran
			291 = { is_claim_or_core_of_ROOT = yes } #Baghdad

			266 = { #Teheran
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			291 = { #Baghdad
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
		}
	}
}

#Sinai - annexation_sinai
can_release_sinai = {
	453 = { annexations_state_is_tied_to_annexation_decision = yes } #Sinai
	ROOT = {
		should_release_egypt_first = yes
		should_release_syria_first = yes
		OR = {
			is_subject = yes
			446 = { is_claim_or_core_of_ROOT = yes } #Cairo
			454 = { is_claim_or_core_of_ROOT = yes } #Jerusalem
			446 = { #Cairo
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			454 = { #Jerusalem
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
		}
	}
}

#Suez Canal - annexation_suez_canal
can_release_suez = {
	753 = { annexations_state_is_tied_to_annexation_decision = yes } #Suez Canal
	ROOT = {
		should_release_egypt_first = yes
		453 = { annexations_state_has_valid_annexation = no } #Sinai
		if = {
			limit = { is_ai = yes }
			NOT = {
				AND = {
					446 = { is_claim_or_core_of_ROOT = no } #Cairo
					453 = { is_claim_or_core_of_ROOT = no } #Sinai
					has_socialist_government = no
					is_subject = no
					naval_base > 0
					OR = {
						original_tag = NFA
						original_tag = GER
						original_tag = RUS
						is_british_tag = yes
						is_italian_tag = yes
						is_actual_major = yes
					}
				}
			}
		}
		OR = {
			is_subject = yes
			AND = {
				NOT = { country_exists = PAL }
				has_socialist_government = no
			}
			446 = { is_claim_or_core_of_ROOT = yes } #Cairo
			453 = { is_claim_or_core_of_ROOT = yes } #Sinai
			446 = { #Cairo
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
			453 = { #Sinai
				annexations_state_owner_is_valid_grant_target = yes
				owner = { ROOT_can_grant_land = yes }
			}
		}
	}
}

#Trucial States - annexation_trucial_states
can_release_trucial_states = {
	658 = { annexations_state_is_tied_to_annexation_decision = yes } #Abu Dhabi
	NOT = { country_exists = TRU }
	add_state_to_resistance_target_array = yes
	ROOT = { should_release_arabia_first = yes }
}

#Turkey - annexation_anatolia
can_release_turkey = {
	49 = { annexations_state_is_tied_to_annexation_decision = yes } #Ankara
	NOT = { country_exists = TUR }
	add_state_to_resistance_target_array = yes
}

#Yemen - annexation_yemen
can_release_yemen = {
	293 = { annexations_state_is_tied_to_annexation_decision = yes } #Yemen
	NOT = { country_exists = YEM }
	add_state_to_resistance_target_array = yes
}

### SPECIAL TRIGGERS ###

should_release_arabia_first = {
	OR = {
		country_exists = JBS
		country_exists = SAU
		292 = { annexations_state_has_valid_annexation = no } #Nejd
	}
}

should_release_armenia_first = {
	OR = {
		country_exists = ARM
		230 = { annexations_state_has_valid_annexation = no } #Yerevan
	}
}

should_release_azerbaijan_first = {
	OR = {
		country_exists = AZR
		229 = { annexations_state_has_valid_annexation = no } #Azerbaijan
	}
}

should_release_batumi_first = {
	585 = { annexations_state_has_valid_annexation = no } #Batumi
}

should_release_georgia_first = {
	OR = {
		country_exists = GEO
		231 = { annexations_state_has_valid_annexation = no } #Sakartvelo
	}
}

should_release_hejaz_first = {
	OR = {
		country_exists = HEJ
		679 = { annexations_state_has_valid_annexation = no } #Mecca
	}
}

should_release_iraq_first = {
	OR = {
		country_exists = IRQ
		291 = { annexations_state_has_valid_annexation = no } #Baghdad
	}
}

should_release_kars_first = {
	1000 = { annexations_state_has_valid_annexation = no } #Kars
}

should_release_oman_first = {
	OR = {
		country_exists = OMA
		294 = { annexations_state_has_valid_annexation = no } #Muscat
	}
}

should_release_persia_first = {
	OR = {
		country_exists = PER
		266 = { annexations_state_has_valid_annexation = no } #Teheran
	}
}

should_release_syria_first = {
	OR = {
		country_exists = SYR
		554 = { annexations_state_has_valid_annexation = no } #Damascus
	}
}

should_release_trucial_states_first = {
	OR = {
		country_exists = TRU
		658 = { annexations_state_has_valid_annexation = no } #Abu Dhabi
	}
}

should_release_turkey_first = {
	OR = {
		country_exists = TUR
		49 = { annexations_state_has_valid_annexation = no } #Ankara
	}
}

should_release_yemen_first = {
	OR = {
		country_exists = YEM
		293 = { annexations_state_has_valid_annexation = no } #Yemen
	}
}


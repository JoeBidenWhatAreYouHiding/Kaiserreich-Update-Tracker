USA_is_valid_loas_member = {
	is_in_faction_with = global.USA_league_of_america_leader
	OR = {
		is_subject = no
		is_subject_of = global.USA_league_of_america_leader
	}
	has_socialist_government = no
	NOT = { has_government = national_populist }
}

ACC_can_elect_farmer_labor = {
	tag = ACC
	NOT = {
		country_exists = USA
		is_in_faction_with = NEE
	}
}

APG_long_in_power = {
	OR = {
		has_country_leader = { character = APG_huey_long }
		has_country_leader = { character = APG_earl_kemp_long }
	}
}

APG_business_plot_in_power = {
	OR = {
		has_country_leader = { character = APG_george_van_horn_moseley }
		has_country_leader = { character = APG_charles_lindbergh }
	}
}

APG_dies_in_power = {
	has_country_leader = { character = APG_martin_dies_jr }
}

USA_has_america_cosmetic_tag = {
	OR = {
		USA_has_colourless_america_cosmetic_tag = yes
		USA_has_blue_america_cosmetic_tag = yes
	}
}

USA_has_colourless_america_cosmetic_tag = {
	OR = {
		has_cosmetic_tag = america
		has_cosmetic_tag = america_49
		has_cosmetic_tag = america_50
		has_cosmetic_tag = america_51
	}
}

USA_has_blue_america_cosmetic_tag = {
	OR = {
		has_cosmetic_tag = america_blue
		has_cosmetic_tag = america_49_blue
		has_cosmetic_tag = america_50_blue
		has_cosmetic_tag = america_51_blue
	}
}

USA_still_recovering_from_civil_war = {
	OR = {
		has_idea = USA_civil_war_aftermath_idea
		has_idea = USA_civil_war_aftermath_idea2
		has_idea = USA_civil_war_aftermath_idea3
		has_idea = USA_civil_war_aftermath_idea4
		has_idea = USA_civil_war_aftermath_idea5
		has_idea = USA_civil_war_depression_idea
		has_idea = USA_civil_war_depression_idea_2
		has_idea = USA_civil_war_depression_idea_2
	}
}

# How to use:
#FROM = { # FROM = country in MIO scope
#	set_temp_variable = { MIO_target = mio:mio_token }
#	USA_mio_has_maintained_independence = yes/no
#	USA_mio_is_senior_partner_of_merger = yes/no
#}
USA_mio_has_maintained_independence = {
	custom_override_tooltip = {
		tooltip = { localization_key = USA_mio_has_maintained_independence MIO = "[?var:MIO_target.GetName]" }
		var:MIO_target = { has_mio_flag = USA_MIO_maintain_independence }
	}
}

USA_mio_is_junior_partner_of_merger = {
	custom_override_tooltip = {
		tooltip = USA_mio_is_junior_partner_of_merger
		has_mio_flag = USA_MIO_merger_junior_partner
	}
}

USA_mio_is_senior_partner_of_merger = {
	custom_override_tooltip = {
		tooltip = { localization_key = USA_mio_is_senior_partner_of_merger MIO = "[?var:MIO_target.GetName]" }
		var:MIO_target = { has_mio_flag = USA_MIO_merger_senior_partner }
	}
}

USA_mio_has_decided_on_merger_or_independence = {
	custom_override_tooltip = {
		tooltip = {
			localization_key = USA_mio_has_decided_on_merger_or_independence
			MIO = "[?var:MIO_target.GetName]"
		}
		var:MIO_target = {
			OR = {
				has_mio_flag = USA_MIO_merger_junior_partner
				has_mio_flag = USA_MIO_merger_senior_partner
				has_mio_flag = USA_MIO_maintain_independence
			}
		}
	}
}

american_car_and_foundry_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = american_car_and_foundry_upgrade_1_4 }
}

chrysler_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = chrysler_upgrade_1_6 }
}

fisher_body_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = fisher_body_upgrade_1_5 }
}

pacific_car_and_foundry_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = pacific_car_and_foundry_upgrade_1_5 }
}

buick_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = buick_upgrade_1_4 }
}

baldwin_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = baldwin_upgrade_1_4 }
}

newport_news_shipbuilding_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = newport_news_shipbuilding_upgrade_1_3 }
}

norfolk_naval_shipyard_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = norfolk_naval_shipyard_upgrade_1_3 }
}

kaiser_shipyards_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = kaiser_shipyards_upgrade_1_5 }
}

brooklyn_naval_yards_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = brooklyn_naval_yards_upgrade_1_3 }
}

electric_boat_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = electric_boat_upgrade_1_2 }
}

higgins_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = higgins_upgrade_1_3 }
}

mare_island_naval_shipyard_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = mare_island_naval_shipyard_upgrade_1_3 }
}

bell_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = bell_upgrade_1_3 }
}

consolidated_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = consolidated_upgrade_1_5 }
}

grumman_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = grumman_upgrade_1_3 }
}

lockheed_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = lockheed_upgrade_1_5 }
}

north_american_aviation_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = north_american_aviation_upgrade_1_5 }
}

curtiss_wright_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = curtiss_wright_upgrade_1_7 }
}

vought_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = vought_upgrade_1_3 }
}

boeing_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = boeing_upgrade_1_4 }
}

douglas_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = douglas_upgrade_1_4 }
}

browning_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = browning_upgrade_1_3 }
}

colt_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = colt_upgrade_1_3 }
}

remington_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = remington_upgrade_1_3 }
}

springfield_armory_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = springfield_armory_upgrade_1_5 }
}

winchester_repeating_arms_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = winchester_repeating_arms_upgrade_1_4 }
}

army_ordnance_department_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = army_ordnance_department_upgrade_1_6 }
}

rock_island_arsenal_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = rock_island_arsenal_upgrade_1_5 }
}

watervliet_arsenal_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = watervliet_arsenal_upgrade_1_3 }
}

studebaker_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = studebaker_upgrade_1_5 }
}

ford_stockpile_trait_unlocked = {
	PREV = { is_mio_trait_completed = ford_upgrade_1_5 }
}

USA_has_boosted_loas_game_rule = {
	OR = {
		AND = {
			has_game_rule = { rule = USA_forpol option = USA_FORPOL_BOOSTED_USA }
			USA = {
				exists = yes
				is_subject = no
			}
		}
		AND = {
			has_game_rule = { rule = APG_forpol option = APG_FORPOL_BOOSTED_APG }
			APG = {
				exists = yes
				is_subject = no
			}
		}
		AND = {
			has_game_rule = { rule = ACC_forpol option = ACC_FORPOL_BOOSTED_ACC }
			ACC = {
				exists = yes
				is_subject = no
			}
		}
	}
	NOT = { has_government = national_populist }
}

ACW_strength_factor = {
	divide_temp_variable = { strength_factor = 5 }
	add_to_temp_variable = { strength_factor = 1 }
}

ACW_strength_factor_reverse = {
	subtract_from_temp_variable = { strength_factor = 3 }
	multiply_temp_variable = { strength_factor = 0.2 }
	clamp_temp_variable = { var = strength_factor max = 0 }
	add_to_temp_variable = { strength_factor = 1 }
}

ACW_SPA_strength_factor = {
	set_temp_variable = { strength_factor = USA.SPA_strength }
	ACW_strength_factor = yes
}

ACW_SPA_strength_factor_reverse = {
	set_temp_variable = { strength_factor = USA.SPA_strength }
	ACW_strength_factor_reverse = yes
}

ACW_long_strength_factor = {
	set_temp_variable = { strength_factor = USA.Long_strength }
	ACW_strength_factor = yes
}

ACW_long_strength_factor_reverse = {
	set_temp_variable = { strength_factor = USA.Long_strength }
	ACW_strength_factor_reverse = yes
}

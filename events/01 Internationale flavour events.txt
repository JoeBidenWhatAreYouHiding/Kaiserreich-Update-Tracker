###########################
# International Worker's Olympiad
###########################
# by ~mw~ // miwaco
###########################

add_namespace = international_workers_olympiad_events

country_event = {
	id = international_workers_olympiad_events.1
	title = international_workers_olympiad_events.1.t
	desc = international_workers_olympiad_events.1.d
	picture = GFX_report_event_ARG_bla1

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_country = {
				limit = { has_socialist_government = yes }
				country_event = { id = international_workers_olympiad_events.2 days = 7 }
			}
			country_event = { id = international_workers_olympiad_events.5 days = 21 }
		}
	}

	option = {
		log = "[GetLogInfo]: event international_workers_olympiad_events.1 option international_workers_olympiad_events.1.a"
		name = international_workers_olympiad_events.1.a
		add_stability = 0.02
	}
}

country_event = {
	id = international_workers_olympiad_events.2
	title = international_workers_olympiad_events.2.t
	desc = international_workers_olympiad_events.2.d
	picture = GFX_report_event_AST_crowd3

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
		NOT = { tag = USA }
	}

	option = {
		log = "[GetLogInfo]: event international_workers_olympiad_events.2 option international_workers_olympiad_events.2.a"
		name = international_workers_olympiad_events.2.a
		add_stability = 0.01
	}
}

country_event = {
	id = international_workers_olympiad_events.5
	title = international_workers_olympiad_events.5.t
	desc = international_workers_olympiad_events.5.d
	picture = GFX_report_event_generic_happy_crowd

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event international_workers_olympiad_events.5 option international_workers_olympiad_events.5.a"
		name = international_workers_olympiad_events.5.a
		add_stability = 0.01
	}
}

country_event = {
	id = international_workers_olympiad_events.23
	title = international_workers_olympiad_events.23.t
	desc = international_workers_olympiad_events.23.d
	picture = GFX_report_event_generic_conference1

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
		has_war = no
	}

	option = {
		log = "[GetLogInfo]: event international_workers_olympiad_events.23 option international_workers_olympiad_events.23.a"
		name = international_workers_olympiad_events.23.a # Marseille
		country_event = international_workers_olympiad_events.24
	}
	option = {
		log = "[GetLogInfo]: event international_workers_olympiad_events.23 option international_workers_olympiad_events.23.b"
		name = international_workers_olympiad_events.23.b # Birmingham
		ENG = { country_event = international_workers_olympiad_events.25 }
	}
	option = {
		log = "[GetLogInfo]: event international_workers_olympiad_events.23 option international_workers_olympiad_events.23.c"
		name = international_workers_olympiad_events.23.c # Torino
		SRI = { country_event = international_workers_olympiad_events.26 }
	}
}

country_event = {
	id = international_workers_olympiad_events.24
	title = international_workers_olympiad_events.24.t
	desc = international_workers_olympiad_events.24.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = international_workers_olympiad_events.1 days = 372 }
		}
	}
	option = {
		log = "[GetLogInfo]: event international_workers_olympiad_events.24 option international_workers_olympiad_events.24.a"
		name = international_workers_olympiad_events.24.a
		21 = {
			save_global_event_target_as = iwo_host
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}

country_event = {
	id = international_workers_olympiad_events.25
	title = international_workers_olympiad_events.25.t
	desc = international_workers_olympiad_events.25.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = international_workers_olympiad_events.1 days = 372 }
		}
	}
	option = {
		log = "[GetLogInfo]: event international_workers_olympiad_events.25 option international_workers_olympiad_events.25.a"
		name = international_workers_olympiad_events.25.a
		128 = {
			save_global_event_target_as = iwo_host
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}

country_event = {
	id = international_workers_olympiad_events.26
	title = international_workers_olympiad_events.26.t
	desc = international_workers_olympiad_events.26.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = international_workers_olympiad_events.1 days = 372 }
		}
	}
	option = {
		log = "[GetLogInfo]: event international_workers_olympiad_events.26 option international_workers_olympiad_events.26.a"
		name = international_workers_olympiad_events.26.a
		158 = {
			save_global_event_target_as = iwo_host
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}


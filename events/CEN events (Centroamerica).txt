###########################
# Centroamerica Events
# Scripted by Dr_Njitram
# Made by Beelzebub
###########################

add_namespace = central_america_socialist_events

### Election Events

country_event = { #Founding of the Central American Congress
	id = central_america_socialist_events.001
	title = central_america_socialist_events.001.t
	desc = central_america_socialist_events.001.d
	picture = GFX_report_event_ELS_government_house

	is_triggered_only = yes

	option = { #To a new future!
		log = "[GetLogInfo]: event central_america_socialist_events.001 option central_america_socialist_events.001.a"
		name = central_america_socialist_events.001.a
		add_political_power = 50
		hidden_effect = {
			country_event = { id = central_america_socialist_events.002 days = 5 }
		}
	}
}

country_event = { #First Faction: Partido Nacional Revolucionario
	id = central_america_socialist_events.002
	title = central_america_socialist_events.002.t
	desc = central_america_socialist_events.002.d

	is_triggered_only = yes

	option = { #The splits begin to show
		log = "[GetLogInfo]: event central_america_socialist_events.002 option central_america_socialist_events.002.a"
		name = central_america_socialist_events.002.a
		if = {
			limit = { NOT = { NIC_augusto_cesar_sandino = { has_ideology = radical_socialist_subtype } } }
			add_country_leader_role = {
				character = NIC_augusto_cesar_sandino
				country_leader = {
					desc = NIC_augusto_cesar_sandino_leader_desc
					ideology = radical_socialist_subtype
				}
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.04
		}
		hidden_effect = {
			country_event = { id = central_america_socialist_events.003 days = 5 }
		}
	}
}

country_event = { #Second Faction: Partido Maximista
	id = central_america_socialist_events.003
	title = central_america_socialist_events.003.t
	desc = central_america_socialist_events.003.d

	is_triggered_only = yes

	option = { #A very dangerous party indeed...
		log = "[GetLogInfo]: event central_america_socialist_events.003 option central_america_socialist_events.003.a"
		name = central_america_socialist_events.003.a
		promote_character = {
			character = HON_juan_pablo_wainwright
			ideology = totalist_subtype
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.03
		}
		hidden_effect = {
			country_event = { id = central_america_socialist_events.004 days = 5 }
		}
	}
}

country_event = { #Third Faction: Partido Sindicalista
	id = central_america_socialist_events.004
	title = central_america_socialist_events.004.t
	desc = central_america_socialist_events.004.d

	is_triggered_only = yes

	option = { #The European model could work after all...
		log = "[GetLogInfo]: event central_america_socialist_events.004 option central_america_socialist_events.004.a"
		name = central_america_socialist_events.004.a
		promote_character = {
			character = ELS_agustin_farabundo_marti
			ideology = syndicalist_subtype
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		hidden_effect = {
			country_event = { id = central_america_socialist_events.006 days = 1 }
			country_event = { id = central_america_socialist_events.005 days = 1 }
		}
	}
}

country_event = { #Fourth Faction: Name WIP No costa rica
	id = central_america_socialist_events.005
	title = central_america_socialist_events.005.t
	desc = central_america_socialist_events.005.d

	trigger = {
		NOT = { has_character = COS_rafael_angel_calderon_guardia }
	}

	is_triggered_only = yes

	option = { #A man of the people!
		log = "[GetLogInfo]: event central_america_socialist_events.005 option central_america_socialist_events.005.a"
		name = central_america_socialist_events.005.a
		GUA_silverio_ortiz = {
			if = {
				limit = { has_ideology = social_democrat_subtype }
				promote_character = social_democrat_subtype
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = GUA_silverio_ortiz_leader_desc
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
			}
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.04
		}
		hidden_effect = {
			country_event = { id = central_america_socialist_events.007 days = 2 }
			country_event = { id = central_america_socialist_events.008 days = 3 }
		}
	}
}

country_event = { #Fourth Faction: Name WIP yes Costa Rica
	id = central_america_socialist_events.006
	title = central_america_socialist_events.005.t
	desc = central_america_socialist_events.006.d

	trigger = {
		has_character = COS_rafael_angel_calderon_guardia
	}

	is_triggered_only = yes

	option = { #A man of the people!
		log = "[GetLogInfo]: event central_america_socialist_events.006 option central_america_socialist_events.005.a"
		name = central_america_socialist_events.005.a
		COS_rafael_angel_calderon_guardia = {
			if = {
				limit = { has_ideology = social_democrat_subtype }
				promote_character = social_democrat_subtype
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = COS_rafael_angel_calderon_guardia_leader_desc
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_ideology = radical_socialist_subtype } }
					add_country_leader_role = {
						country_leader = {
							desc = COS_rafael_angel_calderon_guardia_leader_desc
							ideology = radical_socialist_subtype
						}
					}
				}
			}
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.04
		}
		hidden_effect = {
			country_event = { id = central_america_socialist_events.007 days = 2 }
			country_event = { id = central_america_socialist_events.008 days = 3 }
		}
	}
}

country_event = { #Moreno, Lost and Found
	id = central_america_socialist_events.007
	title = central_america_socialist_events.007.t
	desc = central_america_socialist_events.007.d

	is_triggered_only = yes

	option = { #Joins the Rad Socs
		log = "[GetLogInfo]: event central_america_socialist_events.007 option central_america_socialist_events.007.a"
		name = central_america_socialist_events.007.a
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.03
		}
	}
	option = { #Joins the Soc Dems
		log = "[GetLogInfo]: event central_america_socialist_events.007 option central_america_socialist_events.007.b"
		name = central_america_socialist_events.007.b
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.03
		}
	}
}

country_event = { #Calling of the Congress
	id = central_america_socialist_events.008
	title = central_america_socialist_events.008.t
	desc = central_america_socialist_events.008.d
	picture = GFX_report_event_COS_parliament
	is_triggered_only = yes

	option = { #Let us begin
		log = "[GetLogInfo]: event central_america_socialist_events.008 option central_america_socialist_events.008.a"
		name = central_america_socialist_events.008.a
		add_political_power = 20
		hidden_effect = {
			set_variable = { CEN_soc = 0 }
			set_variable = { CEN_tot = 0 }
			set_variable = { CEN_syn = 0 }
			set_variable = { CEN_rad = 0 }
			if = {
				limit = { is_subject = no }
				country_event = { id = central_america_socialist_events.009 days = 7 }
			}
			else = {
				country_event = { id = central_america_socialist_events.997 days = 19 }
			}
		}
	}
}

country_event = { #Status of Power
	id = central_america_socialist_events.009
	title = central_america_socialist_events.009.t
	desc = central_america_socialist_events.009.d
	picture = GFX_report_event_USA_congress
	is_triggered_only = yes

	option = { #The congress will always remain important
		log = "[GetLogInfo]: event central_america_socialist_events.009 option central_america_socialist_events.009.a"
		name = central_america_socialist_events.009.a
		ai_chance = {
			base = 63
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_REVOLUTIONARY_RADSOC }
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_TOTALIST }
				}
			}
		}
		add_political_power = 20
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.04
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.04
		}
		hidden_effect = {
			set_country_flag = CEN_power_congress
			add_to_variable = { CEN_soc = 1 }
			add_to_variable = { CEN_syn = 1 }
		}
	}
	option = { #The chairman is the final factor
		log = "[GetLogInfo]: event central_america_socialist_events.009 option central_america_socialist_events.009.b"
		name = central_america_socialist_events.009.b
		ai_chance = {
			base = 37
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_MODERADO_RADSOC }
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_SYNDIE }
				}
			}
		}
		add_stability = -0.05
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		hidden_effect = {
			set_country_flag = CEN_power_chairman
			add_to_variable = { CEN_rad = 1 }
			add_to_variable = { CEN_tot = 1 }
		}
	}
	after = {
		country_event = { id = central_america_socialist_events.010 days = 3 }
	}
}

country_event = { #Status of the Army
	id = central_america_socialist_events.010
	title = central_america_socialist_events.010.t
	desc = central_america_socialist_events.010.d
	picture = GFX_report_event_HOL_general_staff
	is_triggered_only = yes

	option = { #The militias are our own roots!
		log = "[GetLogInfo]: event central_america_socialist_events.010 option central_america_socialist_events.010.a"
		name = central_america_socialist_events.010.a
		ai_chance = {
			base = 63
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_MODERADO_RADSOC }
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_TOTALIST }
				}
			}
		}
		add_political_power = -30
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.03
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.03
		}
		hidden_effect = {
			set_country_flag = CEN_army_militias
			add_to_variable = { CEN_rad = 1 }
			add_to_variable = { CEN_syn = 1 }
		}
	}
	option = { #Maybe it is time to move on...
		log = "[GetLogInfo]: event central_america_socialist_events.010 option central_america_socialist_events.010.b"
		name = central_america_socialist_events.010.b
		ai_chance = {
			base = 37
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_SYNDIE }
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_REVOLUTIONARY_RADSOC }
				}
			}
		}
		add_war_support = -0.05
		add_popularity = {
			ideology = totalist
			popularity = 0.03
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.03
		}
		hidden_effect = {
			set_country_flag = CEN_army_move
			add_to_variable = { CEN_tot = 1 }
			add_to_variable = { CEN_soc = 1 }
		}
	}
	after = {
		country_event = { id = central_america_socialist_events.011 days = 3 }
	}
}

country_event = { #Status of Industry
	id = central_america_socialist_events.011
	title = central_america_socialist_events.011.t
	desc = central_america_socialist_events.011.d
	picture = GFX_report_event_WAL_La_Louviere2
	is_triggered_only = yes

	option = { #For a stronger future, industrialization!
		log = "[GetLogInfo]: event central_america_socialist_events.011 option central_america_socialist_events.011.a"
		name = central_america_socialist_events.011.a
		ai_chance = {
			base = 28
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_MODERADO_RADSOC }
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_REVOLUTIONARY_RADSOC }
				}
			}
		}
		add_war_support = -0.05
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		hidden_effect = {
			set_country_flag = CEN_industry_industrialization
			add_to_variable = { CEN_tot = 1 }
			add_to_variable = { CEN_syn = 1 }
		}
	}
	option = { #For a better people, agrarianism!
		log = "[GetLogInfo]: event central_america_socialist_events.011 option central_america_socialist_events.011.b"
		name = central_america_socialist_events.011.b
		ai_chance = {
			base = 72
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_TOTALIST }
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_SYNDIE }
				}
			}
		}
		add_political_power = -50
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.1
		}
		hidden_effect = {
			set_country_flag = CEN_industry_agrarianism
			add_to_variable = { CEN_soc = 1 }
			add_to_variable = { CEN_rad = 1 }
		}
	}
	after = {
		country_event = { id = central_america_socialist_events.012 days = 3 }
	}
}

country_event = { #Status of the Future Elections
	id = central_america_socialist_events.012
	title = central_america_socialist_events.012.t
	desc = central_america_socialist_events.012.d
	picture = GFX_report_event_HOL_black_monday
	is_triggered_only = yes

	option = { #The council is the backbone of the union
		log = "[GetLogInfo]: event central_america_socialist_events.012 option central_america_socialist_events.012.a"
		name = central_america_socialist_events.012.a
		ai_chance = {
			base = 31
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_MODERADO_RADSOC }
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_REVOLUTIONARY_RADSOC }
				}
			}
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.07
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.07
		}
		hidden_effect = {
			set_country_flag = CEN_elections_council
			add_to_variable = { CEN_tot = 1 }
			add_to_variable = { CEN_syn = 1 }
		}
	}
	option = { #The people are the true deciders here!
		log = "[GetLogInfo]: event central_america_socialist_events.012 option central_america_socialist_events.012.b"
		name = central_america_socialist_events.012.b
		ai_chance = {
			base = 69
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_TOTALIST }
					has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_SYNDIE }
				}
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.14
		}
		hidden_effect = {
			set_country_flag = CEN_elections_people
			add_to_variable = { CEN_soc = 1 }
			add_to_variable = { CEN_rad = 1 }
		}
	}
	after = {
		hidden_effect = {
			country_event = { id = central_america_socialist_events.998 days = 3 }
		}
	}
}

country_event = { #clearing and setting up flags for CEN puppet
	id = central_america_socialist_events.997

	hidden = yes
	is_triggered_only = yes

	immediate = {
		clr_country_flag = CEN_power_congress
		clr_country_flag = CEN_power_chairman
		clr_country_flag = CEN_army_militias
		clr_country_flag = CEN_army_move
		clr_country_flag = CEN_industry_industrialization
		clr_country_flag = CEN_industry_agrarianism
		clr_country_flag = CEN_elections_council
		clr_country_flag = CEN_elections_people
	}

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.997 option 1"
		trigger = { has_government = radical_socialist }
		add_to_variable = { CEN_rad = 4 }
		set_country_flag = CEN_power_chairman
		set_country_flag = CEN_army_militias
		set_country_flag = CEN_industry_agrarianism
		set_country_flag = CEN_elections_people
	}

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.997 option 2"
		trigger = { has_government = syndicalist }
		add_to_variable = { CEN_syn = 4 }
		set_country_flag = CEN_power_congress
		set_country_flag = CEN_army_militias
		set_country_flag = CEN_industry_industrialization
		set_country_flag = CEN_elections_council
	}

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.997 option 3"
		trigger = { has_government = totalist }
		add_to_variable = { CEN_tot = 4 }
		set_country_flag = CEN_power_chairman
		set_country_flag = CEN_army_move
		set_country_flag = CEN_industry_industrialization
		set_country_flag = CEN_elections_council
	}
	after = {
		set_temp_variable = { ideology_change_var = 0.1 }
		change_ruling_party_popularity = yes
		country_event = { id = central_america_socialist_events.998 days = 3 }
	}
}

country_event = { # Calculate who won
	id = central_america_socialist_events.998
	#four events total
	#all can add 1, so 4 is max, 0 is min
	#If one has 4, ezpz, they win
	#if one doesnt have 4, but a majority, they win too
	#else in a draw you choose, but no pop bonus
	#ai should be radical_socialist /syndicalist /totalist = 0.66/0.25/0.083

	hidden = yes

	is_triggered_only = yes

	immediate = {
		country_event = { id = central_america_socialist_events.999 months = 1 }
	}

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.998 option 1"
		if = {
			limit = {
				OR = {
					check_variable = { CEN_soc = 4 }
					AND = {
						check_variable = { CEN_soc = 3 }
						check_variable = { CEN_soc > CEN_rad }
					}
				}
			}
			country_event = { id = central_america_socialist_events.016 days = 3 }
		}
		else_if = {
			limit = {
				OR = {
					check_variable = { CEN_rad = 4 }
					AND = {
						check_variable = { CEN_rad = 3 }
						check_variable = { CEN_rad > CEN_soc }
					}
				}
			}
			country_event = { id = central_america_socialist_events.015 days = 3 }
		}
		else_if = {
			limit = {
				OR = {
					check_variable = { CEN_tot = 4 }
					AND = {
						check_variable = { CEN_tot = 3 }
						check_variable = { CEN_tot > CEN_syn }
					}
				}
			}
			country_event = { id = central_america_socialist_events.013 days = 3 }
		}
		else_if = {
			limit = {
				OR = {
					check_variable = { CEN_syn = 4 }
					AND = {
						check_variable = { CEN_syn = 3 }
						check_variable = { CEN_syn > CEN_tot }
					}
				}
			}
			country_event = { id = central_america_socialist_events.014 days = 3 }
		}
		else_if = {
			limit = {
				check_variable = { CEN_syn = 3 }
				check_variable = { CEN_syn = CEN_tot }
			}
			set_country_flag = CEN_syn_draw
			set_country_flag = CEN_tot_draw
			country_event = { id = central_america_socialist_events.017 days = 3 }
		}
		else_if = {
			limit = {
				check_variable = { CEN_rad = 3 }
				check_variable = { CEN_rad = CEN_soc }
			}
			set_country_flag = CEN_rad_draw
			set_country_flag = CEN_soc_draw
			country_event = { id = central_america_socialist_events.017 days = 3 }
		}
	}
}

country_event = { #election cleanup
	id = central_america_socialist_events.999

	hidden = yes
	is_triggered_only = yes

	immediate = {
		clear_variable = CEN_rad
		clear_variable = CEN_soc
		clear_variable = CEN_syn
		clear_variable = CEN_tot
	}
}

country_event = { #Maixmistas Victory
	id = central_america_socialist_events.013
	title = central_america_socialist_events.013.t
	desc = central_america_socialist_events.013.d
	picture = GFX_report_event_USA_victory_celebration
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.013 option central_america_socialist_events.013.a"
		name = central_america_socialist_events.013.a
		set_politics = {
			ruling_party = totalist
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		complete_national_focus = CEN_congress_totalist
		hidden_effect = {
			promote_character = {
				character = NIC_augusto_cesar_sandino
				ideology = radical_socialist_subtype
			}
		}
	}
}

country_event = { #Sindicalistas Victory
	id = central_america_socialist_events.014
	title = central_america_socialist_events.014.t
	desc = central_america_socialist_events.014.d
	picture = GFX_report_event_USA_victory_celebration
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.014 option central_america_socialist_events.014.a"
		name = central_america_socialist_events.014.a
		set_politics = {
			ruling_party = syndicalist
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		complete_national_focus = CEN_congress_syndicalist
		hidden_effect = {
			promote_character = {
				character = NIC_augusto_cesar_sandino
				ideology = radical_socialist_subtype
			}
		}
	}
}

country_event = { #Revolutionaries Victory
	id = central_america_socialist_events.015
	title = central_america_socialist_events.015.t
	desc = central_america_socialist_events.015.d
	picture = GFX_report_event_USA_victory_celebration
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.015 option central_america_socialist_events.015.a"
		name = central_america_socialist_events.015.a
		promote_character = {
			character = NIC_augusto_cesar_sandino
			ideology = radical_socialist_subtype
		}
		set_politics = {
			ruling_party = radical_socialist
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		complete_national_focus = CEN_congress_radical_socialist
	}
}

country_event = { #Moderados Victory
	id = central_america_socialist_events.016
	title = central_america_socialist_events.016.t
	desc = central_america_socialist_events.016.d
	picture = GFX_report_event_USA_victory_celebration
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.016 option central_america_socialist_events.016.a"
		name = central_america_socialist_events.016.a
		hidden_effect = {
			promote_character = {
				character = NIC_augusto_cesar_sandino
				ideology = radical_socialist_subtype
			}
		}
		if = {
			limit = { has_character = COS_rafael_angel_calderon_guardia }
			promote_character = {
				character = COS_rafael_angel_calderon_guardia
				ideology = radical_socialist_subtype
			}
			country_event = { id = central_america_socialist_events.103 days = 5 }
		}
		else = {
			promote_character = {
				character = GUA_silverio_ortiz
				ideology = radical_socialist_subtype
			}
		}
		set_politics = {
			ruling_party = radical_socialist
			long_name = CEN_social_democrat_party_long
			name = CEN_social_democrat_party
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.05
		}
		set_temp_variable = { coalition_partner_var = token:social_democrat }
		add_to_coalition = yes
		complete_national_focus = CEN_congress_moderate
	}
}

country_event = { #Deadlock!
	id = central_america_socialist_events.017
	title = central_america_socialist_events.017.t
	desc = central_america_socialist_events.017.d
	picture = GFX_report_event_USA_congress
	is_triggered_only = yes

	option = { #social_democrat
		log = "[GetLogInfo]: event central_america_socialist_events.017 option central_america_socialist_events.017.a"
		name = central_america_socialist_events.017.a
		trigger = {
			has_country_flag = CEN_soc_draw
		}
		hidden_effect = {
			promote_character = {
				character = NIC_augusto_cesar_sandino
				ideology = radical_socialist_subtype
			}
		}
		complete_national_focus = CEN_congress_moderate
		if = {
			limit = { has_character = COS_rafael_angel_calderon_guardia }
			promote_character = {
				character = COS_rafael_angel_calderon_guardia
				ideology = radical_socialist_subtype
			}
		}
		else = {
			promote_character = {
				character = GUA_silverio_ortiz
				ideology = radical_socialist_subtype
			}
		}
		set_politics = {
			ruling_party = radical_socialist
			long_name = CEN_social_democrat_party_long
			name = CEN_social_democrat_party
		}
		set_temp_variable = { coalition_partner_var = token:social_democrat }
		add_to_coalition = yes
	}
	option = { #totalist
		log = "[GetLogInfo]: event central_america_socialist_events.017 option central_america_socialist_events.017.b"
		name = central_america_socialist_events.017.b
		trigger = {
			has_country_flag = CEN_tot_draw
		}
		complete_national_focus = CEN_congress_totalist
		set_politics = {
			ruling_party = totalist
		}
		hidden_effect = {
			promote_character = {
				character = NIC_augusto_cesar_sandino
				ideology = radical_socialist_subtype
			}
		}
	}
	option = { #syndicalist
		log = "[GetLogInfo]: event central_america_socialist_events.017 option central_america_socialist_events.017.c"
		name = central_america_socialist_events.017.c
		trigger = {
			has_country_flag = CEN_syn_draw
		}
		complete_national_focus = CEN_congress_syndicalist
		set_politics = {
			ruling_party = syndicalist
		}
		hidden_effect = {
			promote_character = {
				character = NIC_augusto_cesar_sandino
				ideology = radical_socialist_subtype
			}
		}
	}
	option = { #radical_socialist
		log = "[GetLogInfo]: event central_america_socialist_events.017 option central_america_socialist_events.017.e"
		name = central_america_socialist_events.017.e
		trigger = {
			has_country_flag = CEN_rad_draw
		}
		complete_national_focus = CEN_congress_radical_socialist
		promote_character = {
			character = NIC_augusto_cesar_sandino
			ideology = radical_socialist_subtype
		}
		set_politics = {
			ruling_party = radical_socialist
		}
	}
}

### General Post Election Events

country_event = { #The Capital Debate
	id = central_america_socialist_events.018
	title = central_america_socialist_events.018.t
	desc = central_america_socialist_events.018.d
	picture = GFX_report_event_USA_congress

	is_triggered_only = yes

	option = { #el salvador will do nicely
		log = "[GetLogInfo]: event central_america_socialist_events.018 option central_america_socialist_events.018.a"
		name = central_america_socialist_events.018.a
		trigger = {
			has_completed_focus = CEN_congress_syndicalist
			owns_state = 314
		}
		set_capital = { state = 314 remember_old_capital = no }
	}
	option = { #honduras will do nicely
		log = "[GetLogInfo]: event central_america_socialist_events.018 option central_america_socialist_events.018.b"
		name = central_america_socialist_events.018.b
		trigger = {
			has_completed_focus = CEN_congress_totalist
			owns_state = 312
		}
		set_capital = { state = 312 remember_old_capital = no }
	}
	option = { #guatemala will do nicely
		log = "[GetLogInfo]: event central_america_socialist_events.018 option central_america_socialist_events.018.c"
		name = central_america_socialist_events.018.c
		trigger = {
			NOT = { owns_state = 316 }
			has_completed_focus = CEN_congress_moderate
			owns_state = 313
		}
		set_capital = { state = 313 remember_old_capital = no }
	}
	option = { #nicaragua will do nicely
		log = "[GetLogInfo]: event central_america_socialist_events.018 option central_america_socialist_events.018.e"
		name = central_america_socialist_events.018.e
		trigger = {
			has_completed_focus = CEN_congress_radical_socialist
			owns_state = 317
		}
		set_capital = { state = 317 remember_old_capital = no }
	}
	option = { #costa rica will do nicely
		log = "[GetLogInfo]: event central_america_socialist_events.018 option central_america_socialist_events.018.f"
		name = central_america_socialist_events.018.f
		trigger = {
			has_completed_focus = CEN_congress_moderate
			owns_state = 316
		}
		set_capital = { state = 316 remember_old_capital = no }
	}
}
### Focus Events
country_event = { #Socialist Funding
	id = central_america_socialist_events.019
	title = central_america_socialist_events.019.t
	desc = central_america_socialist_events.019.d
	picture = GFX_report_event_USA_nationalisation1
	is_triggered_only = yes

	option = { #Use money
		log = "[GetLogInfo]: event central_america_socialist_events.019 option central_america_socialist_events.019.a"
		name = central_america_socialist_events.019.a
		add_political_power = -100
		add_ideas = CEN_soc_fund_idea
	}
	option = { #appropriate some factories
		log = "[GetLogInfo]: event central_america_socialist_events.019 option central_america_socialist_events.019.b"
		name = central_america_socialist_events.019.b
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
		add_one_random_civilian_factory = yes
	}
}

country_event = { #Budget Reajustments
	id = central_america_socialist_events.020
	title = central_america_socialist_events.020.t
	desc = central_america_socialist_events.020.d
	is_triggered_only = yes

	option = { #Give them a high budget
		log = "[GetLogInfo]: event central_america_socialist_events.020 option central_america_socialist_events.020.a"
		name = central_america_socialist_events.020.a
		add_timed_idea = {
			idea = CEN_high_budget_idea
			days = 180
		}
	}
	option = { #Give them a midium budget
		log = "[GetLogInfo]: event central_america_socialist_events.020 option central_america_socialist_events.020.b"
		name = central_america_socialist_events.020.b
		add_timed_idea = {
			idea = CEN_mid_budget_idea
			days = 180
		}
	}
	option = { #Give them a small budget
		log = "[GetLogInfo]: event central_america_socialist_events.020 option central_america_socialist_events.020.c"
		name = central_america_socialist_events.020.c
		add_timed_idea = {
			idea = CEN_low_budget_idea
			days = 180
		}
	}
	after = {
		country_event = central_america_socialist_events.021
	}
}

country_event = { #Budget focus
	id = central_america_socialist_events.021
	title = central_america_socialist_events.021.t
	desc = central_america_socialist_events.021.d
	is_triggered_only = yes

	option = { #Focus in research
		log = "[GetLogInfo]: event central_america_socialist_events.021 option central_america_socialist_events.021.a"
		name = central_america_socialist_events.021.a
		if = {
			limit = { has_idea = CEN_high_budget_idea }
			add_ideas = CEN_high_budget_research_idea
		}
		else_if = {
			limit = { has_idea = CEN_mid_budget_idea }
			add_ideas = CEN_mid_budget_research_idea
		}
		else_if = {
			limit = { has_idea = CEN_low_budget_idea }
			add_ideas = CEN_low_budget_research_idea
		}
	}
	option = { #Focus in construction
		log = "[GetLogInfo]: event central_america_socialist_events.021 option central_america_socialist_events.021.b"
		name = central_america_socialist_events.021.b
		if = {
			limit = { has_idea = CEN_high_budget_idea }
			add_ideas = CEN_high_budget_construction_idea
		}
		else_if = {
			limit = { has_idea = CEN_mid_budget_idea }
			add_ideas = CEN_mid_budget_construction_idea
		}
		else_if = {
			limit = { has_idea = CEN_low_budget_idea }
			add_ideas = CEN_low_budget_construction_idea
		}
	}
	option = { #Focus in production
		log = "[GetLogInfo]: event central_america_socialist_events.021 option central_america_socialist_events.021.c"
		name = central_america_socialist_events.021.c
		if = {
			limit = { has_idea = CEN_high_budget_idea }
			add_ideas = CEN_high_budget_production_idea
		}
		else_if = {
			limit = { has_idea = CEN_mid_budget_idea }
			add_ideas = CEN_mid_budget_production_idea
		}
		else_if = {
			limit = { has_idea = CEN_low_budget_idea }
			add_ideas = CEN_low_budget_production_idea
		}
	}
}

country_event = { #Approaching Yucatan
	id = central_america_socialist_events.022
	title = central_america_socialist_events.022.t
	desc = central_america_socialist_events.022.d
	is_triggered_only = yes

	option = { #Good to have you
		log = "[GetLogInfo]: event central_america_socialist_events.022 option central_america_socialist_events.022.a"
		name = central_america_socialist_events.022.a
		trigger = { YUC = { is_subject = no } } #no stealing puppet
		474 = {
			add_core_of = CEN
		}
		CEN = {
			annex_country = { target = YUC transfer_troops = yes }
		}
	}
	option = { #Good to have you, but lets ask the overlord
		log = "[GetLogInfo]: event central_america_socialist_events.022 option central_america_socialist_events.022.b"
		name = central_america_socialist_events.022.b
		trigger = { YUC = { is_subject = yes } }
		ai_chance = { base = 20 }
		overlord = {
			country_event = central_america_socialist_events.023
		}
	}
	option = { #Good to have you, but lets ask the overlord + bribe
		log = "[GetLogInfo]: event central_america_socialist_events.022 option central_america_socialist_events.022.c"
		name = central_america_socialist_events.022.c
		trigger = { YUC = { is_subject = yes } }
		ai_chance = {
			base = 20
			modifier = {
				factor = 2
				has_political_power > 50
			}
		}
		add_political_power = -50
		overlord = {
			country_event = central_america_socialist_events.023
			add_political_power = 50
			hidden_effect = {
				set_country_flag = CEN_bribe
			}
		}
	}
}

country_event = { #Pls, let me annex Yucatan
	id = central_america_socialist_events.023
	title = central_america_socialist_events.023.t
	desc = central_america_socialist_events.023.d
	is_triggered_only = yes

	option = { #Yes
		log = "[GetLogInfo]: event central_america_socialist_events.023 option central_america_socialist_events.023.a"
		name = central_america_socialist_events.023.a
		ai_chance = { base = 60 }
		474 = {
			add_core_of = CEN
		}
		CEN = {
			annex_country = { target = YUC transfer_troops = yes }
		}
		country_event = central_america_socialist_events.024
		hidden_effect = {
			clr_country_flag = CEN_bribe
		}
	}
	option = { #No
		log = "[GetLogInfo]: event central_america_socialist_events.023 option central_america_socialist_events.023.b"
		name = central_america_socialist_events.023.b
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				has_country_flag = CEN_bribe
			}
		}
		CEN = {
			country_event = central_america_socialist_events.025
		}
	}
}

country_event = { #Response if they accept
	id = central_america_socialist_events.024
	title = central_america_socialist_events.024.t
	desc = central_america_socialist_events.024.d
	is_triggered_only = yes

	option = { #Yay
		log = "[GetLogInfo]: event central_america_socialist_events.024 option central_america_socialist_events.024.a"
		name = central_america_socialist_events.024.a
	}
}

country_event = { #Response if they reject
	id = central_america_socialist_events.025
	title = central_america_socialist_events.025.t
	desc = central_america_socialist_events.025.d
	is_triggered_only = yes

	option = { #Nyo
		log = "[GetLogInfo]: event central_america_socialist_events.025 option central_america_socialist_events.025.a"
		name = central_america_socialist_events.025.a
	}
}

country_event = { ### Event for COS: CEN is doing shit again
	id = central_america_socialist_events.026
	title = central_america_socialist_events.026.t
	desc = central_america_socialist_events.026.d

	fire_only_once = yes
	is_triggered_only = yes
	option = { ### darn military lads
		log = "[GetLogInfo]: event central_america_socialist_events.026 option central_america_socialist_events.026.a"
		name = central_america_socialist_events.026.a
		COS_create_volunteer_divisions_against_CEN = yes
		add_war_support = 0.3
	}
}

country_event = { ### Event for PAN: CEN is doing shit again
	id = central_america_socialist_events.027
	title = central_america_socialist_events.027.t
	desc = central_america_socialist_events.027.d

	fire_only_once = yes
	is_triggered_only = yes
	option = { ### darn military lads
		log = "[GetLogInfo]: event central_america_socialist_events.027 option central_america_socialist_events.026.a"
		name = central_america_socialist_events.026.a
		add_war_support = 0.1
	}
}

country_event = { ### Event for MEX: CEN preparing to invade
	id = central_america_socialist_events.028
	title = central_america_socialist_events.026.t
	desc = central_america_socialist_events.028.d

	fire_only_once = yes
	is_triggered_only = yes
	option = { ### darn military lads
		log = "[GetLogInfo]: event central_america_socialist_events.028 option central_america_socialist_events.028.a"
		name = central_america_socialist_events.028.a
		add_war_support = 0.04
	}
}

country_event = { # Integrating Yucatan
	id = central_america_socialist_events.029
	title = central_america_socialist_events.029.t
	desc = {
		text = central_america_socialist_events.029.d.mex
		trigger = { 474 = { is_owned_and_controlled_by = MEX } }
	}
	desc = {
		text = central_america_socialist_events.029.d.yuc
		trigger = { 474 = { is_owned_and_controlled_by = YUC } }
	}

	fire_only_once = yes
	is_triggered_only = yes
	option = { #only yucatan
		log = "[GetLogInfo]: event central_america_socialist_events.029 option central_america_socialist_events.029.a"
		name = central_america_socialist_events.029.a
		ai_chance = { base = 10 }
	}
	option = { #yucatan and chiapas
		log = "[GetLogInfo]: event central_america_socialist_events.029 option central_america_socialist_events.029.b"
		trigger = {
			MEX = { is_subject_of = CEN }
			475 = { is_owned_and_controlled_by = MEX }
		}
		name = central_america_socialist_events.029.b
		ai_chance = { base = 0 }
		add_stability = -0.1
		add_state_claim = 475 #Chiapas
		475 = { transfer_state_to = CEN }
	}
	after = {
		add_state_claim = 474 #Yucatan
		474 = { enable_state_integration_80_compliance = yes }
		if = {
			limit = { country_exists = YUC }
			CEN = {
				annex_country = { target = YUC transfer_troops = yes }
			}
		}
		else = {
			474 = { transfer_state_to = CEN }
		}
	}
}

country_event = { #Divert production to further our navy
	id = central_america_socialist_events.030
	title = central_america_socialist_events.030.t
	desc = central_america_socialist_events.030.d

	fire_only_once = yes
	is_triggered_only = yes

	option = { #naval dominance is as important as a good army
		log = "[GetLogInfo]: event central_america_socialist_events.030 option central_america_socialist_events.030.a"
		name = central_america_socialist_events.030.a
		ai_chance = { base = 0 }
		add_political_power = -100
		add_timed_idea = {
			idea = CEN_diverted_production_navy
			days = 365
		}
		add_one_random_dockyard = yes
		add_one_random_dockyard = yes
		hidden_effect = {
			country_event = { id = central_america_socialist_events.031 days = 365 }
		}
	}
	option = { #hell no
		log = "[GetLogInfo]: event central_america_socialist_events.030 option central_america_socialist_events.030.b"
		name = central_america_socialist_events.030.b
		ai_chance = { base = 1 }
		add_political_power = 20
	}
}

country_event = { #Continue diverting resources to the navy?
	id = central_america_socialist_events.031
	title = central_america_socialist_events.031.t
	desc = central_america_socialist_events.031.d

	is_triggered_only = yes

	option = { #yes
		log = "[GetLogInfo]: event central_america_socialist_events.031 option central_america_socialist_events.031.a"
		name = central_america_socialist_events.031.a
		ai_chance = { base = 0 }
		add_political_power = -100
		add_timed_idea = {
			idea = CEN_diverted_production_navy
			days = 365
		}
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
		add_one_random_dockyard = yes
		add_one_random_dockyard = yes
		hidden_effect = {
			country_event = { id = central_america_socialist_events.031 days = 365 }
		}
	}
	option = { #no
		log = "[GetLogInfo]: event central_america_socialist_events.031 option central_america_socialist_events.031.b"
		name = central_america_socialist_events.031.b
		ai_chance = { base = 1 }
		add_political_power = 20
	}
}

country_event = { #Approaching mexico for oil
	id = central_america_socialist_events.032
	title = central_america_socialist_events.032.t
	desc = central_america_socialist_events.032.d

	is_triggered_only = yes

	option = { #Do not offer anything :)
		log = "[GetLogInfo]: event central_america_socialist_events.032 option central_america_socialist_events.032.a"
		name = central_america_socialist_events.032.a
		ai_chance = { base = 40 }
		MEX = { country_event = { id = central_america_socialist_events.033 days = 2 } }
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			random_list = {
				30 = { add_ideas = CEN_paying_MEX_low }
				70 = { add_ideas = CEN_paying_MEX_mid }
			}
		}
	}
	option = { #Offer them a bit of industrial help
		log = "[GetLogInfo]: event central_america_socialist_events.032 option central_america_socialist_events.032.b"
		name = central_america_socialist_events.032.b
		ai_chance = { base = 60 }
		save_event_target_as = CEN_offered_help
		MEX = { country_event = { id = central_america_socialist_events.033 days = 2 } }
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			CEN_add_mexican_infrastructure_effect = yes
			custom_effect_tooltip = tooltip_white_line
			random_list = {
				70 = { add_ideas = CEN_paying_MEX_mid }
				30 = { add_ideas = CEN_paying_MEX_high }
			}
		}
	}
}

country_event = { #Approaching mexico for oil - Mexican responce
	id = central_america_socialist_events.033
	title = central_america_socialist_events.033.t
	desc = central_america_socialist_events.033.d

	is_triggered_only = yes

	option = { #No
		log = "[GetLogInfo]: event central_america_socialist_events.033 option central_america_socialist_events.033.a"
		name = central_america_socialist_events.033.a
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				MEX = { has_authoritarian_government = yes }
			}
		}
		FROM = { country_event = { id = central_america_socialist_events.034 days = 2 } }
	}
	option = { #Give them a small amount of oil
		log = "[GetLogInfo]: event central_america_socialist_events.033 option central_america_socialist_events.033.b"
		name = central_america_socialist_events.033.b
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					MEX = { has_authoritarian_government = yes }
					has_event_target = CEN_offered_help
				}
			}
		}
		add_ideas = CEN_MEX_fees_low
		FROM = {
			country_event = { id = central_america_socialist_events.035 days = 2 }
			effect_tooltip = {
				add_ideas = CEN_paying_MEX_low
				CEN_add_mexican_infrastructure_effect = yes
			}
		}
	}
	option = { #Give them what they asked for
		log = "[GetLogInfo]: event central_america_socialist_events.033 option central_america_socialist_events.033.c"
		name = central_america_socialist_events.033.c
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				MEX = { has_authoritarian_government = yes }
			}
		}
		add_ideas = CEN_MEX_fees_mid
		FROM = {
			country_event = { id = central_america_socialist_events.035 days = 2 }
			effect_tooltip = {
				add_ideas = CEN_paying_MEX_mid
				CEN_add_mexican_infrastructure_effect = yes
			}
		}
	}
	option = { #Give them what they asked for and more
		log = "[GetLogInfo]: event central_america_socialist_events.033 option central_america_socialist_events.033.e"
		name = central_america_socialist_events.033.e
		trigger = { has_event_target = CEN_offered_help }
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				MEX = { has_authoritarian_government = yes }
			}
		}
		add_ideas = CEN_MEX_fees_high
		FROM = {
			country_event = { id = central_america_socialist_events.035 days = 2 }
			effect_tooltip = {
				add_ideas = CEN_paying_MEX_high
				CEN_add_mexican_infrastructure_effect = yes
			}
		}
	}
}

country_event = { #Mexico rejects us
	id = central_america_socialist_events.034
	title = central_america_socialist_events.034.t
	desc = central_america_socialist_events.034.d

	is_triggered_only = yes

	option = { #So much for socialist solidarity
		log = "[GetLogInfo]: event central_america_socialist_events.034 option central_america_socialist_events.034.a"
		name = central_america_socialist_events.034.a
		trigger = {
			FROM = {
				OR = {
					has_socialist_government = yes
					has_government = social_democrat
				}
			}
		}
	}
	option = { #Darn, but we have bigger problems
		log = "[GetLogInfo]: event central_america_socialist_events.034 option central_america_socialist_events.034.b"
		name = central_america_socialist_events.034.b
		trigger = {
			FROM = {
				has_socialist_government = no
				NOT = { has_government = social_democrat }
			}
		}
	}
}

country_event = { #Mexico accepts our agreement
	id = central_america_socialist_events.035
	title = central_america_socialist_events.035.t
	desc = central_america_socialist_events.035.d

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { FROM = { has_idea = CEN_MEX_fees_high } } }
				activate_targeted_decision = { target = FROM decision = CEN_request_oil }
			}
			if = {
				limit = { NOT = { FROM = { has_idea = CEN_MEX_fees_low } } }
				activate_targeted_decision = { target = FROM decision = CEN_lower_oil }
			}
		}
	}

	option = { #Yipee
		log = "[GetLogInfo]: event central_america_socialist_events.035 option central_america_socialist_events.035.a"
		name = central_america_socialist_events.035.a
		trigger = {
			FROM = {
				OR = {
					has_socialist_government = yes
					has_government = social_democrat
				}
			}
		}
	}
	option = { #Uh?
		log = "[GetLogInfo]: event central_america_socialist_events.035 option central_america_socialist_events.035.b"
		name = central_america_socialist_events.035.b
		trigger = {
			FROM = {
				has_socialist_government = no
				NOT = { has_government = social_democrat }
			}
		}
	}
	after = {
		CEN_add_mexican_infrastructure_effect = yes
		CEN_add_correct_mexican_oil_idea = yes
	}
}

country_event = { #Asking Mexico if they are okay giving us most oil
	id = central_america_socialist_events.036
	title = central_america_socialist_events.036.t
	desc = central_america_socialist_events.036.d

	is_triggered_only = yes

	option = { #yeah
		log = "[GetLogInfo]: event central_america_socialist_events.036 option central_america_socialist_events.036.a"
		name = central_america_socialist_events.036.a
		ai_chance = { base = 70 }
		if = {
			limit = { has_idea = CEN_MEX_fees_low }
			swap_ideas = {
				remove_idea = CEN_MEX_fees_low
				add_idea = CEN_MEX_fees_mid
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CEN_MEX_fees_mid
				add_idea = CEN_MEX_fees_high
			}
		}
		save_event_target_as = CEN_MEX_increase_oil
	}
	option = { #no
		log = "[GetLogInfo]: event central_america_socialist_events.036 option central_america_socialist_events.036.b"
		name = central_america_socialist_events.036.b
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				CEN = { is_ai = no }
			}
		}
	}
	after = {
		FROM = { country_event = { id = central_america_socialist_events.037 days = 2 } }
	}
}

country_event = { #Cen getting Mexico's reponse - economising
	id = central_america_socialist_events.037
	title = central_america_socialist_events.037.t
	desc = {
		text = central_america_socialist_events.037.d.oil
		trigger = { has_event_target = CEN_MEX_increase_oil }
	}
	desc = {
		text = central_america_socialist_events.037.d.noil
		trigger = { NOT = { has_event_target = CEN_MEX_increase_oil } }
	}

	is_triggered_only = yes

	option = { #yay
		log = "[GetLogInfo]: event central_america_socialist_events.037 option central_america_socialist_events.037.a"
		name = central_america_socialist_events.037.a
		trigger = { has_event_target = CEN_MEX_increase_oil }
		if = {
			limit = { has_idea = CEN_paying_MEX_low }
			swap_ideas = {
				remove_idea = CEN_paying_MEX_low
				add_idea = CEN_paying_MEX_mid
			}
			hidden_effect = {
				activate_targeted_decision = { target = FROM decision = CEN_lower_oil }
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CEN_paying_MEX_mid
				add_idea = CEN_paying_MEX_high
			}
			hidden_effect = {
				remove_targeted_decision = { target = FROM decision = CEN_request_oil }
			}
		}
	}
	option = { #no
		log = "[GetLogInfo]: event central_america_socialist_events.037 option central_america_socialist_events.037.b"
		name = central_america_socialist_events.037.b
		trigger = { NOT = { has_event_target = CEN_MEX_increase_oil } }
		add_political_power = 30 # slight refund
	}
}

country_event = { #Asking Mexico if they are okay giving us lowering our fees and oil
	id = central_america_socialist_events.038
	title = central_america_socialist_events.038.t
	desc = central_america_socialist_events.038.d

	is_triggered_only = yes

	option = { #yeah
		log = "[GetLogInfo]: event central_america_socialist_events.038 option central_america_socialist_events.036.a"
		name = central_america_socialist_events.036.a
		ai_chance = { base = 70 }
		if = {
			limit = { has_idea = CEN_MEX_fees_high }
			swap_ideas = {
				remove_idea = CEN_MEX_fees_high
				add_idea = CEN_MEX_fees_mid
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CEN_MEX_fees_mid
				add_idea = CEN_MEX_fees_low
			}
		}
		save_event_target_as = CEN_MEX_decreased_oil
	}
	option = { #no
		log = "[GetLogInfo]: event central_america_socialist_events.038 option central_america_socialist_events.036.b"
		name = central_america_socialist_events.036.b
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				FROM = { is_ai = no }
			}
		}
	}
	after = {
		FROM = { country_event = { id = central_america_socialist_events.039 days = 2 } }
	}
}

country_event = { #Cen getting Mexico's reponse - economising part 2
	id = central_america_socialist_events.039
	title = central_america_socialist_events.037.t
	desc = {
		text = central_america_socialist_events.039.d.less
		trigger = { has_event_target = CEN_MEX_decreased_oil }
	}
	desc = {
		text = central_america_socialist_events.039.d.no
		trigger = { NOT = { has_event_target = CEN_MEX_decreased_oil } }
	}

	is_triggered_only = yes

	option = { #yay
		log = "[GetLogInfo]: event central_america_socialist_events.039 option central_america_socialist_events.037.a"
		name = central_america_socialist_events.037.a
		trigger = { has_event_target = CEN_MEX_decreased_oil }
		if = {
			limit = { has_idea = CEN_paying_MEX_high }
			swap_ideas = {
				remove_idea = CEN_paying_MEX_high
				add_idea = CEN_paying_MEX_mid
			}
			hidden_effect = {
				activate_targeted_decision = { target = FROM decision = CEN_request_oil }
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CEN_paying_MEX_mid
				add_idea = CEN_paying_MEX_low
			}
			hidden_effect = {
				remove_targeted_decision = { target = FROM decision = CEN_lower_oil }
			}
		}
	}
	option = { #no
		log = "[GetLogInfo]: event central_america_socialist_events.039 option central_america_socialist_events.037.b"
		name = central_america_socialist_events.037.b
		trigger = { NOT = { has_event_target = CEN_MEX_decreased_oil } }
		add_political_power = 30 # slight refund
	}
}

### Soc Dem events

country_event = { #cater to 'dirty' moderates?
	id = central_america_socialist_events.100
	title = central_america_socialist_events.100.t
	desc = central_america_socialist_events.100.d
	picture = GFX_report_event_ELS_meeting

	is_triggered_only = yes

	option = { #They're called dirty for a reason
		log = "[GetLogInfo]: event central_america_socialist_events.100 option central_america_socialist_events.100.a"
		name = central_america_socialist_events.100.a
		ai_chance = { base = 70 }
		add_popularity = {
			ideology = social_democrat
			popularity = -0.03
		}
	}
	option = { #We rule for everyone
		log = "[GetLogInfo]: event central_america_socialist_events.100 option central_america_socialist_events.100.b"
		name = central_america_socialist_events.100.b
		ai_chance = { base = 30 }
		add_stability = 0.075
		add_popularity = {
			ideology = social_democrat
			popularity = 0.03
		}
	}
}

country_event = { #Prosperity
	id = central_america_socialist_events.101
	title = central_america_socialist_events.101.t
	desc = central_america_socialist_events.101.d
	picture = GFX_report_event_generic_big_city

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = central_america_socialist_events.102 months = 6 }
		}
	}

	option = { #Focus further on Guatemala
		log = "[GetLogInfo]: event central_america_socialist_events.101 option central_america_socialist_events.101.a"
		name = central_america_socialist_events.101.a
		trigger = {
			313 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
		}
		ai_chance = { base = 90 }
		add_political_power = 30
		add_stability = -0.05
		hidden_effect = { 313 = { save_global_event_target_as = CEN_prosper_state } }
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
	option = { #Focus further on Nicaragua
		log = "[GetLogInfo]: event central_america_socialist_events.101 option central_america_socialist_events.101.b"
		name = central_america_socialist_events.101.b
		trigger = {
			317 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
		}
		ai_chance = { base = 90 }
		add_political_power = 30
		add_stability = -0.05
		hidden_effect = { 317 = { save_global_event_target_as = CEN_prosper_state } }
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
	option = { #Focus further on El Salvador
		log = "[GetLogInfo]: event central_america_socialist_events.101 option central_america_socialist_events.101.c"
		name = central_america_socialist_events.101.c
		trigger = {
			314 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
		}
		ai_chance = { base = 90 }
		add_political_power = 30
		add_stability = -0.05
		hidden_effect = { 314 = { save_global_event_target_as = CEN_prosper_state } }
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
	option = { #Focus further on Honduras
		log = "[GetLogInfo]: event central_america_socialist_events.101 option central_america_socialist_events.101.e"
		name = central_america_socialist_events.101.e
		trigger = {
			312 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
		}
		ai_chance = { base = 90 }
		add_political_power = 30
		add_stability = -0.05
		hidden_effect = { 312 = { save_global_event_target_as = CEN_prosper_state } }
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
	option = { #focus further on Costa Rica
		log = "[GetLogInfo]: event central_america_socialist_events.101 option central_america_socialist_events.101.f"
		name = central_america_socialist_events.101.f
		trigger = {
			316 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
		}
		ai_chance = { base = 90 }
		add_political_power = 30
		hidden_effect = { 316 = { save_global_event_target_as = CEN_prosper_state } }
		add_stability = -0.05
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
	option = { #focus on the whole country!
		log = "[GetLogInfo]: event central_america_socialist_events.101 option central_america_socialist_events.101.g"
		name = central_america_socialist_events.101.g
		ai_chance = { base = 10 }
		add_political_power = 60
		add_stability = -0.10
		hidden_effect = {
			random_owned_controlled_state = {
				save_global_event_target_as = CEN_prosper_state
			}
			random_owned_controlled_state = {
				limit = { NOT = { state = event_target:CEN_prosper_state } }
				save_global_event_target_as = CEN_prosper_state2
			}
		}
	}
}

country_event = { #result of prosperity focus
	id = central_america_socialist_events.102
	title = central_america_socialist_events.102.t
	desc = central_america_socialist_events.102.d
	picture = GFX_report_event_generic_big_city
	is_triggered_only = yes

	option = { #Ah, the fruits of labour
		log = "[GetLogInfo]: event central_america_socialist_events.102 option central_america_socialist_events.102.a"
		name = central_america_socialist_events.102.a
		event_target:CEN_prosper_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		clear_global_event_target = CEN_prosper_state
		if = {
			limit = { has_event_target = CEN_prosper_state2 }
			event_target:CEN_prosper_state2 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			clear_global_event_target = CEN_prosper_state2
		}
	}
}

country_event = { #Ortiz celebrates our Victory
	id = central_america_socialist_events.103
	title = central_america_socialist_events.103.t
	desc = central_america_socialist_events.103.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.103 option central_america_socialist_events.103.a"
		name = central_america_socialist_events.103.a
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.01
		}
	}
}

country_event = { #Moreno likes education
	id = central_america_socialist_events.104
	title = central_america_socialist_events.104.t
	desc = central_america_socialist_events.104.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.104 option central_america_socialist_events.104.a"
		name = central_america_socialist_events.104.a
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.01
		}
	}
}

###Rad Soc

country_event = { # Mini cult around Sandino
	id = central_america_socialist_events.200
	title = central_america_socialist_events.200.t
	desc = central_america_socialist_events.200.d

	is_triggered_only = yes

	option = { #Curb Growth
		log = "[GetLogInfo]: event central_america_socialist_events.200 option central_america_socialist_events.200.a"
		name = central_america_socialist_events.200.a
		add_stability = -0.10
	}
	option = { #Let him have his fun
		log = "[GetLogInfo]: event central_america_socialist_events.200 option central_america_socialist_events.200.b"
		name = central_america_socialist_events.200.b
		add_stability = -0.05
		hidden_effect = {
			country_event = { id = central_america_socialist_events.204 days = 90 }
		}
	}
}

country_event = { #Resitance to change, hispanification etc
	id = central_america_socialist_events.201
	title = central_america_socialist_events.201.t
	desc = central_america_socialist_events.201.d

	is_triggered_only = yes

	option = { # They will have to live with it
		log = "[GetLogInfo]: event central_america_socialist_events.201 option central_america_socialist_events.201.a"
		name = central_america_socialist_events.201.a
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.03
		}
		add_political_power = 70
		hidden_effect = {
			MEX = {
				if = {
					limit = { has_socialist_government = yes }
					country_event = { id = central_america_socialist_events.202 days = 10 }
				}
			}
		}
	}
	option = { # Maybe we should listen
		log = "[GetLogInfo]: event central_america_socialist_events.201 option central_america_socialist_events.201.b"
		name = central_america_socialist_events.201.b
		add_stability = 0.05
	}
}

country_event = { #Mexican responce to hispanification
	id = central_america_socialist_events.202
	title = central_america_socialist_events.202.t
	desc = central_america_socialist_events.202.d

	is_triggered_only = yes

	option = { # Denounce it
		log = "[GetLogInfo]: event central_america_socialist_events.202 option central_america_socialist_events.202.a"
		name = central_america_socialist_events.202.a
		ai_chance = { base = 70 }
		add_opinion_modifier = {
			target = CEN
			modifier = protest_action
		}
	}
	option = { # Not our issue
		log = "[GetLogInfo]: event central_america_socialist_events.202 option central_america_socialist_events.202.b"
		name = central_america_socialist_events.202.b
		ai_chance = { base = 30 }
		add_political_power = -10
	}
}

country_event = { #Totalist angry because religion
	id = central_america_socialist_events.203
	title = central_america_socialist_events.203.t
	desc = central_america_socialist_events.203.d

	is_triggered_only = yes

	option = { #let them whatever - people wouldn't even care lol
		log = "[GetLogInfo]: event central_america_socialist_events.203 option central_america_socialist_events.203.a"
		name = central_america_socialist_events.203.a
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.03
		}
	}
	option = { #let's just get rid of them :)
		log = "[GetLogInfo]: event central_america_socialist_events.203 option central_america_socialist_events.203.b"
		name = central_america_socialist_events.203.b
		add_political_power = -50
		add_popularity = {
			ideology = totalist
			popularity = -0.1
		}
	}
}

country_event = { #Sandino is growing again
	id = central_america_socialist_events.204
	title = central_america_socialist_events.204.t
	desc = central_america_socialist_events.204.d

	is_triggered_only = yes

	option = { #It is too costly now
		log = "[GetLogInfo]: event central_america_socialist_events.204 option central_america_socialist_events.204.a"
		name = central_america_socialist_events.204.a
		add_stability = -0.05
	}
	option = { #Let us root it out for the last time
		log = "[GetLogInfo]: event central_america_socialist_events.204 option central_america_socialist_events.204.b"
		name = central_america_socialist_events.204.b
		add_political_power = -100
		add_stability = 0.10
	}
}

### Syndie events

country_event = { #Native approval 1
	id = central_america_socialist_events.300
	title = central_america_socialist_events.300.t
	desc = central_america_socialist_events.300.d

	is_triggered_only = yes

	option = { #We welcome new and old residents
		log = "[GetLogInfo]: event central_america_socialist_events.300 option central_america_socialist_events.300.a"
		name = central_america_socialist_events.300.a
		ai_chance = { base = 90 }
		add_stability = 0.05
		hidden_effect = {
			country_event = { id = central_america_socialist_events.301 days = 365 }
		}
	}
	option = { #We have no need for them
		log = "[GetLogInfo]: event central_america_socialist_events.300 option central_america_socialist_events.300.b"
		name = central_america_socialist_events.300.b
		ai_chance = { base = 0 }
		add_political_power = 20
	}
}

country_event = { #Native approval 2
	id = central_america_socialist_events.301
	title = central_america_socialist_events.301.t
	desc = central_america_socialist_events.301.d

	is_triggered_only = yes

	option = { #form the Central American Identity
		log = "[GetLogInfo]: event central_america_socialist_events.301 option central_america_socialist_events.301.a"
		name = central_america_socialist_events.301.a
		add_political_power = 50
		add_popularity = {
			ideology = syndicalist
			popularity = 0.03
		}
	}
}

country_event = { #Farabundo simping for the 3i (France)
	id = central_america_socialist_events.302
	title = central_america_socialist_events.302.t
	desc = central_america_socialist_events.302.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.302 option central_america_socialist_events.302.a"
		name = central_america_socialist_events.302.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.01
		}
	}
}

country_event = { #Farabundo simping for the 3i, but if France is totalist
	id = central_america_socialist_events.303
	title = central_america_socialist_events.302.t
	desc = central_america_socialist_events.303.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.303 option central_america_socialist_events.303.a"
		name = central_america_socialist_events.303.a
		add_popularity = {
			ideology = totalist
			popularity = 0.03
		}
	}
}

### Totalist Events

#Totalists should have some about resistance from other parties as they cement their grip on power,
#along with the possibility of a coup from the Soc Dems if you cement power too much,
#most likely a series of events on how far you want to go.
#Then some other events corresponding to the focuses and how people react to them etc.

country_event = { #Rallies against atheistic laws
	id = central_america_socialist_events.400
	title = central_america_socialist_events.400.t
	desc = central_america_socialist_events.400.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes

	option = { #they will see
		log = "[GetLogInfo]: event central_america_socialist_events.400 option central_america_socialist_events.400.a"
		name = central_america_socialist_events.400.a
		add_stability = -0.05
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
}

country_event = { #beginning the consolidation of the state
	id = central_america_socialist_events.401
	title = central_america_socialist_events.401.t
	desc = central_america_socialist_events.401.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #Let's not go too hard
		log = "[GetLogInfo]: event central_america_socialist_events.401 option central_america_socialist_events.401.a"
		name = central_america_socialist_events.401.a
		ai_chance = { base = 20 }
		add_popularity = { ideology = totalist popularity = -0.1 }
		add_ideas = CEN_consolidation_idea0
		custom_effect_tooltip = CEN_stop_consolidation
		hidden_effect = {
			set_country_flag = CEN_no_more_centralisation
		}
	}
	option = { #Let's rule with support of the Sindicalist
		log = "[GetLogInfo]: event central_america_socialist_events.401 option central_america_socialist_events.401.b"
		name = central_america_socialist_events.401.b
		ai_chance = { base = 50 }
		country_event = { id = central_america_socialist_events.402 days = 10 }
		add_political_power = -50
		custom_effect_tooltip = CEN_stop_consolidation2
	}
	option = { #Let's begin to develop how to consolidate power
		log = "[GetLogInfo]: event central_america_socialist_events.401 option central_america_socialist_events.401.c"
		name = central_america_socialist_events.401.c
		ai_chance = { base = 30 }
		unlock_decision_category_tooltip = CEN_increasing_totalist_support
		custom_effect_tooltip = CEN_totalist_warning
		activate_mission = CEN_antitotalist_timer
		hidden_effect = {
			set_country_flag = CEN_begin_totalist_decisions
			set_variable = { CEN_tot_support = 0 }
			set_variable = { CEN_tot_promises = 0 }
		}
	}
}

country_event = { #approaching Farabundo
	id = central_america_socialist_events.402
	title = central_america_socialist_events.402.t
	desc = central_america_socialist_events.402.d

	is_triggered_only = yes

	option = { #Let's not
		log = "[GetLogInfo]: event central_america_socialist_events.402 option central_america_socialist_events.402.a"
		name = central_america_socialist_events.402.a
		ai_chance = { base = 10 }
		add_political_power = -10
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		add_ideas = CEN_consolidation_idea0
	}
	option = { #Let's cooperate
		log = "[GetLogInfo]: event central_america_socialist_events.402 option central_america_socialist_events.402.b"
		name = central_america_socialist_events.402.b
		ai_chance = { base = 90 }
		add_political_power = -50
		if = {
			limit = { FRA = { has_government = totalist } }
			add_popularity = {
				ideology = syndicalist
				popularity = 0.05
			}
			add_popularity = {
				ideology = totalist
				popularity = 0.15
			}
		}
		else = {
			add_popularity = {
				ideology = totalist
				popularity = 0.05
			}
			add_popularity = {
				ideology = syndicalist
				popularity = 0.1
			}
		}
		set_temp_variable = { coalition_partner_var = token:syndicalist }
		add_to_coalition = yes
		add_ideas = CEN_consolidation_idea1
	}
	after = {
		set_country_flag = CEN_no_more_centralisation
	}
}

country_event = { #Gathering support in Guatemala
	id = central_america_socialist_events.403
	title = central_america_socialist_events.403.t
	desc = central_america_socialist_events.403.d

	is_triggered_only = yes

	option = { #try to slander them
		log = "[GetLogInfo]: event central_america_socialist_events.403 option central_america_socialist_events.403.a"
		name = central_america_socialist_events.403.a
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_TOTALIST }
			}
		}
		add_political_power = 50
	}
	option = { #Focus on how welfare will affect the economy
		log = "[GetLogInfo]: event central_america_socialist_events.403 option central_america_socialist_events.403.b"
		name = central_america_socialist_events.403.b
		ai_chance = { base = 50 }
		add_to_variable = { CEN_tot_support = 1 }
		custom_effect_tooltip = CEN_medium_support
	}
	option = { #WE will also bring welfare - for now
		log = "[GetLogInfo]: event central_america_socialist_events.403 option central_america_socialist_events.403.c"
		name = central_america_socialist_events.403.c
		ai_chance = { base = 15 }
		add_to_variable = { CEN_tot_support = 2 }
		add_timed_idea = {
			idea = CEN_relieve_for_people
			days = 180
		}
		custom_effect_tooltip = CEN_big_support
	}
	option = { #WE will also bring welfare - but not yet
		log = "[GetLogInfo]: event central_america_socialist_events.403 option central_america_socialist_events.403.e"
		name = central_america_socialist_events.403.e
		ai_chance = { base = 15 }
		add_to_variable = { CEN_tot_support = 2 }
		add_to_variable = { CEN_tot_promises = 1 }
		custom_effect_tooltip = CEN_big_support_warning
	}
}

country_event = { #Gathering support in El Salavador
	id = central_america_socialist_events.404
	title = central_america_socialist_events.404.t
	desc = central_america_socialist_events.404.d

	is_triggered_only = yes

	option = { #try to slander them
		log = "[GetLogInfo]: event central_america_socialist_events.404 option central_america_socialist_events.404.a"
		name = central_america_socialist_events.404.a
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_TOTALIST }
			}
		}
		add_political_power = 50
	}
	option = { #Focus in how their are rushing industralisation
		log = "[GetLogInfo]: event central_america_socialist_events.404 option central_america_socialist_events.404.b"
		name = central_america_socialist_events.404.b
		ai_chance = { base = 45 }
		add_to_variable = { CEN_tot_support = 1 }
		custom_effect_tooltip = CEN_medium_support
	}
	option = { #WE will bring a better industralisation
		log = "[GetLogInfo]: event central_america_socialist_events.404 option central_america_socialist_events.404.c"
		name = central_america_socialist_events.404.c
		ai_chance = { base = 25 }
		add_to_variable = { CEN_tot_support = 2 }
		add_timed_idea = {
			idea = CEN_a_new_industry
			days = 180
		}
		custom_effect_tooltip = CEN_big_support
	}
	option = { #WE will bring a better industralisation - but not yet
		log = "[GetLogInfo]: event central_america_socialist_events.404 option central_america_socialist_events.404.e"
		name = central_america_socialist_events.404.e
		ai_chance = { base = 10 }
		add_to_variable = { CEN_tot_support = 2 }
		add_to_variable = { CEN_tot_promises = 1 }
		custom_effect_tooltip = CEN_big_support_warning
	}
}
country_event = { #Gathering support in Nicaragua
	id = central_america_socialist_events.405
	title = central_america_socialist_events.405.t
	desc = central_america_socialist_events.405.d

	is_triggered_only = yes

	option = { #try to slander them
		log = "[GetLogInfo]: event central_america_socialist_events.405 option central_america_socialist_events.405.a"
		name = central_america_socialist_events.405.a
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_game_rule = { rule = CEN_soc_path option = CEN_SOC_PATH_TOTALIST }
			}
		}
		add_political_power = 50
	}
	option = { #Focus in how their militarism is harmful
		log = "[GetLogInfo]: event central_america_socialist_events.405 option central_america_socialist_events.405.b"
		name = central_america_socialist_events.405.b
		ai_chance = { base = 50 }
		add_to_variable = { CEN_tot_support = 1 }
		custom_effect_tooltip = CEN_medium_support
	}
	option = { #WE will help the farmers
		log = "[GetLogInfo]: event central_america_socialist_events.405 option central_america_socialist_events.405.c"
		name = central_america_socialist_events.405.c
		ai_chance = { base = 10 }
		add_to_variable = { CEN_tot_support = 2 }
		add_timed_idea = {
			idea = CEN_farmer_support
			days = 180
		}
		custom_effect_tooltip = CEN_big_support
	}
	option = { #WE will help the farmers - but not yet
		log = "[GetLogInfo]: event central_america_socialist_events.405 option central_america_socialist_events.405.e"
		name = central_america_socialist_events.405.e
		ai_chance = { base = 20 }
		add_to_variable = { CEN_tot_support = 2 }
		add_to_variable = { CEN_tot_promises = 1 }
		custom_effect_tooltip = CEN_big_support_warning
	}
}
country_event = { #Moderado coup - timer version
	id = central_america_socialist_events.406
	title = central_america_socialist_events.406.t
	desc = central_america_socialist_events.406.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.406 option central_america_socialist_events.406.a"
		name = central_america_socialist_events.406.a
		remove_ideas = CEN_atheistic_state
		add_timed_idea = {
			idea = CEN_totalist_resistance
			days = 90
		}
		promote_character = {
			character = GUA_silverio_ortiz
			ideology = radical_socialist_subtype
		}
		set_politics = {
			ruling_party = radical_socialist
			long_name = CEN_social_democrat_party_long
			name = CEN_social_democrat_party
		}
		set_temp_variable = { coalition_partner_var = token:social_democrat }
		add_to_coalition = yes
		add_stability = -0.1
		add_popularity = {
			ideology = totalist
			popularity = -0.30
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.1
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.1
		}
		uncomplete_national_focus = {
			focus = CEN_congress_totalist
			uncomplete_children = yes
			refund_political_power = yes
		}
		complete_national_focus = CEN_congress_moderate
	}
}
country_event = {
	id = central_america_socialist_events.407
	hidden = yes
	is_triggered_only = yes

	option = { #calculating the outcome
		log = "[GetLogInfo]: event central_america_socialist_events.407 option 1"
		country_event = { id = central_america_socialist_events.410 days = 40 }
		if = {
			limit = { check_variable = { CEN_tot_support > 2 } }
			country_event = { id = central_america_socialist_events.409 days = 20 }
		}
		else = {
			country_event = { id = central_america_socialist_events.408 days = 7 }
		}
	}
}
country_event = { #Moderado coup - focus version
	id = central_america_socialist_events.408
	title = central_america_socialist_events.408.t
	desc = central_america_socialist_events.408.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event central_america_socialist_events.408 option central_america_socialist_events.408.a"
		name = central_america_socialist_events.408.a
		remove_ideas = CEN_atheistic_state
		add_timed_idea = {
			idea = CEN_totalist_resistance
			days = 90
		}
		promote_character = {
			character = GUA_silverio_ortiz
			ideology = radical_socialist_subtype
		}
		set_politics = {
			ruling_party = radical_socialist
			long_name = CEN_social_democrat_party_long
			name = CEN_social_democrat_party
		}
		set_temp_variable = { coalition_partner_var = token:social_democrat }
		add_to_coalition = yes
		add_political_power = -100
		add_popularity = {
			ideology = totalist
			popularity = -0.30
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.1
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.1
		}
		uncomplete_national_focus = {
			focus = CEN_congress_totalist
			uncomplete_children = yes
			refund_political_power = yes
		}
		complete_national_focus = CEN_congress_moderate
	}
}
country_event = { #Successful consolidation
	id = central_america_socialist_events.409
	title = central_america_socialist_events.409.t
	desc = central_america_socialist_events.409.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = { #yay :D
		log = "[GetLogInfo]: event central_america_socialist_events.409 option central_america_socialist_events.409.a"
		name = central_america_socialist_events.409.a
		custom_effect_tooltip = CEN_support_results
		custom_effect_tooltip = tooltip_white_line
		if = {
			limit = { check_variable = { CEN_tot_support = 3 } }
			add_ideas = CEN_consolidation_idea0
		}
		else_if = {
			limit = { check_variable = { CEN_tot_support = 4 } }
			add_ideas = CEN_consolidation_idea1
		}
		else_if = {
			limit = { check_variable = { CEN_tot_support = 5 } }
			add_ideas = CEN_consolidation_idea2
		}
		else_if = {
			limit = { check_variable = { CEN_tot_support = 6 } }
			add_ideas = CEN_consolidation_idea3
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = CEN_promises_results
		custom_effect_tooltip = tooltip_white_line
		if = {
			limit = { check_variable = { CEN_tot_promises = 1 } }
			add_stability = -0.06
		}
		else_if = {
			limit = { check_variable = { CEN_tot_promises = 2 } }
			add_stability = -0.12
		}
		else_if = {
			limit = { check_variable = { CEN_tot_promises = 3 } }
			add_stability = -0.18
		}
	}
}
country_event = {
	id = central_america_socialist_events.410
	hidden = yes
	is_triggered_only = yes

	option = { #clearing flags
		log = "[GetLogInfo]: event central_america_socialist_events.410 option 1"
		hidden_effect = {
			clear_variable = CEN_tot_support
			clear_variable = CEN_tot_promises
		}
	}
}

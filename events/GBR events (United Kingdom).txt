###########################
# United Kingdom Events
###########################

add_namespace = united_kingdom_events

#####################################
#	The Restoration of the UK		#
#####################################

country_event = { # Liberation of the UK
	id = united_kingdom_events.1
	title = united_kingdom_events.1.t
	desc = united_kingdom_events.1.d
	picture = GFX_report_event_GBR_country_parliament

	is_triggered_only = yes

	option = { # Switch to the UK
		log = "[GetLogInfo]: event united_kingdom_events.1 option united_kingdom_events.1.a"
		name = united_kingdom_events.1.a
		trigger = { is_ai = no }
		if = {
			limit = { tag = IMP }
			GBR_spawn_player_uk_tt = yes
			hidden_effect = { GBR_spawn_player_uk = yes }
		}
		else = {
			GBR_spawn_npc_uk = yes
			GBR = { change_tag_from = ROOT }
		}
	}

	option = { # Stay as Canada
		log = "[GetLogInfo]: event united_kingdom_events.1 option united_kingdom_events.1.b"
		name = united_kingdom_events.1.b
		GBR_spawn_npc_uk = yes
	}
}

country_event = { # The Royal Restoration
	id = united_kingdom_events.3
	title = united_kingdom_events.3.t
	desc = united_kingdom_events.3.d
	picture = GFX_report_event_GBR_abbey2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = united_kingdom_events.4 days = 3 } #first Liberty Day
		}
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.3 option united_kingdom_events.3.a"
		name = united_kingdom_events.3.a
	}
}

country_event = { # Liberty Day!
	id = united_kingdom_events.4
	title = united_kingdom_events.4.t
	desc = united_kingdom_events.4.d
	picture = GFX_report_event_GBR_abbey1

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			news_event = { id = united_kingdom_events.5 days = 365 }
		}
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.4 option united_kingdom_events.4.a"
		name = united_kingdom_events.4.a
		add_political_power = 10
	}
}

news_event = { # Liberty Day! (after the first)
	id = united_kingdom_events.5
	immediate = { log = "[GetLogInfo]: event united_kingdom_events.5" }
	title = united_kingdom_events.5.t
	desc = united_kingdom_events.5.d
	picture = GFX_news_event_royal_visit

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			news_event = { id = united_kingdom_events.5 days = 365 }
		}
	}

	option = {
		name = united_kingdom_events.5.a
		add_political_power = 10
	}
}

country_event = { # Ally helping UK out
	id = united_kingdom_events.7
	title = united_kingdom_events.7.t
	desc = united_kingdom_events.7.d
	picture = GFX_report_event_generic_food

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.7 option united_kingdom_events.7.a"
		name = united_kingdom_events.7.a #We can donate more!
		trigger = { has_political_power > 50 }
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				if = {
					limit = { GBR = { is_ai = no } }
					has_political_power < 0
				}
				else = {
					has_political_power < 100
				}
			}
		}
		save_event_target_as = GBR_help
		add_political_power = -50
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.7 option united_kingdom_events.7.b"
		name = united_kingdom_events.7.b #This is enough
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				NOT = { has_political_power < 0 }
				GBR = { is_ai = no }
			}
		}
	}

	after = {
		GBR = { country_event = united_kingdom_events.8 }
	}
}

country_event = { # UK informed of help
	id = united_kingdom_events.8
	title = united_kingdom_events.8.t
	picture = GFX_report_event_generic_diplomacy3

	desc = {
		text = united_kingdom_events.8.d
		trigger = { NOT = { has_event_target = GBR_help } }
	}
	desc = {
		text = united_kingdom_events.8.d.more
		trigger = { has_event_target = GBR_help }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.8 option united_kingdom_events.8.a"
		name = united_kingdom_events.8.a
		if = {
			limit = { has_event_target = GBR_help }
			add_political_power = 100
		}
		else = {
			add_political_power = 50
		}
		add_opinion_modifier = { target = FROM modifier = KR_pleased }
	}
}

### The British reconstruction Authority

# PM announces Reconstruction Authority creation (fired by focus)
country_event = {
	id = united_kingdom_events.10
	title = united_kingdom_events.10.t
	desc = united_kingdom_events.10.d
	picture = GFX_report_event_GBR_devastation

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.10 option united_kingdom_events.10.a"
		name = united_kingdom_events.10.a
		set_party_name = {
			ideology = paternal_autocrat
			name = GBR_bra_party
			long_name = GBR_bra_party_long
		}
		hidden_effect = {
			country_event = { id = united_kingdom_events.11 days = 4 }
		}
	}
}

# Exiles encounter resistance
country_event = {
	id = united_kingdom_events.11
	title = united_kingdom_events.11.t
	desc = united_kingdom_events.11.d
	picture = GFX_report_event_CAN_fleeing

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.11 option united_kingdom_events.11.a"
		name = united_kingdom_events.11.a
		hidden_effect = {
			country_event = { id = united_kingdom_events.12 days = 5 }
		}
	}
}

# Syndicalist militia active
country_event = {
	id = united_kingdom_events.12
	title = united_kingdom_events.12.t
	desc = united_kingdom_events.12.d
	picture = GFX_report_event_WCA_militia

	is_triggered_only = yes

	immediate = {
		set_variable = { GBR_sr_stability_factor = -0.01 }
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.12 option united_kingdom_events.12.a"
		name = united_kingdom_events.12.a
		add_dynamic_modifier = { modifier = GBR_syndicalist_resistance }
		hidden_effect = {
			country_event = { id = united_kingdom_events.13 days = 3 random_days = 3 }
			activate_targeted_decision = { decision = GBR_fight_syndicalists target = ENG }
		}
	}
}

# Union soldiers asking for help
country_event = {
	id = united_kingdom_events.13
	title = united_kingdom_events.13.t
	desc = united_kingdom_events.13.d
	picture = GFX_report_event_NOR_black_monday_2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.13 option united_kingdom_events.13.a"
		name = united_kingdom_events.13.a #We won't support traitors
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
				}
			}
		}
		add_political_power = 50
		set_temp_variable = { GBR_resistance_temp = -0.02 }
		GBR_recalculate_syndicalist_resistance = yes
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.13 option united_kingdom_events.13.b"
		name = united_kingdom_events.13.b #They'll receive limited help, but no stipend
		ai_chance = {
			base = 35
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GUIDED_AUTDEM }
				}
			}
		}
		add_political_power = -50
		set_temp_variable = { GBR_resistance_temp = -0.01 }
		GBR_recalculate_syndicalist_resistance = yes
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.13 option united_kingdom_events.13.c"
		name = united_kingdom_events.13.c #They were only doing as they were told - give them full support
		ai_chance = {
			base = 15
			modifier = {
				factor = 0
				has_game_rule = { rule = GBR_path option = GBR_PATH_GUIDED_AUTDEM }
			}
		}
		add_political_power = -100
		add_manpower = 25000
	}

	after = {
		hidden_effect = {
			country_event = { id = united_kingdom_events.14 days = 5 }
		}
	}
}

# Mountbatten's relief efforts
country_event = {
	id = united_kingdom_events.14
	title = united_kingdom_events.14.t
	desc = united_kingdom_events.14.d
	picture = GFX_report_event_HOL_black_monday

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.14 option united_kingdom_events.14.a"
		name = united_kingdom_events.14.a
		hidden_effect = {
			country_event = { id = united_kingdom_events.15 days = 3 random_days = 3 }
		}
	}
}

# Third bankruptcy declared
country_event = {
	id = united_kingdom_events.15
	title = united_kingdom_events.15.t
	desc = united_kingdom_events.15.d
	picture = GFX_report_event_generic_economic_policy

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.15 option united_kingdom_events.15.a"
		name = united_kingdom_events.15.a
	}
}

# BRA begins operation in Parliament (fired by focus)
country_event = {
	id = united_kingdom_events.16
	title = united_kingdom_events.16.t
	desc = united_kingdom_events.16.d
	picture = GFX_report_event_GBR_country_parliament

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.16 option united_kingdom_events.16.a"
		name = united_kingdom_events.16.a
		add_popularity = { ideology = paternal_autocrat popularity = 0.10 }
		hidden_effect = {
			country_event = { id = united_kingdom_events.17 days = 3 }
			country_event = { id = united_kingdom_events.18 days = 12 random_days = 3 }
			country_event = { id = united_kingdom_events.19 days = 45 }
		}
	}
}

# Reconstruction projects begin
country_event = {
	id = united_kingdom_events.17
	title = united_kingdom_events.17.t
	desc = united_kingdom_events.17.d
	picture = GFX_report_event_generic_factory_construction

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.17 option united_kingdom_events.17.a"
		name = united_kingdom_events.17.a
		add_stability = 0.05
	}
}

# Arthur Horner surrenders to police
country_event = {
	id = united_kingdom_events.18
	title = united_kingdom_events.18.t
	desc = united_kingdom_events.18.d
	picture = GFX_report_event_generic_reporters

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.18 option united_kingdom_events.18.a"
		name = united_kingdom_events.18.a
		add_popularity = { ideology = syndicalist popularity = 0.05 }
	}
}

# Wartime Rationing ends
country_event = {
	id = united_kingdom_events.19
	title = united_kingdom_events.19.t
	desc = united_kingdom_events.19.d
	picture = GFX_report_event_generic_food

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.19 option united_kingdom_events.19.a"
		name = united_kingdom_events.19.a
		add_stability = 0.05
	}
}

# Fate of the unions (fired by focus)
country_event = {
	id = united_kingdom_events.21
	title = united_kingdom_events.21.t
	desc = united_kingdom_events.21.d
	picture = GFX_report_event_AST_parliament1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.21 option united_kingdom_events.21.a"
		name = united_kingdom_events.21.a #Allow the unions to continue
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				has_game_rule = { rule = GBR_path option = GBR_PATH_GUIDED_AUTDEM }
			}
			modifier = {
				factor = 0
				GBR_henry_page_croft = { is_second_in_command = yes }
			}
		}
		set_country_flag = GBR_unions_allowed
		add_political_power = -100
		add_popularity = { ideology = social_democrat popularity = 0.05 }
		hidden_effect = {
			clr_country_flag = GBR_pigou_report_ongoing
			remove_targeted_decision = { decision = GBR_pigou_report target = ROOT }
			country_event = { id = united_kingdom_events.22 days = 3 }
			country_event = { id = united_kingdom_events.24 days = 13 }
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.21 option united_kingdom_events.21.b"
		name = united_kingdom_events.21.b #Set up government-controlled unions, ban the rest
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				GBR_anthony_eden = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GUIDED_AUTDEM }
				}
			}
		}
		set_country_flag = GBR_unions_controlled
		add_political_power = -50
		set_temp_variable = { GBR_resistance_temp = -0.03 }
		GBR_recalculate_syndicalist_resistance = yes
		hidden_effect = {
			country_event = { id = united_kingdom_events.23 days = 3 }
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.21 option united_kingdom_events.21.c"
		name = united_kingdom_events.21.c #We'll have no unions in Britain - ban them all!
		ai_chance = {
			base = 25
			modifier = {
				factor = 2
				GBR_henry_page_croft = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0
				GBR_robert_gascoyne_cecil = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
				}
			}
		}
		set_country_flag = GBR_unions_banned
		add_political_power = 50
		add_popularity = { ideology = syndicalist popularity = -0.05 }
		add_popularity = { ideology = social_democrat popularity = -0.03 }
		set_temp_variable = { GBR_resistance_temp = -0.05 }
		GBR_recalculate_syndicalist_resistance = yes
		hidden_effect = {
			clr_country_flag = GBR_beveridge_report_ongoing
			remove_targeted_decision = { decision = GBR_beveridge_report target = ROOT }
			country_event = { id = united_kingdom_events.23 days = 3 }
		}
	}
}

# Objections to unions continuing
country_event = {
	id = united_kingdom_events.22
	title = united_kingdom_events.22.t
	desc = united_kingdom_events.22.d
	picture = GFX_report_event_CAN_commission

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.22 option united_kingdom_events.22.a"
		name = united_kingdom_events.22.a
		add_political_power = -50
		add_popularity = { ideology = paternal_autocrat popularity = -0.05 }
	}
}

# Protests against banning/controlling unions
country_event = {
	id = united_kingdom_events.23
	title = united_kingdom_events.23.t
	picture = GFX_report_event_AST_protest1

	desc = {
		text = united_kingdom_events.23.d.control
		trigger = { has_country_flag = GBR_unions_controlled }
	}
	desc = {
		text = united_kingdom_events.23.d.ban
		trigger = { has_country_flag = GBR_unions_banned }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.23 option united_kingdom_events.23.a"
		name = united_kingdom_events.23.a #Give them their unions, before this escalates
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.1
				GBR_henry_page_croft = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0
				has_game_rule = { rule = GBR_path option = GBR_PATH_GUIDED_AUTDEM }
			}
		}
		custom_effect_tooltip = GBR_protests_will_fade
		if = {
			limit = { has_country_flag = GBR_unions_controlled }
			clr_country_flag = GBR_unions_controlled
			set_country_flag = GBR_unions_allowed
			set_temp_variable = { GBR_resistance_temp = 0.02 }
			GBR_recalculate_syndicalist_resistance = yes
			add_political_power = -100
		}
		else = {
			clr_country_flag = GBR_unions_banned
			set_country_flag = GBR_unions_allowed
			set_temp_variable = { GBR_resistance_temp = 0.04 }
			GBR_recalculate_syndicalist_resistance = yes
			add_political_power = -250
		}
		hidden_effect = {
			country_event = { id = united_kingdom_events.24 days = 10 }
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.23 option united_kingdom_events.23.b"
		name = united_kingdom_events.23.b #We're not backing down
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				GBR_anthony_eden = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0.1
				GBR_robert_gascoyne_cecil = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GUIDED_AUTDEM }
				}
			}
		}
		add_political_power = -50
		add_stability = -0.05
		hidden_effect = {
			country_event = { id = united_kingdom_events.25 days = 10 }
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.23 option united_kingdom_events.23.c"
		name = united_kingdom_events.23.c #Suppress the protest immediately
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				GBR_henry_page_croft = { is_second_in_command = no }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
				}
			}
		}
		set_temp_variable = { GBR_resistance_temp = -0.05 }
		add_stability = -0.10
		GBR_recalculate_syndicalist_resistance = yes
	}
}

# Protests over new union leadership
country_event = {
	id = united_kingdom_events.24
	title = united_kingdom_events.24.t
	desc = united_kingdom_events.24.d
	picture = GFX_report_event_AST_protest2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.24 option united_kingdom_events.24.a"
		name = united_kingdom_events.24.a
		add_stability = -0.02
		set_temp_variable = { GBR_resistance_temp = -0.01 }
		GBR_recalculate_syndicalist_resistance = yes
	}
}

# More protests over union bans
country_event = {
	id = united_kingdom_events.25
	title = united_kingdom_events.25.t
	desc = united_kingdom_events.25.d
	picture = GFX_report_event_AST_protest2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.25 option united_kingdom_events.25.a"
		name = united_kingdom_events.25.a
		add_stability = -0.04
		set_temp_variable = { GBR_resistance_temp = -0.01 }
		GBR_recalculate_syndicalist_resistance = yes
	}
}

# Syndicalist Trials Begin (fired by focus)
country_event = {
	id = united_kingdom_events.26
	title = united_kingdom_events.26.t
	desc = united_kingdom_events.26.d
	picture = GFX_report_event_generic_trial

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.26 option united_kingdom_events.26.a"
		name = united_kingdom_events.26.a #Make sure the sentences are not harsh
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = GBR_path option = GBR_PATH_GUIDED_AUTDEM }
			}
			modifier = {
				factor = 0.1
				GBR_henry_page_croft = { is_second_in_command = yes }
			}
		}
		add_political_power = -50
		add_stability = 0.05
		hidden_effect = {
			country_event = { id = united_kingdom_events.27 days = 3 }
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.26 option united_kingdom_events.26.b"
		name = united_kingdom_events.26.b #They must all be made examples
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.1
				GBR_robert_gascoyne_cecil = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0.5
				GBR_anthony_eden = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
				}
			}
		}
		add_political_power = 50
		hidden_effect = {
			country_event = { id = united_kingdom_events.28 days = 3 }
		}
	}
}

# Protests over trials
country_event = {
	id = united_kingdom_events.27
	title = united_kingdom_events.27.t
	desc = united_kingdom_events.27.d
	picture = GFX_report_event_AST_protest2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.27 option united_kingdom_events.27.a"
		name = united_kingdom_events.27.a
		add_popularity = { ideology = paternal_autocrat popularity = -0.05 }
		set_temp_variable = { GBR_resistance_temp = -0.01 }
		GBR_recalculate_syndicalist_resistance = yes
	}
}

# Old Bailey bombed
country_event = {
	id = united_kingdom_events.28
	title = united_kingdom_events.28.t
	desc = united_kingdom_events.28.d
	picture = GFX_report_event_GBR_bombing

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.28 option united_kingdom_events.28.a"
		name = united_kingdom_events.28.a
		set_temp_variable = { GBR_resistance_temp = -0.05 }
		GBR_recalculate_syndicalist_resistance = yes
	}
}

# The Question of Labour (fired by focus)
# TODO: comments can be removed when UoB rework done
country_event = {
	id = united_kingdom_events.29
	title = united_kingdom_events.29.t
	desc = united_kingdom_events.29.d.notinpower
	picture = GFX_report_event_GBR_country_parliament

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.29 option united_kingdom_events.29.a"
		name = united_kingdom_events.29.a #Pardon the Labour Party
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_GUIDED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
				}
			}
		}
		add_political_power = -100
		add_stability = 0.05
		set_temp_variable = { GBR_resistance_temp = -0.01 }
		GBR_recalculate_syndicalist_resistance = yes
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.29 option united_kingdom_events.29.b"
		name = united_kingdom_events.29.b #Labour can stay, but its previous leadership must be tried
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				GBR_robert_gascoyne_cecil = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GUIDED_AUTDEM }
				}
			}
		}
		add_political_power = -50
		GBR_richard_crossman = { retire = yes }
		set_temp_variable = { GBR_resistance_temp = -0.01 }
		GBR_recalculate_syndicalist_resistance = yes
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.29 option united_kingdom_events.29.c"
		name = united_kingdom_events.29.c #Ban the Labour party
		ai_chance = {
			base = 30
			modifier = {
				factor = 0.1
				GBR_robert_gascoyne_cecil = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0.5
				GBR_anthony_eden = { is_second_in_command = yes }
			}
			modifier = {
				factor = 2
				GBR_henry_page_croft = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
				}
			}
		}
		set_country_flag = GBR_labour_banned
		add_political_power = 50
		add_stability = -0.10
		set_temp_variable = { GBR_resistance_temp = -0.05 }
		GBR_recalculate_syndicalist_resistance = yes
		hidden_effect = {
			country_event = { id = united_kingdom_events.30 days = 3 random_days = 3 }
		}
	}
}

# Massive Protests
country_event = {
	id = united_kingdom_events.30
	title = united_kingdom_events.30.t
	desc = united_kingdom_events.30.d
	picture = GFX_report_event_BEL_Protest

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.30 option united_kingdom_events.30.a"
		name = united_kingdom_events.30.a
		add_stability = -0.05
		set_temp_variable = { GBR_resistance_temp = -0.1 }
		GBR_recalculate_syndicalist_resistance = yes
	}
}

# The Returning Aritocracy (fired by focus)
country_event = {
	id = united_kingdom_events.31
	title = united_kingdom_events.31.t
	desc = united_kingdom_events.31.d
	picture = GFX_report_event_WAL_Ardenne_Castle

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.31 option united_kingdom_events.31.a"
		name = united_kingdom_events.31.a #What was theirs should be restored, as it was illegally taken
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				GBR_robert_gascoyne_cecil = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0.5
				GBR_anthony_eden = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
				}
			}
		}
		add_popularity = { ideology = paternal_autocrat popularity = 0.05 }
		add_stability = -0.05
		set_temp_variable = { GBR_resistance_temp = -0.05 }
		GBR_recalculate_syndicalist_resistance = yes
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.31 option united_kingdom_events.31.b"
		name = united_kingdom_events.31.b #They current owners should be compensated, but they must still give it up
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.5
				GBR_anthony_eden = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GUIDED_AUTDEM }
				}
			}
		}
		add_political_power = -50
		set_temp_variable = { GBR_resistance_temp = -0.02 }
		GBR_recalculate_syndicalist_resistance = yes
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.31 option united_kingdom_events.31.c"
		name = united_kingdom_events.31.c #The aristocracy will be compensated for their losses
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				GBR_henry_page_croft = { is_second_in_command = yes }
			}
			modifier = {
				factor = 0
				has_game_rule = { rule = GBR_path option = GBR_PATH_GUIDED_AUTDEM }
			}
		}
		add_political_power = -100
		add_popularity = { ideology = paternal_autocrat popularity = -0.05 }
	}
}

# New elections announced (fired by focus)
country_event = {
	id = united_kingdom_events.32
	title = united_kingdom_events.32.t
	desc = united_kingdom_events.32.d
	picture = GFX_report_event_generic_happy_crowd

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.32 option united_kingdom_events.32.a"
		name = united_kingdom_events.32.a
		add_stability = 0.10
	}
}

# Free Elections held (fired by focus)
country_event = {
	id = united_kingdom_events.33
	title = united_kingdom_events.33.t
	desc = united_kingdom_events.33.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.33 option united_kingdom_events.33.a"
		name = united_kingdom_events.33.a #Conservatives
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.75
				has_character = GBR_richard_crossman
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
				}
			}
		}
		if = {
			limit = { has_global_flag = GBR_cons_leader_croft }
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = authoritarian_democrat
						last_election = "[CURRENT_DATE]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			add_to_coalition = yes
		}
		else = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = social_conservative
						last_election = "[CURRENT_DATE]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
			add_to_coalition = yes
		}
		if = {
			limit = { has_global_flag = GBR_cons_leader_cecil }
			activate_advisor = GBR_robert_gascoyne_cecil_sic
		}
		else_if = {
			limit = { has_global_flag = GBR_cons_leader_eden }
			activate_advisor = GBR_anthony_eden_sic
		}
		else_if = {
			limit = { has_global_flag = GBR_cons_leader_croft }
			activate_advisor = GBR_henry_page_croft_sic
		}
		else = {
			activate_advisor = GBR_robert_vansittart_sic
		}
		hidden_effect = {
			if = {
				limit = { has_global_flag = GBR_cons_leader_croft }
				add_popularity = { ideology = authoritarian_democrat popularity = var:party_popularity@paternal_autocrat }
			}
			else = {
				add_popularity = { ideology = social_conservative popularity = var:party_popularity@paternal_autocrat }
			}
			set_political_party = { ideology = paternal_autocrat popularity = 0 }
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.33 option united_kingdom_events.33.b"
		name = united_kingdom_events.33.b #Liberals
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
				}
			}
		}
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = market_liberal
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		set_temp_variable = { coalition_partner_var = token:social_liberal }
		add_to_coalition = yes
		activate_advisor = GBR_john_simon_sic
		hidden_effect = {
			add_popularity = { ideology = market_liberal popularity = var:party_popularity@paternal_autocrat }
			set_political_party = { ideology = paternal_autocrat popularity = 0 }
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.33 option united_kingdom_events.33.c"
		name = united_kingdom_events.33.c #Labour
		trigger = {
			NOT = { has_country_flag = GBR_labour_banned }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.5
				NOT = { has_character = GBR_richard_crossman }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
				}
			}
		}
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = social_democrat
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		set_temp_variable = { GBR_resistance_temp = 0.05 }
		GBR_recalculate_syndicalist_resistance = yes
		if = {
			limit = { NOT = { has_character = GBR_richard_crossman } }
			activate_advisor = GBR_hugh_gaitskell_sic
		}
		else = {
			activate_advisor = GBR_richard_crossman_sic
		}
		hidden_effect = {
			add_popularity = { ideology = social_democrat popularity = var:party_popularity@paternal_autocrat }
			set_political_party = { ideology = paternal_autocrat popularity = 0 }
		}
	}

	after = {
		hidden_effect = {
			set_party_name = {
				ideology = authoritarian_democrat
				name = GBR_auth_tories_party
				long_name = GBR_auth_tories_party_long
			}
			set_party_name = {
				ideology = paternal_autocrat
				name = GBR_military_government_party
				long_name = GBR_military_government_party_long
			}
		}
	}
}

# Future elections (fired by on_new_election)
country_event = {
	id = united_kingdom_events.34
	title = united_kingdom_events.34.t
	desc = united_kingdom_events.34.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.34 option united_kingdom_events.33.a"
		name = united_kingdom_events.33.a #Conservatives
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.75
				has_character = GBR_richard_crossman
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
				}
			}
		}
		if = {
			limit = { has_global_flag = GBR_cons_leader_croft }
			add_popularity = { ideology = authoritarian_democrat popularity = 0.10 }
			set_politics = {
				ruling_party = authoritarian_democrat
				election_frequency = 48
				elections_allowed = yes
			}
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			add_to_coalition = yes
		}
		else = {
			add_popularity = { ideology = social_conservative popularity = 0.10 }
			set_politics = {
				ruling_party = social_conservative
				election_frequency = 48
				elections_allowed = yes
			}
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
			add_to_coalition = yes
		}
		if = {
			limit = { has_global_flag = GBR_cons_leader_cecil }
			activate_advisor = GBR_robert_gascoyne_cecil_sic
		}
		else_if = {
			limit = { has_global_flag = GBR_cons_leader_eden }
			activate_advisor = GBR_anthony_eden_sic
		}
		else_if = {
			limit = { has_global_flag = GBR_cons_leader_croft }
			activate_advisor = GBR_henry_page_croft_sic
		}
		else = {
			activate_advisor = GBR_robert_vansittart_sic
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.34 option united_kingdom_events.33.b"
		name = united_kingdom_events.33.b #Liberals
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_GAITSKELL_SOCDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_CROSSMAN_SOCDEM }
				}
			}
		}
		add_popularity = { ideology = market_liberal popularity = 0.10 }
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 48
			elections_allowed = yes
		}
		set_temp_variable = { coalition_partner_var = token:social_liberal }
		add_to_coalition = yes
		activate_advisor = GBR_john_simon_sic
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.34 option united_kingdom_events.33.c"
		name = united_kingdom_events.33.c #Labour
		trigger = {
			NOT = { has_country_flag = GBR_labour_banned }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.5
				NOT = { has_character = GBR_richard_crossman }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = GBR_path option = GBR_PATH_ELECTED_AUTDEM }
					has_game_rule = { rule = GBR_path option = GBR_PATH_SOCCON }
					has_game_rule = { rule = GBR_path option = GBR_PATH_MARLIB }
				}
			}
		}
		add_popularity = { ideology = social_democrat popularity = 0.10 }
		set_politics = {
			ruling_party = social_democrat
			election_frequency = 48
			elections_allowed = yes
		}
		set_temp_variable = { GBR_resistance_temp = 0.05 }
		GBR_recalculate_syndicalist_resistance = yes
		if = {
			limit = { NOT = { has_character = GBR_richard_crossman } }
			activate_advisor = GBR_hugh_gaitskell_sic
		}
		else = {
			activate_advisor = GBR_richard_crossman_sic
		}
	}
}

# Free elections cancelled (fired by focus)
country_event = {
	id = united_kingdom_events.35
	title = united_kingdom_events.35.t
	desc = united_kingdom_events.35.d
	picture = GFX_report_event_AST_riot1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.35 option united_kingdom_events.35.a"
		name = united_kingdom_events.35.a
		add_stability = -0.10
		hidden_effect = {
			country_event = { id = united_kingdom_events.36 days = 7 }
		}
	}
}

# New Revolt barely put down
country_event = {
	id = united_kingdom_events.36
	title = united_kingdom_events.36.t
	desc = united_kingdom_events.36.d
	picture = GFX_report_event_USA_Riots

	is_triggered_only = yes

	trigger = {
		has_government = authoritarian_democrat
		is_subject = no
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.36 option united_kingdom_events.36.a"
		name = united_kingdom_events.36.a
		set_temp_variable = { GBR_resistance_temp = -0.05 }
		GBR_recalculate_syndicalist_resistance = yes
		set_temp_variable = { ideology_change_var = -0.1 }
		change_ruling_party_popularity = yes
		add_timed_idea = {
			idea = GBR_under_suppression
			days = 365
		}
	}
}

# Beveridge Report completed
country_event = {
	id = united_kingdom_events.37
	title = united_kingdom_events.37.t
	desc = united_kingdom_events.37.d
	picture = GFX_report_event_CAN_cabinet2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.37 option united_kingdom_events.37.a"
		name = united_kingdom_events.37.a
		if = {
			limit = {
				OR = {
					has_completed_focus = GBR_hold_elections
					has_completed_focus = GBR_guided_parliament
				}
			}
			set_temp_variable = { ideology_change_var = 0.05 }
			change_ruling_party_popularity = yes
		}
		else = {
			add_popularity = {
				ideology = social_liberal
				popularity = 0.05
			}
		}
		custom_effect_tooltip = tooltip_white_line
		activate_targeted_decision = { decision = GBR_pass_insurance_act target = ROOT }
		activate_targeted_decision = { decision = GBR_national_health_service target = ROOT }
	}
}

# Pigou Report completed
country_event = {
	id = united_kingdom_events.38
	title = united_kingdom_events.38.t
	desc = united_kingdom_events.38.d
	picture = GFX_report_event_CAN_cabinet2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.38 option united_kingdom_events.38.a"
		name = united_kingdom_events.38.a
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
		custom_effect_tooltip = tooltip_white_line
		activate_targeted_decision = { decision = GBR_central_banking_act target = ROOT }
		activate_targeted_decision = { decision = GBR_privatisation_act target = ROOT }
	}
}

### Military

# Clemency for Syndicalist Soldiers (fired by focus)
country_event = {
	id = united_kingdom_events.54
	title = united_kingdom_events.54.t
	desc = united_kingdom_events.54.d
	picture = GFX_report_event_CAN_army3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.54 option united_kingdom_events.54.a"
		name = united_kingdom_events.54.a #We won't take on syndicalist soldiers
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_manpower < 50000
			}
		}
		add_political_power = 50
		add_ideas = GBR_pure_recruits
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.54 option united_kingdom_events.54.b"
		name = united_kingdom_events.54.b #We'll take some, after careful screening
		ai_chance = { base = 30 }
		add_political_power = -50
		add_manpower = 50000
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.54 option united_kingdom_events.54.c"
		name = united_kingdom_events.54.c #We need the manpower - take as many as want to re-enlist
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_manpower > 50000
			}
			modifier = {
				factor = 0
				has_manpower > 150000
			}
			modifier = {
				factor = 0
				has_political_power < 0
			}
		}
		add_political_power = -100
		add_stability = -0.05
		add_manpower = 125000
	}
}

# National Arms Deal (fired by focus)
country_event = {
	id = united_kingdom_events.55
	title = united_kingdom_events.55.t
	desc = united_kingdom_events.55.d
	picture = GFX_report_event_generic_lend_lease

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.55 option united_kingdom_events.55.a"
		name = united_kingdom_events.55.a #Webley & Scott
		if = {
			limit = { has_dlc_aat = no }
			add_ideas = UK_webley_scott
		}
		else = {
			mio:GBR_webley_scott_organisation = {
				add_mio_size = 2
				add_mio_funds = 1000
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.55 option united_kingdom_events.55.b"
		name = united_kingdom_events.55.b #Birmingham Small Arms
		if = {
			limit = { has_dlc_aat = no }
			add_ideas = UK_bsa
		}
		else = {
			mio:GBR_bsa_organisation = {
				add_mio_size = 2
				add_mio_funds = 1000
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.55 option united_kingdom_events.55.c"
		name = united_kingdom_events.55.c #Morris Motors
		if = {
			limit = { has_dlc_aat = no }
			add_ideas = UK_morris
		}
		else = {
			mio:GBR_morris_organisation = {
				add_mio_size = 2
				add_mio_funds = 1000
			}
		}
	}
}

# UK Requests Return of Fleets (fired by focus)
country_event = {
	id = united_kingdom_events.56
	title = united_kingdom_events.56.t
	desc = united_kingdom_events.56.d
	picture = GFX_report_event_ast_navy

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.56 option united_kingdom_events.56.a"
		name = united_kingdom_events.56.a
		event_option_tooltip = united_kingdom_events.57.a
		FROM = { country_event = united_kingdom_events.57 }
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.56 option united_kingdom_events.56.b"
		name = united_kingdom_events.56.b
		ai_chance = { base = 0 }
		event_option_tooltip = united_kingdom_events.58.a
		FROM = { country_event = united_kingdom_events.58 }
	}
}

# Country returns fleet
country_event = {
	id = united_kingdom_events.57
	title = united_kingdom_events.57.t
	desc = united_kingdom_events.57.d
	picture = GFX_report_event_ast_navy

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.57 option united_kingdom_events.57.a"
		name = united_kingdom_events.57.a
		add_opinion_modifier = { target = FROM modifier = KR_pleased }
		FROM = { transfer_navy = { target = ROOT } }
	}
}

# Country does not returns fleet
country_event = {
	id = united_kingdom_events.58
	title = united_kingdom_events.58.t
	desc = united_kingdom_events.58.d
	picture = GFX_report_event_ast_navy

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.58 option united_kingdom_events.58.a"
		name = united_kingdom_events.58.a
		add_opinion_modifier = { target = FROM modifier = KR_hates_govt }
	}
}

# UK Requests Formal Control of the Entente (fired by focus)
country_event = {
	id = united_kingdom_events.59
	title = united_kingdom_events.59.t
	desc = united_kingdom_events.59.d
	picture = GFX_report_event_generic_conference1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.59 option united_kingdom_events.59.a"
		name = united_kingdom_events.59.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_american_tag = yes
			}
		}
		if = {
			limit = { has_idea = CAN_iedc_main }
			effect_tooltip = { remove_ideas = CAN_iedc_main }
			FROM = {
				effect_tooltip = {
					add_ideas = CAN_iedc_main
					set_faction_leader = yes
				}
				save_event_target_as = entente_transfer_to
				country_event = united_kingdom_events.60
			}
		}
		else = {
			FROM = {
				effect_tooltip = { set_faction_leader = yes }
				save_event_target_as = entente_transfer_to
				country_event = united_kingdom_events.60
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.59 option united_kingdom_events.59.b"
		name = united_kingdom_events.59.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				is_american_tag = yes
			}
		}
		FROM = { country_event = united_kingdom_events.60 }
		reverse_add_opinion_modifier = {
			target = FROM
			modifier = KR_hates_govt
		}
	}
}

# UK Requests Formal Control of the Entente response event
country_event = {
	id = united_kingdom_events.60

	title = {
		text = united_kingdom_events.60.accepted.t
		trigger = { has_event_target = entente_transfer_to }
	}
	title = {
		text = united_kingdom_events.60.refused.t
		trigger = { NOT = { has_event_target = entente_transfer_to } }
	}

	desc = {
		text = united_kingdom_events.60.accepted.d
		trigger = { has_event_target = entente_transfer_to }
	}
	desc = {
		text = united_kingdom_events.60.refused.d
		trigger = { NOT = { has_event_target = entente_transfer_to } }
	}

	picture = GFX_report_event_generic_conference1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.60 option united_kingdom_events.60.accepted.a"
		name = united_kingdom_events.60.accepted.a
		trigger = { has_event_target = entente_transfer_to }
		CAN_transfer_entente_leader = yes
		every_other_country = {
			limit = {
				is_in_faction_with = ROOT
				NOT = { tag = FROM.FROM }
			}
			country_event = united_kingdom_events.61
		}
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.60 option united_kingdom_events.60.refused.a"
		name = united_kingdom_events.60.refused.a
		trigger = { NOT = { has_event_target = entente_transfer_to } }
		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = KR_hates_govt
			}
		}
	}
}

# UK reclaims leadership of the Entente (fired by focus)
country_event = {
	id = united_kingdom_events.61
	title = united_kingdom_events.61.t
	desc = united_kingdom_events.61.d
	picture = GFX_report_event_generic_conference1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.61 option united_kingdom_events.61.a"
		trigger = { NOT = { tag = IRE } }
		name = united_kingdom_events.61.a
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.61 option united_kingdom_events.61.b"
		trigger = { tag = IRE }
		name = united_kingdom_events.61.b
	}
}

# UK begins Five Eyes Programme (fired by focus/decision)
country_event = {
	id = united_kingdom_events.62
	title = united_kingdom_events.62.t
	desc = united_kingdom_events.62.d
	picture = GFX_report_event_generic_conference1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.62 option united_kingdom_events.62.a"
		name = united_kingdom_events.62.a #Agree
		add_political_power = -25
		if = {
			limit = { has_dlc_lar = yes }
			add_ideas = GBR_five_eyes_idea_lar
		}
		else = {
			add_ideas = GBR_five_eyes_idea
		}
		if = {
			limit = {
				has_dlc_lar = yes
				has_intelligence_agency = no
			}
			create_intelligence_agency = yes
		}
		else_if = {
			limit = {
				has_dlc_lar = yes
				has_intelligence_agency = yes
				NOT = { has_done_agency_upgrade = upgrade_form_department }
			}
			upgrade_intelligence_agency = upgrade_form_department
		}
		GBR = { add_political_power = 25 }
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.62 option united_kingdom_events.62.b"
		name = united_kingdom_events.62.b #Refuse
		ai_chance = { base = 0 }
		add_political_power = 20
	}
}

# UK invites a Commonwealth Country into Imperial Preference
country_event = {
	id = united_kingdom_events.64
	title = united_kingdom_events.64.t
	desc = united_kingdom_events.64.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.64 option united_kingdom_events.64.a"
		name = united_kingdom_events.64.a #Agree
		add_political_power = 50
		FROM = { add_political_power = 25 }
		add_ideas = GBR_imperial_preference_idea
		hidden_effect = {
			every_other_country = {
				limit = {
					OR = {
						CAN_is_commonwealth_tag = yes
						is_subject_of = GBR
					}
				}
				ROOT = {
					add_opinion_modifier = { target = PREV modifier = GBR_imperial_preference_op }
				}
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.64 option united_kingdom_events.64.b"
		name = united_kingdom_events.64.b #Refuse
		ai_chance = { base = 0 }
		add_political_power = 25
		FROM = {
			add_political_power = -25
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
		}
	}
}

# The British-French Relationship (fired by focus)
country_event = {
	id = united_kingdom_events.65
	title = united_kingdom_events.65.t
	desc = united_kingdom_events.65.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.65 option united_kingdom_events.65.a"
		name = united_kingdom_events.65.a #Naturally
		trigger = { tag = GBR }
		effect_tooltip = {
			add_political_power = 50
			add_opinion_modifier = { target = NFA modifier = KR_close_allies }
			reverse_add_opinion_modifier = { target = NFA modifier = KR_close_allies }
		}
		every_owned_state = {
			limit = {
				is_french_colonial_claim = yes
				is_british_colonial_claim = no
				NOT = { is_core_of = ROOT }
			}
			remove_claim_by = ROOT
			transfer_state_to = NFA
		}
		hidden_effect = {
			every_state = {
				limit = {
					is_british_colonial_claim = yes
					NOT = { is_core_of = owner }
					NOT = { has_variable = can_integrate_@var:owner }
					owner = {
						is_in_faction_with = ROOT
						NOT = { tag = NFA }
						NOT = { tag = GBR }
					}
					if = {
						limit = { state = 545 } #Rhodesia
						owner = {
							NOT = { original_tag = SAF }
							NOT = { is_subject_of = SAF }
						}
					}
					else_if = {
						limit = { is_core_of = PNG }
						owner = {
							NOT = { original_tag = AST }
							NOT = { is_subject_of = AST }
						}
					}
					else_if = {
						limit = {
							OR = {
								is_india = yes
								is_burma = yes
							}
						}
						owner = {
							NOT = { original_tag = RAJ }
							NOT = { is_subject_of = RAJ }
						}
					}
				}
				save_event_target_as = return_state
				state_event = { id = united_kingdom_events.67 trigger_for = owner }
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.65 option united_kingdom_events.65.b"
		name = united_kingdom_events.65.b #Of course we agree!
		trigger = { tag = NFA }
		add_political_power = 50
		hidden_effect = { GBR = { add_political_power = 50 } }
		add_opinion_modifier = { target = GBR modifier = KR_close_allies }
		reverse_add_opinion_modifier = { target = GBR modifier = KR_close_allies }
		every_owned_state = {
			limit = {
				is_british_colonial_claim = yes
				is_french_colonial_claim = no
				NOT = { is_core_of = ROOT }
			}
			remove_claim_by = ROOT
			transfer_state_to = GBR
		}
		hidden_effect = {
			every_state = {
				limit = {
					is_french_colonial_claim = yes
					NOT = { is_core_of = owner }
					NOT = { has_variable = can_integrate_@var:owner }
					owner = {
						is_in_faction_with = ROOT
						NOT = { tag = GBR }
						NOT = { tag = NFA }
					}
				}
				save_event_target_as = return_state
				state_event = { id = united_kingdom_events.67 trigger_for = owner }
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.65 option united_kingdom_events.65.c"
		name = united_kingdom_events.65.c #We're not interested in this
		trigger = {
			tag = NFA
			is_ai = no
		}
		GBR = { country_event = united_kingdom_events.66 }
	}
}

# The French refuse
country_event = {
	id = united_kingdom_events.66
	title = united_kingdom_events.66.t
	desc = united_kingdom_events.66.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.66 option united_kingdom_events.66.a"
		name = united_kingdom_events.66.a
		add_political_power = -25
		add_opinion_modifier = { target = NFA modifier = KR_disapproves_of_govt }
		reverse_add_opinion_modifier = { target = NFA modifier = KR_disapproves_of_govt }
	}
}

# State event: returning British/French territory
state_event = {
	id = united_kingdom_events.67
	title = united_kingdom_events.67.t
	desc = united_kingdom_events.67.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.67 option united_kingdom_events.67.a"
		name = united_kingdom_events.67.a #Agree
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					is_core_of = ROOT
					has_variable = can_integrate_@ROOT
				}
				if = {
					limit = { ROOT = { original_tag = WIF } }
					is_french_colonial_claim = no
				}
				else_if = {
					limit = { ROOT = { CAN_is_dominion = yes } }
					NOT = { state = 730 }
				}
			}
			modifier = {
				factor = 0
				is_claimed_by = ROOT
				ROOT = {
					NOT = { tag = CAN }
					NOT = { original_tag = AST }
					NOT = { original_tag = SAF }
					NOT = { original_tag = WIF }
					NOT = { original_tag = RAJ }
				}
			}
			modifier = {
				factor = 0
				state = 542 #Bechuanaland
				ROOT = {
					original_tag = SAF
					has_completed_focus = SAF_establish_nuweveld
				}
			}
		}
		THIS = { #scoped for the tooltip
			if = {
				limit = { is_claimed_by = ROOT }
				remove_claim_by = ROOT
			}
			hidden_effect = {
				if = {
					limit = {
						state = 730 #St. Pierre
						ROOT = { tag = CAN }
					}
					add_core_of = FROM
				}
			}
			set_temp_variable = { target = FROM }
			transfer_state_during_war = yes
		}
		FROM = { country_event = french_republic_events.193 }
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.67 option united_kingdom_events.67.b"
		name = united_kingdom_events.67.b #Refuse
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				OR = {
					is_core_of = ROOT
					has_variable = can_integrate_@ROOT
				}
				if = {
					limit = { ROOT = { original_tag = WIF } }
					is_french_colonial_claim = no
				}
				else_if = {
					limit = { ROOT = { CAN_is_dominion = yes } }
					NOT = { state = 730 }
				}
			}
			modifier = {
				add = 100
				is_claimed_by = ROOT
				ROOT = {
					NOT = { tag = CAN }
					NOT = { original_tag = AST }
					NOT = { original_tag = SAF }
					NOT = { original_tag = WIF }
					NOT = { original_tag = RAJ }
				}
			}
			modifier = {
				add = 100
				state = 542 #Bechuanaland
				ROOT = {
					original_tag = SAF
					has_completed_focus = SAF_establish_nuweveld
				}
			}
		}
		FROM = { country_event = french_republic_events.194 }
	}
}

# UK builds Victoria status in Canada
country_event = {
	id = united_kingdom_events.68
	title = united_kingdom_events.68.t
	desc = united_kingdom_events.68.d
	picture = GFX_report_event_CAN_statue

	is_triggered_only = yes
	major = yes

	show_major = {
		OR = {
			tag = CAN
			tag = GBR
			is_in_faction_with = GBR
		}
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.68 option united_kingdom_events.68.a"
		name = united_kingdom_events.68.a
		trigger = { tag = CAN }
		add_political_power = 100
		add_ideas = GBR_victoria_idea
		add_opinion_modifier = { target = GBR modifier = KR_close_allies }
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.68 option united_kingdom_events.68.b"
		name = united_kingdom_events.68.b
		trigger = { tag = GBR }
		add_opinion_modifier = { target = CAN modifier = KR_close_allies }
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.68 option united_kingdom_events.68.c"
		name = united_kingdom_events.68.c
		trigger = {
			NOT = {
				tag = CAN
				tag = GBR
			}
			is_in_faction_with = GBR
		}
	}
}

# Westminster Declaration
news_event = {
	id = united_kingdom_events.69
	immediate = { log = "[GetLogInfo]: event united_kingdom_events.69" }
	title = united_kingdom_events.69.t
	picture = GFX_news_event_canadian_soldiers

	desc = {
		text = united_kingdom_events.69.d.allthree
		trigger = {
			CAN = {
				is_subject = no
				is_in_faction_with = GBR
			}
			AST = {
				is_subject = no
				is_in_faction_with = GBR
			}
			SAF = {
				is_subject = no
				is_in_faction_with = GBR
			}
		}
	}
	desc = {
		text = united_kingdom_events.69.d.canast
		trigger = {
			CAN = {
				is_subject = no
				is_in_faction_with = GBR
			}
			AST = {
				is_subject = no
				is_in_faction_with = GBR
			}
			NOT = {
				SAF = {
					is_subject = no
					is_in_faction_with = GBR
				}
			}
		}
	}
	desc = {
		text = united_kingdom_events.69.d.cansaf
		trigger = {
			CAN = {
				is_subject = no
				is_in_faction_with = GBR
			}
			SAF = {
				is_subject = no
				is_in_faction_with = GBR
			}
			NOT = {
				AST = {
					is_subject = no
					is_in_faction_with = GBR
				}
			}
		}
	}
	desc = {
		text = united_kingdom_events.69.d.astsaf
		trigger = {
			AST = {
				is_subject = no
				is_in_faction_with = GBR
			}
			SAF = {
				is_subject = no
				is_in_faction_with = GBR
			}
			NOT = {
				CAN = {
					is_subject = no
					is_in_faction_with = GBR
				}
			}
		}
	}
	desc = {
		text = united_kingdom_events.69.d.can
		trigger = {
			CAN = {
				is_subject = no
				is_in_faction_with = GBR
			}
			NOT = {
				AST = {
					is_subject = no
					is_in_faction_with = GBR
				}
				SAF = {
					is_subject = no
					is_in_faction_with = GBR
				}
			}
		}
	}
	desc = {
		text = united_kingdom_events.69.d.ast
		trigger = {
			AST = {
				is_subject = no
				is_in_faction_with = GBR
			}
			NOT = {
				CAN = {
					is_subject = no
					is_in_faction_with = GBR
				}
				SAF = {
					is_subject = no
					is_in_faction_with = GBR
				}
			}
		}
	}
	desc = {
		text = united_kingdom_events.69.d.saf
		trigger = {
			SAF = {
				is_subject = no
				is_in_faction_with = GBR
			}
			NOT = {
				CAN = {
					is_subject = no
					is_in_faction_with = GBR
				}
				AST = {
					is_subject = no
					is_in_faction_with = GBR
				}
			}
		}
	}

	is_triggered_only = yes
	major = yes

	show_major = {
		OR = {
			tag = GBR
			tag = CAN
			tag = AST
			tag = SAF
			is_in_faction_with = GBR
			regional_north_america_news = yes
			regional_europe_news = yes
		}
	}

	option = {
		name = united_kingdom_events.69.a
		trigger = { tag = GBR }
	}
	option = {
		name = united_kingdom_events.69.b
		trigger = {
			CAN_is_commonwealth_tag = yes
			NOT = { tag = GBR }
			is_subject = no
			is_in_faction_with = GBR
		}
		effect_tooltip = { add_political_power = 50 }
	}
	option = {
		name = united_kingdom_events.69.c
		trigger = {
			NOT = {
				tag = GBR
				AND = {
					CAN_is_commonwealth_tag = yes
					NOT = { tag = GBR }
					is_subject = no
					is_in_faction_with = GBR
				}
			}
		}
	}
}

### Foreign

# Do we claim Northern Ireland?
country_event = {
	id = united_kingdom_events.99
	title = united_kingdom_events.99.t
	picture = GFX_report_event_generic_rally

	desc = {
		text = united_kingdom_events.99.d.promise
		trigger = {
			OR = {
				has_country_flag = CAN_promised_ireland_ind
				has_global_flag = ENT_britain_agree_northire
			}
		}
	}
	desc = {
		text = united_kingdom_events.99.d
		trigger = {
			NOT = {
				has_country_flag = CAN_promised_ireland_ind
				has_global_flag = ENT_britain_agree_northire
			}
		}
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.99 option united_kingdom_events.99.a"
		name = united_kingdom_events.99.a #Yes
		trigger = {
			NOT = {
				has_country_flag = CAN_promised_ireland_ind
				has_global_flag = ENT_britain_agree_northire
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_soclib_or_socdem_government = yes
				NOT = { has_subject = IRE }
			}
			modifier = {
				add = -25
				is_in_faction_with = IRE
				NOT = { has_subject = IRE }
			}
			modifier = {
				add = -25
				has_government = market_liberal
				NOT = { has_subject = IRE }
			}
			modifier = {
				add = -8
				has_authoritarian_government = yes
				is_in_faction_with = IRE
			}
		}
		add_political_power = 50
		add_stability = -0.02
		119 = { add_claim_by = GBR }
		if = {
			limit = {
				IRE = {
					owns_state = 119
					has_socialist_government = no
					NOT = { has_war_with = ROOT }
					OR = {
						is_subject = no
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
			unlock_decision_tooltip = GBR_demand_northern_ireland
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.99 option united_kingdom_events.99.a"
		name = united_kingdom_events.99.a #Abandon promise
		trigger = {
			NOT = {
				AND = {
					is_in_faction_with = IRE
					IRE = { is_subject = no }
				}
			}
			OR = {
				has_country_flag = CAN_promised_ireland_ind
				has_global_flag = ENT_britain_agree_northire
			}
		}
		ai_chance = { base = 0 }
		add_political_power = -200
		add_stability = -0.08
		119 = { add_claim_by = GBR }
		if = {
			limit = { has_country_flag = CAN_promised_ireland_ind }
			clr_country_flag = CAN_promised_ireland_ind
			IRE = {
				add_opinion_modifier = { target = ROOT modifier = KR_outraged }
			}
		}
		if = {
			limit = { has_global_flag = ENT_britain_agree_northire }
			clr_global_flag = GER_stay_out_france_uk
			clr_global_flag = ENT_britain_agree_northire
			clr_global_flag = ENT_agree_colonies
			if = {
				limit = { has_global_flag = ENT_france_agree_mittel }
				clr_global_flag = ENT_france_agree_mittel
				NFA = {
					GER_leave_mitteleuropa = yes
					clr_country_flag = CAN_refused_iedc
				}
			}
			if = {
				limit = { has_global_flag = ENT_france_agree_alsace }
				clr_global_flag = ENT_france_agree_alsace
				28 = { add_claim_by = NFA }
			}
			every_country = {
				limit = { is_in_faction_with = GER }
				country_event = entente_events.324
			}
		}
		if = {
			limit = {
				IRE = {
					owns_state = 119
					has_socialist_government = no
					NOT = { has_war_with = ROOT }
					OR = {
						is_subject = no
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
			unlock_decision_tooltip = GBR_demand_northern_ireland
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.99 option united_kingdom_events.99.b"
		name = united_kingdom_events.99.b #No
		trigger = {
			NOT = {
				has_country_flag = CAN_promised_ireland_ind
				has_global_flag = ENT_britain_agree_northire
			}
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 15
				has_marlib_or_soclib_government = yes
				NOT = { has_subject = IRE }
			}
			modifier = {
				factor = 0.1
				has_authoritarian_government = yes
			}
			modifier = {
				add = 25
				is_in_faction_with = IRE
				NOT = { has_subject = IRE }
			}
			modifier = {
				factor = 0
				has_subject = IRE
			}
		}
		add_political_power = -100
		add_stability = 0.02
		set_cosmetic_tag = GBR_britain
		hidden_effect = {
			news_event = united_kingdom_events.104
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.99 option united_kingdom_events.99.c"
		name = united_kingdom_events.99.c #Keep our promises
		trigger = {
			OR = {
				has_country_flag = CAN_promised_ireland_ind
				has_global_flag = ENT_britain_agree_northire
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				add = 25
				is_in_faction_with = IRE
			}
		}
		add_political_power = -50
		add_stability = 0.05
		set_cosmetic_tag = GBR_britain
		hidden_effect = {
			news_event = united_kingdom_events.104
		}
	}
}

# Approaching Ireland over Northern Ireland
country_event = {
	id = united_kingdom_events.100
	title = united_kingdom_events.100.t
	desc = united_kingdom_events.100.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes

	trigger = {
		owns_state = 119
		NOT = { has_war_with = FROM }
	}

	immediate = {
		set_country_flag = GBR_asked_northern_ireland
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.100 option united_kingdom_events.100.a"
		name = united_kingdom_events.100.a #Absolutely not!
		trigger = {
			NOT = {
				is_subject_of = GBR
				AND = {
					is_subject = yes
					is_in_faction_with = GBR
				}
			}
		}
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				is_in_faction = no
				GBR = { has_conservative_government = yes }
			}
		}
		add_stability = -0.05
		add_political_power = 50
		if = {
			limit = { is_in_faction_with = FROM }
			custom_effect_tooltip = GBR_Ireland_leave_Entente
			hidden_effect = {
				every_other_country = {
					limit = {
						is_in_faction_with = ROOT
						NOT = { tag = FROM }
					}
					country_event = united_kingdom_events.102
				}
			}
			leave_faction = yes
			separate_peace_all_wars = yes
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_outraged }
			country_event = united_kingdom_events.103
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.100 option united_kingdom_events.100.b"
		name = united_kingdom_events.100.b #If this will keep the peace, so be it
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					is_in_faction = yes
					has_dictatorship_government = yes
				}
			}
		}
		add_stability = 0.10
		add_political_power = -200
		FROM = {
			effect_tooltip = { transfer_state = 119 }
			add_opinion_modifier = { target = ROOT modifier = KR_returned_land }
			country_event = united_kingdom_events.101
		}
	}
}

# Northern Ireland returned
country_event = {
	id = united_kingdom_events.101
	title = united_kingdom_events.101.t
	desc = united_kingdom_events.101.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.101 option united_kingdom_events.101.a"
		name = united_kingdom_events.101.a
		transfer_state = 119
		hidden_effect = {
			119 = {
				if = {
					limit = { has_dynamic_modifier = { modifier = IRE_reluctant_countrymen_modifier } }
					remove_dynamic_modifier = { modifier = IRE_reluctant_countrymen_modifier }
				}
			}
		}
	}
}

# Notice to faction members: Ireland left faction due to conflict with GBR
country_event = {
	id = united_kingdom_events.102
	title = united_kingdom_events.102.t
	desc = united_kingdom_events.102.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	trigger = { is_ai = no }

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.102 option united_kingdom_events.102.a"
		name = united_kingdom_events.102.a
	}
}

# Ireland refuses
country_event = {
	id = united_kingdom_events.103
	title = united_kingdom_events.103.t
	picture = GFX_report_event_generic_diplomacy4

	desc = {
		text = united_kingdom_events.103.d.faction
		trigger = {
			IRE = {
				is_in_faction = yes
				is_faction_leader = no
			}
			NOT = {
				USA = {
					is_in_faction_with = ROOT
				}
				ACC = {
					is_in_faction_with = ROOT
				}
				APG = {
					is_in_faction_with = ROOT
				}
				AND = {
					NEE = {
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
					NEE_war_is_truly_over = yes
				}
			}
		}
	}
	desc = {
		text = united_kingdom_events.103.d.factionamerica
		trigger = {
			IRE = {
				is_in_faction = yes
				is_faction_leader = no
			}
			OR = {
				USA = {
					is_in_faction_with = ROOT
				}
				ACC = {
					is_in_faction_with = ROOT
				}
				APG = {
					is_in_faction_with = ROOT
				}
				AND = {
					NEE = {
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
					NEE_war_is_truly_over = yes
				}
			}
		}
	}
	desc = {
		text = united_kingdom_events.103.d.nofaction
		trigger = {
			IRE = {
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
		}
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.103 option united_kingdom_events.103.a"
		name = united_kingdom_events.103.a #Appeal to their faction leader
		trigger = {
			IRE = {
				is_in_faction = yes
				is_faction_leader = no
			}
			OR = {
				USA = {
					is_in_faction_with = ROOT
				}
				ACC = {
					is_in_faction_with = ROOT
				}
				APG = {
					is_in_faction_with = ROOT
				}
				AND = {
					NEE = {
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
					NEE_war_is_truly_over = yes
				}
			}
		}
		ai_chance = { base = 100 }
		var:IRE.faction_leader = {
			country_event = { id = united_kingdom_events.105 days = 3 }
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.103 option united_kingdom_events.103.b"
		name = united_kingdom_events.103.b #Drop our claim
		ai_chance = {
			base = 25
			modifier = {
				factor = 0.5
				IRE = { is_in_faction = no }
			}
			modifier = {
				factor = 2
				has_marlib_or_soclib_government = yes
			}
			modifier = {
				factor = 0
				OR = {
					has_government = social_conservative
					has_authoritarian_government = yes
				}
			}
		}
		119 = { remove_claim_by = GBR }
		add_political_power = -100
		add_stability = -0.05
		set_cosmetic_tag = GBR_britain
		hidden_effect = {
			news_event = united_kingdom_events.104
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.103 option united_kingdom_events.103.c"
		name = united_kingdom_events.103.c #It is time to take matters into our own hands
		trigger = {
			OR = {
				AND = {
					IRE = {
						is_in_faction = yes
						is_faction_leader = no
					}
					NOT = {
						USA = {
							is_in_faction_with = ROOT
						}
						ACC = {
							is_in_faction_with = ROOT
						}
						APG = {
							is_in_faction_with = ROOT
						}
						AND = {
							NEE = {
								is_in_faction_with = ROOT
							}
							NEE_war_is_truly_over = yes
						}
					}
				}
				IRE = {
					OR = {
						is_in_faction = no
						is_faction_leader = yes
					}
				}
			}
		}
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_government = social_democrat
			}
		}
		set_country_flag = GBR_may_attack_ireland
		unlock_decision_tooltip = GBR_invade_ireland
		add_war_support = -0.10
	}
}

# News: Britain abandons claim to Northern Ireland
news_event = {
	id = united_kingdom_events.104
	immediate = { log = "[GetLogInfo]: event united_kingdom_events.104" }
	title = united_kingdom_events.104.t
	desc = united_kingdom_events.104.d
	picture = GFX_news_event_GBR_parliament

	is_triggered_only = yes
	major = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		OR = {
			regional_europe_news = yes
			is_in_faction_with = GBR
			tag = IRE
			tag = GBR
		}
	}

	option = {
		name = united_kingdom_events.104.a
		trigger = { tag = GBR }
	}
	option = {
		name = united_kingdom_events.104.b
		trigger = { tag = IRE }
	}
	option = {
		name = united_kingdom_events.104.c
		trigger = {
			NOT = {
				tag = GBR
				tag = IRE
			}
		}
	}
}

# Britain appeals to Ireland's faction leader
country_event = {
	id = united_kingdom_events.105
	title = united_kingdom_events.105.t
	desc = united_kingdom_events.105.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	trigger = {
		is_faction_leader = yes
		is_in_faction_with = IRE
		IRE = { owns_state = 119 }
		NOT = { has_war_with = GBR }
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.105 option united_kingdom_events.105.a"
		name = united_kingdom_events.105.a #We support Ireland unreservedly
		ai_chance = {
			base = 100
			modifier = {
				add = -50
				surrender_progress > 0.75
			}
		}
		IRE = {
			add_opinion_modifier = { target = ROOT modifier = KR_pleased }
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_hates_govt }
			country_event = { id = united_kingdom_events.109 days = 3 }
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.105 option united_kingdom_events.105.b"
		name = united_kingdom_events.105.b #Pressure the Irish to give in
		ai_chance = {
			base = 0
			modifier = {
				add = 12.5
				has_war = yes
			}
			modifier = {
				add = 25
				surrender_progress > 0.50
			}
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_pleased }
		}
		IRE = {
			add_opinion_modifier = { target = ROOT modifier = KR_hates_govt }
			country_event = { id = united_kingdom_events.106 days = 3 }
		}
	}
}

# Faction leader attempts to pressure Ireland
country_event = {
	id = united_kingdom_events.106
	title = united_kingdom_events.106.t
	desc = united_kingdom_events.106.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	trigger = {
		FROM = { is_faction_leader = yes }
		is_in_faction_with = FROM
		owns_state = 119
		NOT = { has_war_with = GBR }
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.106 option united_kingdom_events.106.a"
		name = united_kingdom_events.106.a #Absolutely not!
		trigger = {
			NOT = {
				is_subject_of = FROM
			}
		}
		ai_chance = {
			base = 60
			modifier = {
				factor = 1.5
				has_dictatorship_government = yes
			}
		}
		add_stability = -0.05
		add_political_power = 50
		custom_effect_tooltip = GBR_Ireland_leave_faction
		if = {
			limit = { is_in_faction_with = FROM }
			leave_faction = yes
			separate_peace_all_wars = yes
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_outraged }
			country_event = united_kingdom_events.107
		}
		GBR = {
			country_event = united_kingdom_events.108
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.106 option united_kingdom_events.106.b"
		name = united_kingdom_events.106.b #If this will keep the peace, so be it
		ai_chance = {
			base = 40
			modifier = {
				factor = 1.5
				has_war = yes
			}
			modifier = {
				factor = 1.5
				has_dictatorship_government = no
			}
		}
		add_stability = 0.10
		add_political_power = -200
		GBR = {
			effect_tooltip = { transfer_state = 119 }
			add_opinion_modifier = { target = ROOT modifier = KR_returned_land }
			country_event = united_kingdom_events.101
		}
	}
}

# Ireland refuses to be pressured - drops out of faction
country_event = {
	id = united_kingdom_events.107
	title = united_kingdom_events.107.t
	desc = united_kingdom_events.107.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.107 option united_kingdom_events.107.a"
		name = united_kingdom_events.107.a
	}
}

# Appealing to faction leader just lead to IRE leaving their faction
country_event = {
	id = united_kingdom_events.108
	title = united_kingdom_events.108.t
	desc = united_kingdom_events.108.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.108 option united_kingdom_events.108.a"
		name = united_kingdom_events.108.a #Drop our claim
		ai_chance = {
			base = 25
			modifier = {
				factor = 2
				has_marlib_or_soclib_government = yes
			}
			modifier = {
				factor = 0
				OR = {
					has_government = social_conservative
					has_authoritarian_government = yes
				}
			}
		}
		119 = { remove_claim_by = GBR }
		add_political_power = -100
		add_stability = -0.05
		set_cosmetic_tag = GBR_britain
		hidden_effect = {
			news_event = united_kingdom_events.104
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.108 option united_kingdom_events.108.b"
		name = united_kingdom_events.108.b #It is time to take matters into our own hands
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_government = social_democrat
			}
		}
		set_country_flag = GBR_may_attack_ireland
		unlock_decision_tooltip = GBR_invade_ireland
		add_war_support = -0.10
	}
}

# Faction leader supports Ireland
country_event = {
	id = united_kingdom_events.109
	title = united_kingdom_events.109.t
	desc = united_kingdom_events.109.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	trigger = {
		FROM = { is_faction_leader = yes }
		IRE = {
			is_in_faction_with = FROM
			owns_state = 119
			NOT = { has_war_with = GBR }
		}
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.109 option united_kingdom_events.109.a"
		name = united_kingdom_events.109.a #Drop our claim
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				has_marlib_or_soclib_government = yes
			}
			modifier = {
				factor = 0
				OR = {
					has_government = social_conservative
					has_authoritarian_government = yes
				}
			}
		}
		119 = { remove_claim_by = GBR }
		add_political_power = -100
		add_stability = -0.05
		set_cosmetic_tag = GBR_britain
		hidden_effect = {
			news_event = united_kingdom_events.104
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.109 option united_kingdom_events.109.b"
		name = united_kingdom_events.109.b #It is time to take matters into our own hands
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_government = social_democrat
			}
		}
		set_country_flag = GBR_may_attack_ireland
		unlock_decision_tooltip = GBR_invade_ireland
	}
}

# Do we claim Gibraltar?
country_event = {
	id = united_kingdom_events.112
	title = united_kingdom_events.112.t
	picture = GFX_report_event_generic_diplomacy2

	desc = {
		text = united_kingdom_events.112.d.spanish
		trigger = {
			var:118.owner = { original_tag = SPA }
		}
	}
	desc = {
		text = united_kingdom_events.112.d
		trigger = {
			NOT = { var:118.owner = { original_tag = SPA } }
		}
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.112 option united_kingdom_events.112.a"
		name = united_kingdom_events.112.a #Gibraltar is ours by right
		ai_chance = {
			base = 70
			modifier = {
				factor = 0.5
				has_government = social_democrat
			}
		}
		add_political_power = -50
		add_war_support = 0.05
		unlock_decision_tooltip = GBR_demand_gibraltar
		118 = {
			add_claim_by = ROOT
			if = {
				limit = { is_claim_or_core_of_owner = yes }
				owner = { add_opinion_modifier = { target = ROOT modifier = KR_outraged } }
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.112 option united_kingdom_events.112.b"
		name = united_kingdom_events.112.b #It's a pointless claim
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				118 = {
					is_claim_or_core_of_owner = no
					owner = { is_ally_with = ROOT }
				}
			}
			modifier = {
				factor = 2
				has_government = social_liberal
			}
			modifier = {
				factor = 0.5
				OR = {
					has_government = social_conservative
					has_authoritarian_government = yes
				}
			}
		}
		add_political_power = 50
		add_war_support = -0.05
	}
}

# Do we claim the Falkland Islands?
country_event = {
	id = united_kingdom_events.113
	title = united_kingdom_events.113.t
	picture = GFX_report_event_generic_diplomacy2

	desc = {
		text = united_kingdom_events.113.d.arg
		trigger = {
			var:299.owner = {
				OR = {
					tag = ARG
					tag = FOP
				}
			}
		}
	}
	desc = {
		text = united_kingdom_events.113.d.ally
		trigger = {
			var:299.owner = {
				is_in_faction_with = ROOT
				NOT = {
					tag = ARG
					tag = FOP
				}
			}
		}
	}
	desc = {
		text = united_kingdom_events.113.d
		trigger = {
			var:299.owner = {
				NOT = {
					is_in_faction_with = ROOT
					tag = ARG
					tag = FOP
				}
			}
		}
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.113 option united_kingdom_events.113.a"
		name = united_kingdom_events.113.a #The Falklands are ours by right
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_government = social_democrat
			}
		}
		add_political_power = -25
		add_war_support = 0.03
		unlock_decision_tooltip = GBR_demand_falklands
		299 = {
			add_claim_by = ROOT
			if = {
				limit = { is_claim_or_core_of_owner = yes }
				owner = {
					set_temp_variable = { GBR_added_opinion_modifier_@THIS = 1 }
					add_opinion_modifier = { target = ROOT modifier = KR_outraged }
				}
			}
		}
		720 = {
			add_claim_by = ROOT
			if = {
				limit = {
					is_claim_or_core_of_owner = yes
					NOT = { has_variable = GBR_added_opinion_modifier_@var:owner }
				}
				owner = { add_opinion_modifier = { target = ROOT modifier = KR_outraged } }
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.113 option united_kingdom_events.113.b"
		name = united_kingdom_events.113.b #It's a pointless claim
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				299 = {
					is_claim_or_core_of_owner = no
					owner = { is_ally_with = ROOT }
				}
			}
			modifier = {
				factor = 2
				has_government = social_liberal
			}
			modifier = {
				factor = 0.5
				OR = {
					has_government = social_conservative
					has_authoritarian_government = yes
				}
			}
		}
		add_political_power = 25
		add_war_support = -0.03
	}
}

# Sending demand for territory
country_event = {
	id = united_kingdom_events.115
	picture = GFX_report_event_generic_diplomacy2

	title = {
		text = united_kingdom_events.115.t
		trigger = { NOT = { is_in_faction_with = FROM } }
	}
	title = {
		text = united_kingdom_events.115.t.ally
		trigger = { is_in_faction_with = FROM }
	}
	desc = {
		text = united_kingdom_events.115.d
		trigger = { NOT = { is_in_faction_with = FROM } }
	}
	desc = {
		text = united_kingdom_events.115.d.ally
		trigger = { is_in_faction_with = FROM }
	}

	is_triggered_only = yes

	trigger = {
		owns_state = event_target:demand_state
		NOT = { has_war_with = FROM }
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.115 option united_kingdom_events.115.a"
		name = united_kingdom_events.115.a #Agree
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				event_target:demand_state = { is_core_of = ROOT }
			}
			modifier = {
				factor = 10
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 2
				is_in_faction = no
			}
		}
		if = {
			limit = { event_target:demand_state = { is_core_of = ROOT } }
			add_political_power = -100
		}
		else_if = {
			limit = { event_target:demand_state = { is_claimed_by = ROOT } }
			add_political_power = -50
		}
		else = {
			add_political_power = -25
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_pleased }
			effect_tooltip = { transfer_state = event_target:demand_state }
			country_event = united_kingdom_events.116
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.115 option united_kingdom_events.115.b"
		name = united_kingdom_events.115.b #Refuse
		ai_chance = {
			base = 90
			modifier = {
				factor = 0.1
				is_subject_of = FROM
			}
			modifier = {
				factor = 0.5
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 0.5
				event_target:demand_state = { is_claim_or_core_of_ROOT = no }
			}
			modifier = {
				factor = 0.1
				is_in_faction_with = FROM
				event_target:demand_state = { state = 299 }
			}
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = united_kingdom_events.117
		}
	}
}

# They Agreed
country_event = {
	id = united_kingdom_events.116
	title = united_kingdom_events.116.t
	picture = GFX_report_event_generic_diplomacy2

	desc = {
		text = united_kingdom_events.116.d
		trigger = { NOT = { is_in_faction_with = FROM } }
	}
	desc = {
		text = united_kingdom_events.116.d.ally
		trigger = { is_in_faction_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.116 option united_kingdom_events.116.a"
		name = united_kingdom_events.116.a
		add_political_power = 25
		transfer_state = event_target:demand_state
		if = {
			limit = {
				720 = {
					is_owned_by = FROM
					is_claimed_by = ROOT
				}
			}
			transfer_state = 720
		}
	}
}

# They Refused
country_event = {
	id = united_kingdom_events.117
	title = united_kingdom_events.117.t
	desc = united_kingdom_events.117.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.117 option united_kingdom_events.117.a"
		name = united_kingdom_events.117.a #We are not amused
		ai_chance = { base = 70 }
		add_war_support = 0.05
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.117 option united_kingdom_events.117.b"
		name = united_kingdom_events.117.b #Then we are left with no alternative
		trigger = {
			can_declare_war_on = FROM
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 2
				event_target:demand_state = { state = 118 }
			}
			modifier = {
				factor = 0
				is_in_faction = yes
				any_allied_country = { is_actual_major = yes }
			}
		}
		add_war_support = 0.05
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
}

# Asking for control over subject
country_event = {
	id = united_kingdom_events.118
	title = united_kingdom_events.118.t
	desc = united_kingdom_events.118.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	trigger = {
		is_in_faction_with = FROM
		has_subject = event_target:colony_country
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.118 option united_kingdom_events.118.a"
		name = united_kingdom_events.118.a #Agree
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				tag = GEX
				event_target:colony_country = {
					NOT = {
						tag = NIR
						tag = WLS
						tag = SCO
					}
				}
			}
			modifier = {
				factor = 0.5
				CAN_is_commonwealth_tag = no
			}
		}
		clr_country_flag = GBR_requested_control
		reverse_add_opinion_modifier = { target = ROOT modifier = KR_pleased }
		if = {
			limit = {
				event_target:colony_country = {
					OR = {
						original_tag = NIR
						original_tag = WLS
						original_tag = SCO
					}
				}
			}
			effect_tooltip = {
				event_target:colony_country = {
					FROM = { annex_country = { target = PREV } }
				}
			}
		}
		else = {
			effect_tooltip = { FROM = { puppet = event_target:colony_country } }
		}
		FROM = { country_event = united_kingdom_events.119 }
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.118 option united_kingdom_events.118.b"
		name = united_kingdom_events.118.b #Refuse
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				NOT = {
					tag = GEX
					tag = SAF
				}
			}
			modifier = {
				factor = 0
				event_target:colony_country = {
					OR = {
						original_tag = NIR
						original_tag = WLS
						original_tag = SCO
					}
				}
			}
			modifier = {
				factor = 20
				tag = SAF
			}
		}
		if = {
			limit = {
				is_in_faction_with = FROM
				event_target:colony_country = {
					OR = {
						original_tag = NIR
						original_tag = WLS
						original_tag = SCO
					}
				}
			}
			save_event_target_as = GBR_left_faction
			leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes
			FROM = {
				add_opinion_modifier = { target = ROOT modifier = KR_outraged }
				country_event = united_kingdom_events.120
			}
		}
		else = {
			FROM = {
				add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
				country_event = united_kingdom_events.120
			}
		}
	}
}

# They Agreed
country_event = {
	id = united_kingdom_events.119
	title = united_kingdom_events.119.t
	desc = united_kingdom_events.119.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.119 option united_kingdom_events.119.a"
		name = united_kingdom_events.119.a
		add_political_power = 25
		if = {
			limit = {
				event_target:colony_country = {
					OR = {
						original_tag = NIR
						original_tag = WLS
						original_tag = SCO
					}
				}
			}
			event_target:colony_country = {
				ROOT = { annex_country = { target = PREV } }
			}
		}
		else = {
			set_temp_variable = { target = event_target:colony_country }
			puppet_country_without_changing_government = yes
		}
	}
}

# They Refused
country_event = {
	id = united_kingdom_events.120
	title = united_kingdom_events.120.t
	desc = united_kingdom_events.120.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.120 option united_kingdom_events.120.a"
		name = united_kingdom_events.120.a
		add_political_power = -25
		if = {
			limit = { has_event_target = GBR_left_faction }
			effect_tooltip = { faction_leader = { remove_from_faction = FROM } }
			every_other_country = {
				limit = { is_in_faction_with = ROOT }
				add_opinion_modifier = { target = FROM modifier = KR_outraged }
			}
		}
		if = {
			limit = { event_target:colony_country = { is_on_continent = central_america } }
			every_state = {
				limit = {
					is_core_of = event_target:colony_country
					NOT = { is_core_of = ROOT }
				}
				add_claim_by = ROOT
			}
		}
	}
}

# Asking for return of colonies
country_event = {
	id = united_kingdom_events.121
	picture = GFX_report_event_generic_diplomacy2

	title = {
		text = united_kingdom_events.121.t.ally
		trigger = { is_in_faction_with = FROM }
	}
	title = {
		text = united_kingdom_events.121.t
		trigger = { NOT = { is_in_faction_with = FROM } }
	}
	desc = {
		text = united_kingdom_events.121.d.ally
		trigger = { is_in_faction_with = FROM }
	}
	desc = {
		text = united_kingdom_events.121.d
		trigger = { NOT = { is_in_faction_with = FROM } }
	}

	is_triggered_only = yes

	trigger = {
		any_owned_state = {
			has_variable = ambition_area_@FROM
			is_british_colonial_claim = yes
		}
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.121 option united_kingdom_events.121.a"
		name = united_kingdom_events.121.a #Agree
		trigger = { is_subject = no }
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				tag = GEX
			}
			modifier = {
				factor = 0.5
				is_in_faction_with = FROM
				CAN_is_commonwealth_tag = no
			}
			modifier = {
				factor = 0.1
				is_in_faction = yes
				NOT = { is_in_faction_with = GBR }
				NOT = { alliance_strength_ratio < 1.0 }
			}
			modifier = {
				factor = 0.1
				is_in_faction = no
				alliance_strength_ratio > 1.0
			}
			modifier = {
				factor = 0
				any_owned_state = {
					is_british_colonial_claim = yes
					is_core_of = ROOT
				}
			}
		}
		clr_country_flag = GBR_refused_colony_transfer
		effect_tooltip = {
			every_state = {
				limit = {
					has_variable = ambition_area_@FROM
					is_british_colonial_claim = yes
					OR = {
						is_owned_by = ROOT
						owner = { is_subject_of = ROOT }
					}
				}
				FROM = {
					transfer_state = PREV
				}
			}
		}
		FROM = {
			if = {
				limit = { is_in_faction_with = ROOT }
				add_opinion_modifier = { target = ROOT modifier = KR_pleased }
			}
			else = {
				add_opinion_modifier = { target = ROOT modifier = KR_returned_land }
			}
			country_event = united_kingdom_events.122
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.121 option united_kingdom_events.121.b"
		name = united_kingdom_events.121.b #Refuse
		trigger = { is_subject = no }
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				NOT = { tag = GEX }
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 10
				is_in_faction = yes
				NOT = { is_in_faction_with = GBR }
				NOT = { alliance_strength_ratio < 1.0 }
			}
			modifier = {
				factor = 10
				is_in_faction = no
				alliance_strength_ratio > 1.0
			}
		}
		FROM = {
			if = {
				limit = { is_in_faction_with = ROOT }
				add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			}
			else = {
				add_opinion_modifier = { target = ROOT modifier = KR_outraged }
			}
			country_event = united_kingdom_events.123
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.121 option united_kingdom_events.121.c"
		name = united_kingdom_events.121.c #Inform overlord
		trigger = { is_subject = yes }
		overlord = { country_event = united_kingdom_events.140 }
	}
}

# They Agreed
country_event = {
	id = united_kingdom_events.122
	title = united_kingdom_events.122.t
	desc = united_kingdom_events.122.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.122 option united_kingdom_events.122.a"
		name = united_kingdom_events.122.a
		every_state = {
			limit = {
				has_variable = ambition_area_@ROOT
				is_british_colonial_claim = yes
				OR = {
					is_owned_by = FROM
					owner = { is_subject_of = FROM }
				}
			}
			ROOT = {
				transfer_state = PREV
			}
		}
	}
}

# They Refused
country_event = {
	id = united_kingdom_events.123
	title = united_kingdom_events.123.t
	desc = united_kingdom_events.123.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.123 option united_kingdom_events.123.a"
		name = united_kingdom_events.123.a #How disappointing
		ai_chance = { base = 50 }
		add_political_power = -25
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.123 option united_kingdom_events.123.b"
		name = united_kingdom_events.123.b #They leave us with little choice
		trigger = {
			can_declare_war_on = FROM
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				FROM = { tag = GEX }
			}
			modifier = {
				factor = 0
				FROM = {
					is_in_faction = yes
					any_allied_country = { is_actual_major = yes }
				}
			}
		}
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
}

# UK decides the fate of WIF
country_event = {
	id = united_kingdom_events.124
	title = united_kingdom_events.124.t
	desc = united_kingdom_events.124.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.124 option united_kingdom_events.124.a"
		name = united_kingdom_events.124.a #Time to dissolve the federation
		trigger = {
			WIF = { is_ai = yes }
		}
		ai_chance = { base = 70 }
		if = {
			limit = {
				is_in_faction_with = NFA
				OR = {
					694 = { is_owned_by = WIF } #French Caribbean
					694 = { is_owned_by = ROOT } #French Caribbean
					310 = { is_owned_by = WIF } #Cayenne
					310 = { is_owned_by = ROOT } #Cayenne
					1037 = { is_owned_by = WIF } #Inini
					1037 = { is_owned_by = ROOT } #Inini
				}
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = WIF
						is_owned_by = ROOT
					}
					OR = {
						state = 310 #Cayenne
						state = 694 #French Caribbean
						state = 1037 #Inini
						state = 1077 #Saint Martin
					}
				}
				effect_tooltip = {
					transfer_state_to = NFA
				}
			}
			NFA = {
				add_opinion_modifier = { target = ROOT modifier = KR_returned_land }
				hidden_effect = { country_event = united_kingdom_events.125 }
			}
		}
		hidden_effect = {
			WIF = {
				every_core_state = {
					limit = {
						NOT = { is_core_of = CUB }
						NOT = { is_core_of = DOM }
						NOT = { is_core_of = HAI }
						NOT = { is_core_of = PUE }
						NOT = { state = 310 } #Cayenne
						NOT = { state = 694 } #French Caribbean
						NOT = { state = 1037 } #Inini
						NOT = { state = 1077 } #Saint Martin
						NOT = { state = 695 } #Curacao
					}
					add_claim_by = ROOT
				}
			}
		}
		annex_country = { target = WIF transfer_troops = yes }
		hidden_effect = {
			GBR = {
				308 = { #Leeward Islands
					add_compliance = 50
					enable_state_integration_80_compliance = yes
				}
				690 = { #Bahamas
					add_compliance = 50
					enable_state_integration_80_compliance = yes
				}
				692 = { #Windward Islands
					add_compliance = 50
					enable_state_integration_80_compliance = yes
				}
				696 = { #Bermuda
					add_compliance = 50
					enable_state_integration_80_compliance = yes
				}
				691 = { #Trindad & Tobago
					add_compliance = 50
					enable_state_integration_80_compliance = yes
				}
				689 = { #Jamaica
					add_compliance = 50
					enable_state_integration_80_compliance = yes
				}
				687 = { #Demerara
					add_compliance = 50
				}
				1078 = { #Barima
					add_compliance = 50
				}
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.124 option united_kingdom_events.124.b"
		name = united_kingdom_events.124.b #It can remain under our control
		trigger = {
			WIF = { is_subject_of = ROOT }
		}
		ai_chance = { base = 20 }
		WIF = {
			country_event = united_kingdom_events.126
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.124 option united_kingdom_events.124.c"
		name = united_kingdom_events.124.c #It should be placed under our control
		trigger = {
			WIF = { is_subject = no }
		}
		ai_chance = { base = 20 }
		WIF = {
			country_event = united_kingdom_events.127
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.124 option united_kingdom_events.124.e"
		name = united_kingdom_events.124.e #Leave it independent
		trigger = {
			WIF = { is_subject = no }
		}
		ai_chance = {
			base = 10
			modifier = {
				factor = 10
				WIF = { is_ai = no }
			}
		}
		WIF = {
			add_opinion_modifier = { target = ROOT modifier = KR_close_allies }
			country_event = united_kingdom_events.128
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.124 option united_kingdom_events.124.f"
		name = united_kingdom_events.124.f #Grant it independence
		trigger = {
			WIF = { is_subject_of = ROOT }
		}
		ai_chance = {
			base = 10
			modifier = {
				factor = 10
				WIF = { is_ai = no }
			}
		}
		effect_tooltip = {
			set_autonomy = {
				target = WIF
				autonomy_state = autonomy_free
			}
		}
		WIF = {
			add_opinion_modifier = { target = ROOT modifier = KR_close_allies }
			country_event = united_kingdom_events.129
		}
	}
}

# French Caribbean returned to NFA
country_event = {
	id = united_kingdom_events.125
	title = united_kingdom_events.125.t
	desc = united_kingdom_events.125.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.125 option united_kingdom_events.125.a"
		name = united_kingdom_events.125.a
		every_state = {
			limit = {
				OR = {
					is_owned_by = WIF
					is_owned_by = FROM
				}
				OR = {
					state = 694 #French Caribbean
					state = 310 #Cayenne
					state = 1037 #Inini
					state = 1077 #Saint Martin
				}
			}
			hidden_effect = { add_claim_by = ROOT }
			transfer_state_to = ROOT
			add_compliance = 50
		}
	}
}

# WIF to remain UK puppet
country_event = {
	id = united_kingdom_events.126
	title = united_kingdom_events.126.t
	desc = united_kingdom_events.126.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.126 option united_kingdom_events.126.a"
		name = united_kingdom_events.126.a
	}
}

# WIF to become UK puppet
country_event = {
	id = united_kingdom_events.127
	title = united_kingdom_events.127.t
	desc = united_kingdom_events.127.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.127 option united_kingdom_events.127.a"
		name = united_kingdom_events.127.a #Agreed
		set_temp_variable = { target = ROOT }
		FROM = { puppet_country_without_changing_government = yes }
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.127 option united_kingdom_events.127.b"
		name = united_kingdom_events.127.b #Refuse
		ai_chance = { base = 0 }
		leave_faction = yes
		peace_out_non_neighbours_after_leaving_faction = yes
		FROM = {
			create_wargoal = {
				type = annex_everything
				target = ROOT
			}
		}
	}
}

# WIF to remain independent
country_event = {
	id = united_kingdom_events.128
	title = united_kingdom_events.128.t
	desc = united_kingdom_events.128.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.128 option united_kingdom_events.128.a"
		name = united_kingdom_events.128.a
	}
}

# WIF granted independence
country_event = {
	id = united_kingdom_events.129
	title = united_kingdom_events.129.t
	desc = united_kingdom_events.129.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.129 option united_kingdom_events.129.a"
		name = united_kingdom_events.129.a
		add_political_power = 100
		FROM = {
			set_autonomy = {
				target = ROOT
				autonomy_state = autonomy_free
			}
		}
	}
}

# The Imperial Argument (fired by focus)
country_event = {
	id = united_kingdom_events.130
	title = united_kingdom_events.130.t
	picture = GFX_report_event_GBR_country_parliament

	desc = {
		text = united_kingdom_events.130.d.promise
		trigger = { has_global_flag = ENT_agree_colonies }
	}
	desc = {
		text = united_kingdom_events.130.d.nopromise
		trigger = { NOT = { has_global_flag = ENT_agree_colonies } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.130 option united_kingdom_events.130.a"
		name = united_kingdom_events.130.a #It is time to decolonize
		ai_chance = { base = 80 }
		set_country_flag = GBR_decolonize
		add_political_power = 100
		add_stability = 0.10
		set_temp_variable = { ideology_change_var = 0.1 }
		change_ruling_party_popularity = yes
		hidden_effect = {
			every_state = {
				limit = {
					has_variable = ambition_area_@ROOT
					is_british_colonial_claim = yes
				}
				clear_variable = ambition_area_@ROOT
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.130 option united_kingdom_events.130.b"
		name = united_kingdom_events.130.b #We will restore the empire - but not German lands
		trigger = { has_global_flag = ENT_agree_colonies }
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_government = social_democrat
			}
		}
		set_country_flag = GBR_chose_empire
		add_political_power = -100
		add_stability = -0.10
		set_temp_variable = { ideology_change_var = -0.1 }
		change_ruling_party_popularity = yes
		custom_effect_tooltip = GBR_regain_colonies_no_ger
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.130 option united_kingdom_events.130.c"
		name = united_kingdom_events.130.c #We will restore the ENTIRE empire
		trigger = { has_global_flag = ENT_agree_colonies }
		ai_chance = { base = 0 }
		set_country_flag = GBR_chose_empire
		set_country_flag = GBR_rebuild_empire
		add_political_power = -300
		add_stability = -0.20
		set_temp_variable = { ideology_change_var = -0.2 }

		clr_global_flag = GER_stay_out_france_uk
		clr_global_flag = ENT_britain_agree_northire
		clr_global_flag = ENT_agree_colonies
		if = {
			limit = { has_global_flag = ENT_france_agree_mittel }
			clr_global_flag = ENT_france_agree_mittel
			NFA = {
				GER_leave_mitteleuropa = yes
				clr_country_flag = CAN_refused_iedc
			}
		}
		if = {
			limit = { has_global_flag = ENT_france_agree_alsace }
			clr_global_flag = ENT_france_agree_alsace
			28 = { add_claim_by = NFA }
		}
		every_country = {
			limit = { is_in_faction_with = GER }
			country_event = entente_events.324
		}
		custom_effect_tooltip = GBR_regain_colonies
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.130 option united_kingdom_events.130.e"
		name = united_kingdom_events.130.e #We shall rebuild the British Empire
		trigger = { NOT = { has_global_flag = ENT_agree_colonies } }
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_government = social_democrat
			}
		}
		set_country_flag = GBR_chose_empire
		set_country_flag = GBR_rebuild_empire
		add_political_power = -100
		add_stability = -0.10
		set_temp_variable = { ideology_change_var = -0.1 }
		change_ruling_party_popularity = yes
		custom_effect_tooltip = GBR_regain_colonies
	}
}

# UK asks for Malta's return
country_event = {
	id = united_kingdom_events.131
	title = united_kingdom_events.131.t
	desc = united_kingdom_events.131.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	trigger = {
		owns_state = event_target:demand_state
		NOT = { has_war_with = FROM }
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.131 option united_kingdom_events.131.a"
		name = united_kingdom_events.131.a #Agree
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					original_tag = MLT
					is_italian_tag = yes
				}
			}
		}
		remove_state_claim = 116
		116 = { clear_occupy_state = yes } #Malta
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_pleased }
			effect_tooltip = {
				if = {
					limit = { country_exists = MLT }
					annex_country = { target = MLT }
				}
				else = {
					transfer_state = event_target:demand_state
				}
			}
			country_event = united_kingdom_events.116
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.131 option united_kingdom_events.131.b"
		name = united_kingdom_events.131.b #Refuse
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				OR = {
					original_tag = MLT
					is_italian_tag = yes
				}
			}
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = united_kingdom_events.117
		}
	}
}

# Asking for return of integral state
country_event = {
	id = united_kingdom_events.132
	title = united_kingdom_events.132.t
	picture = GFX_report_event_generic_diplomacy2

	desc = {
		text = united_kingdom_events.132.d.puppet
		trigger = {
			has_subject = event_target:return_country
		}
	}
	desc = {
		text = united_kingdom_events.132.d
		trigger = {
			tag = event_target:return_country
		}
	}

	is_triggered_only = yes

	trigger = {
		OR = {
			has_subject = event_target:return_country
			tag = event_target:return_country
		}
		NOT = { has_war_with = FROM }
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.132 option united_kingdom_events.132.a"
		name = united_kingdom_events.132.a #Agree
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.5
				alliance_strength_ratio > 2.0
			}
			modifier = {
				factor = 0.5
				tag = GER
				has_war = no
			}
		}
		FROM = {
			effect_tooltip = { annex_country = { target = event_target:return_country } }
			country_event = united_kingdom_events.133
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.132 option united_kingdom_events.132.b"
		name = united_kingdom_events.132.b #Refuse
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				tag = NIR
			}
			modifier = {
				factor = 0.5
				alliance_strength_ratio < 1.0
			}
			modifier = {
				factor = 0.5
				NOT = { tag = event_target:return_country }
				has_war = yes
			}
			modifier = {
				factor = 0.5
				NOT = { tag = event_target:return_country }
				surrender_progress > 0.10
			}
		}
		FROM = {
			country_event = united_kingdom_events.134
		}
	}
}

# They Agreed
country_event = {
	id = united_kingdom_events.133
	title = united_kingdom_events.133.t
	desc = united_kingdom_events.133.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.133 option united_kingdom_events.133.a"
		name = united_kingdom_events.133.a
		annex_country = { target = event_target:return_country }
	}
}

# They Refused
country_event = {
	id = united_kingdom_events.134
	title = united_kingdom_events.134.t
	desc = united_kingdom_events.134.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.134 option united_kingdom_events.134.a"
		name = united_kingdom_events.134.a #Damn you!
		ai_chance = {
			base = 25
			modifier = {
				factor = 0.5
				alliance_strength_ratio > 2.0
			}
			modifier = {
				factor = 0.01
				FROM = { is_in_faction = no }
			}
		}
		add_opinion_modifier = { target = FROM modifier = KR_outraged }
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.134 option united_kingdom_events.134.b"
		name = united_kingdom_events.134.b #War it is
		trigger = {
			can_declare_war_on = event_target:return_country
		}
		ai_chance = {
			base = 75
			modifier = {
				factor = 0.5
				FROM = { tag = GER }
			}
			modifier = {
				factor = 0.5
				alliance_strength_ratio < 1.0
			}
		}
		declare_war_on = {
			target = event_target:return_country
			type = annex_everything
		}
	}
}

# Asking for return of British states
country_event = {
	id = united_kingdom_events.135
	title = united_kingdom_events.135.t
	desc = united_kingdom_events.135.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	trigger = {
		any_owned_state = {
			is_core_of = GBR
			is_great_britain = yes
			is_claim_or_core_of_ROOT = no
		}
		NOT = {
			has_war_with = FROM
			is_in_faction_with = FROM
			is_subject_of = FROM
		}
	}

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.135 option united_kingdom_events.135.a"
		name = united_kingdom_events.135.a #Agree
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		effect_tooltip = {
			every_owned_state = {
				limit = {
					is_core_of = GBR
					is_great_britain = yes
					is_claim_or_core_of_ROOT = no
				}
				transfer_state_to = FROM
			}
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_returned_land }
			country_event = united_kingdom_events.136
		}
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.135 option united_kingdom_events.135.b"
		name = united_kingdom_events.135.b #Refuse
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_war = yes
			}
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_outraged }
			country_event = united_kingdom_events.137
		}
	}
}

# They Agreed
country_event = {
	id = united_kingdom_events.136
	title = united_kingdom_events.136.t
	desc = united_kingdom_events.136.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.136 option united_kingdom_events.136.a"
		name = united_kingdom_events.136.a
		FROM = {
			every_owned_state = {
				limit = {
					is_core_of = GBR
					is_great_britain = yes
					is_claim_or_core_of_PREV = no
				}
				transfer_state_to = ROOT
			}
		}
	}
}

# They Refused
country_event = {
	id = united_kingdom_events.137
	title = united_kingdom_events.137.t
	desc = united_kingdom_events.137.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.137 option united_kingdom_events.137.a"
		name = united_kingdom_events.137.a #How disappointing
		ai_chance = { base = 10 }
		add_opinion_modifier = { target = FROM modifier = KR_outraged }
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.137 option united_kingdom_events.137.b"
		name = united_kingdom_events.137.b #They leave us with little choice
		trigger = {
			can_declare_war_on = FROM
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				FROM = { is_in_faction = no }
			}
		}
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
}

# Overlord informed of UK's demand
country_event = {
	id = united_kingdom_events.140
	title = united_kingdom_events.140.t
	desc = united_kingdom_events.140.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.140 option united_kingdom_events.140.a"
		name = united_kingdom_events.140.a #Tell them to agree
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				tag = GEX
			}
			modifier = {
				factor = 0.5
				is_in_faction_with = GBR
				CAN_is_commonwealth_tag = no
			}
			modifier = {
				factor = 4
				alliance_strength_ratio < 1.0
			}
		}
		FROM = { country_event = united_kingdom_events.142 }
	}
	option = {
		log = "[GetLogInfo]: event united_kingdom_events.140 option united_kingdom_events.140.b"
		name = united_kingdom_events.140.b #Tell them to refuse
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				NOT = { tag = GEX }
				is_in_faction_with = GBR
			}
			modifier = {
				factor = 4
				is_in_faction = yes
				NOT = { is_in_faction_with = GBR }
				NOT = { alliance_strength_ratio < 1.0 }
			}
		}
		FROM = { country_event = united_kingdom_events.141 }
	}
}

# Puppet told to refuse
country_event = {
	id = united_kingdom_events.141
	title = united_kingdom_events.141.t
	desc = united_kingdom_events.141.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.141 option united_kingdom_events.141.a"
		name = united_kingdom_events.141.a
		GBR = {
			if = {
				limit = { is_in_faction_with = ROOT }
				add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			}
			else = {
				add_opinion_modifier = { target = ROOT modifier = KR_outraged }
			}
			country_event = united_kingdom_events.123
		}
	}
}

# Puppet told to agree
country_event = {
	id = united_kingdom_events.142
	title = united_kingdom_events.142.t
	desc = united_kingdom_events.142.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.142 option united_kingdom_events.142.a"
		name = united_kingdom_events.142.a
		clr_country_flag = GBR_refused_colony_transfer
		effect_tooltip = {
			every_owned_state = {
				limit = {
					has_variable = ambition_area_@GBR
					is_british_colonial_claim = yes
				}
				transfer_state_to = GBR
			}
		}
		GBR = {
			if = {
				limit = { is_in_faction_with = ROOT }
				add_opinion_modifier = { target = ROOT modifier = KR_pleased }
			}
			else = {
				add_opinion_modifier = { target = ROOT modifier = KR_returned_land }
			}
			country_event = united_kingdom_events.122
		}
	}
}

# Ulster wants to join the Entente
country_event = {
	id = united_kingdom_events.143
	title = united_kingdom_events.143.t
	desc = united_kingdom_events.143.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event united_kingdom_events.143 option united_kingdom_events.143.a"
		name = united_kingdom_events.143.a #Of course!
		NIR = { get_current_government_type = yes }
		set_autonomy = {
			target = NIR
			autonomy_state = default_puppet
			freedom_level = 0.3
			end_wars = no
		}
		NIR = { restore_previous_government_type = yes }
	}
}

# Reclaim the Birthright
news_event = {
	id = united_kingdom_events.144
	immediate = { log = "[GetLogInfo]: event united_kingdom_events.144" }
	title = united_kingdom_events.144.t
	desc = united_kingdom_events.144.d
	picture = GFX_news_event_GBR_restoration

	major = yes

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		NOT = {
			tag = GBR
		}
	}

	option = {
		name = united_kingdom_events.144.a
	}
}

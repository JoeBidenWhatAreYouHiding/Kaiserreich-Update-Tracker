#############################
# Kurdistan					#
#############################
# Jeankedezeehond & Pietrus #
#############################

add_namespace = kurdistan_events

country_event = { # A Fragile Rebellion
	id = kurdistan_events.1
	immediate = {
		log = "KR_Event_Logging;Kurdistan REVOLTS AGAINST OTT"
	}
	title = kurdistan_events.1.t
	desc = kurdistan_events.1.d

	picture = GFX_OTT_Diyarabakir

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event kurdistan_events.1 option kurdistan_events.1.a"
		name = kurdistan_events.1.a
		hidden_effect = {
			news_event = { id = anatolian_kurdistan_events.4 days = 1 }
		}
	}
}

country_event = { # Revolt in Sulaymaniyah
	id = kurdistan_events.2
	immediate = {
		log = "KR_Event_Logging;Kurdistan REVOLTS AGAINST OTT"
	}
	title = kurdistan_events.2.t
	desc = kurdistan_events.2.d

	picture = GFX_OTT_Sulaymaniyah_Issue

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		check_variable = { 819.OTT_revolt_risk > 2 } #medium or above
	}

	immediate = {
		hidden_effect = {
			819 = {
				teleport_armies = {
					limit = { is_ally_with = ROOT }
					to_state = 349
				}
				set_state_owner_to = KUR
			}
			KUR = {
				set_province_controller = 6826
				transfer_technology_without_doctrines = yes
				division_template = {
					name = "Dabeşkirina Mizgeftê"
					division_names_group = OTT_INF_01
					is_locked = no
					regiments = {
						cavalry = { x = 0 y = 0 }
						cavalry = { x = 0 y = 1 }
						cavalry = { x = 0 y = 2 }
						cavalry = { x = 1 y = 0 }
					}
				}

				819 = {
					create_unit = {
						division = "name = \"Dabeşkirina Mizgeftê\" division_template = \"Dabeşkirina Mizgeftê\" start_experience_factor = 0.1"
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 6826
						owner = KUR
						count = 3
					}
				}

				set_cosmetic_tag = KUR_kingdom
				set_politics = {
					ruling_party = paternal_autocrat
					last_election = "1888.6.15"
					election_frequency = 48
					elections_allowed = no
				}
				set_popularities = {
					totalist = 0
					radical_socialist = 5
					syndicalist = 0
					social_democrat = 0
					social_liberal = 0
					market_liberal = 0
					social_conservative = 22
					authoritarian_democrat = 10
					paternal_autocrat = 63
					national_populist = 0
				}
				add_ideas = KUR_brother_behind_brother

				declare_war_on = {
					target = OTT
					type = annex_everything
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event kurdistan_events.2 option kurdistan_events.2.a"
		name = kurdistan_events.2.a
		hidden_effect = {
			news_event = levant_crisis_news.7
		}
	}
}

country_event = {	#Sheikh Mahmud Barzinji in talks with [PER.GetName]
	id = kurdistan_events.3
	title = kurdistan_events.3.t
	desc = kurdistan_events.3.d

	picture = GFX_OTT_Oil1

	trigger = {
		PER = {
			can_declare_war_on = OTT
		}
	}

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event kurdistan_events.3 option kurdistan_events.3.a"
		name = kurdistan_events.3.a
		add_political_power = -20
		hidden_effect = {
			country_event = { id = kurdistan_events.4 days = 30 }
			country_event = { id = kurdistan_events.5 days = 45 }
			country_event = { id = kurdistan_events.6 days = 60 }
			PER = {
				country_event = { id = kurdistan_events.7 days = 70 }
			}
			country_event = { id = kurdistan_events.8 days = 80 }
			PER = {
				country_event = { id = kurdistan_events.9 days = 90 }
			}
		}
	}
}

country_event = {	#Chaos amidst the Jaf
	id = kurdistan_events.4
	title = kurdistan_events.4.t
	desc = kurdistan_events.4.d

	picture = GFX_OTT_Sheikh_Sait

	trigger = {
		owns_state = 819
	}

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event kurdistan_events.4 option kurdistan_events.4.a"
		name = kurdistan_events.4.a
		819 = {
			ott_increase_revolt_risk = yes
		}
	}
}

country_event = {	#Rising dissent in Iraqi Kurdistan
	id = kurdistan_events.5
	title = kurdistan_events.5.t
	desc = kurdistan_events.5.d

	picture = GFX_OTT_Arabs_Angry

	trigger = {
		PER = {
			can_declare_war_on = OTT
		}
	}

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event kurdistan_events.5 option kurdistan_events.5.a"
		name = kurdistan_events.5.a
		819 = {
			ott_increase_revolt_risk = yes
		}
	}
}

country_event = {	#Sheikh Mahmud arrives in Sulaymanyiah
	id = kurdistan_events.6
	title = kurdistan_events.6.t
	desc = kurdistan_events.6.d

	picture = GFX_OTT_Rize2

	trigger = {
		PER = {
			can_declare_war_on = OTT
		}
	}

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event kurdistan_events.6 option kurdistan_events.6.a"
		name = kurdistan_events.6.a
		add_political_power = -20
		819 = {
			ott_increase_revolt_risk = yes
		}
	}
}

country_event = {	#Border Conflict in Kurdistan
	id = kurdistan_events.7
	title = kurdistan_events.7.t
	desc = kurdistan_events.7.d

	picture = GFX_OTT_Sheikh_Sait

	trigger = {
		PER = {
			can_declare_war_on = OTT
		}
	}

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event kurdistan_events.7 option kurdistan_events.7.a"
		name = kurdistan_events.7.a
		add_political_power = -20
		add_equipment_to_stockpile = {
			type = infantry_equipment_0
			amount = -500
		}
	}
}

country_event = {	#Iran denies any responsibility
	id = kurdistan_events.8
	title = kurdistan_events.8.t
	desc = kurdistan_events.8.d

	picture = GFX_OTT_Raid_Porte

	trigger = {
		PER = {
			can_declare_war_on = OTT
		}
	}

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event kurdistan_events.8 option kurdistan_events.8.a"
		name = kurdistan_events.8.a
		add_political_power = -10
		add_opinion_modifier = {
			target = PER
			modifier = OTT_per_issue
		}
		PER = {
			add_opinion_modifier = {
				target = OTT
				modifier = OTT_per_issue
			}
		}
	}
}

country_event = {	#Return of Simqi
	id = kurdistan_events.9
	title = kurdistan_events.9.t
	desc = kurdistan_events.9.d

	picture = GFX_OTT_Raid_Porte

	trigger = {
		PER = {
			can_declare_war_on = OTT
		}
	}

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event kurdistan_events.9 option kurdistan_events.9.a"
		name = kurdistan_events.9.a
		OTT = {
			country_event = { id = kurdistan_events.10 days = 2 }
		}
	}
	option = {
		log = "[GetLogInfo]: event kurdistan_events.9 option kurdistan_events.9.b"
		name = kurdistan_events.9.b
		add_stability = -0.10
	}
}

country_event = {	#Iran issues an ultimatum
	id = kurdistan_events.10
	title = kurdistan_events.10.t
	desc = kurdistan_events.10.d

	picture = GFX_OTT_Raid_Porte

	trigger = {
		PER = {
			can_declare_war_on = OTT
		}
		owns_state = 677
	}

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event kurdistan_events.10 option kurdistan_events.10.a"
		name = kurdistan_events.10.a
		PER = {
			declare_war_on = {
				target = OTT
				type = annex_everything
			}
			PER_puppet_KUR = yes
		}
	}
}


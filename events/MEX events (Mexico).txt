###########################
# Mexico Events
###########################

add_namespace = mexico_events
add_namespace = mexican_civil_war_events

### assassination attempt on Zapata's life ###
country_event = { # assassination attempt
	id = mexico_events.2
	title = mexico_events.2.t
	desc = mexico_events.2.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { # Zapata lives
		log = "[GetLogInfo]: event mexico_events.2 option mexico_events.2.a"
		name = mexico_events.2.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_MAXIMATO_TOTALIST }
					has_game_rule = { rule = MEX_path option = MEX_PATH_PATAUT }
					has_game_rule = { rule = MEX_path option = MEX_PATH_AUTDEM }
					has_game_rule = { rule = MEX_path option = MEX_PATH_NATPOP }
				}
			}
		}
		country_event = { id = mexico_events.4 days = 14 }
	}
	option = { # Zapata dies
		log = "[GetLogInfo]: event mexico_events.2 option mexico_events.2.b"
		name = mexico_events.2.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_TOTALIST }
					has_game_rule = { rule = MEX_path option = MEX_PATH_SYNDIE }
					has_game_rule = { rule = MEX_path option = MEX_PATH_RADSOC }
					has_game_rule = { rule = MEX_path option = MEX_PATH_SOCDEM }
				}
			}
		}
		country_event = { id = mexico_events.3 days = 1 }
	}
}
country_event = { # Zapata is dead!
	id = mexico_events.3
	title = mexico_events.3.t
	desc = mexico_events.3.d

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = mexico_events.5 days = 15 }
			country_event = { id = mexico_events.8 days = 4 }
			MEX_emiliano_zapata_salazar = { kill_character = yes }
		}
	}

	option = { # Calles seizes power
		log = "[GetLogInfo]: event mexico_events.3 option mexico_events.3.a"
		name = mexico_events.3.a
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_PATAUT }
					has_game_rule = { rule = MEX_path option = MEX_PATH_AUTDEM }
					has_game_rule = { rule = MEX_path option = MEX_PATH_NATPOP }
				}
			}
		}
		set_politics = {
			ruling_party = totalist
			elections_allowed = yes
		}
		complete_national_focus = MEX_establish_maximato
		hidden_effect = {
			news_event = mexico_events.137
		}
	}
	option = { # Right Wing Military seizes power
		log = "[GetLogInfo]: event mexico_events.3 option mexico_events.3.b"
		name = mexico_events.3.b
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				has_game_rule = { rule = MEX_path option = MEX_PATH_MAXIMATO_TOTALIST }
			}
		}
		MEX_remove_socialist_generals = yes
		show_unit_leaders_tooltip = MEX_pablo_gonzalez_garza
		show_unit_leaders_tooltip = MEX_manuel_perez_trevino
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		complete_national_focus = MEX_military_coup
		hidden_effect = {
			country_event = { id = mexican_civil_war_events.1 days = 2 }
			country_event = { id = mexico_events.63 days = 120 random_days = 90 }
			country_event = { id = mexico_events.84 days = 150 random_days = 150 }
			news_event = mexico_events.138
		}
	}
	option = { # Coalition Government saves democracy
		log = "[GetLogInfo]: event mexico_events.3 option mexico_events.3.c"
		name = mexico_events.3.c
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_MAXIMATO_TOTALIST }
					has_game_rule = { rule = MEX_path option = MEX_PATH_PATAUT }
					has_game_rule = { rule = MEX_path option = MEX_PATH_AUTDEM }
					has_game_rule = { rule = MEX_path option = MEX_PATH_NATPOP }
				}
			}
		}
		country_event = { id = mexico_events.4 days = 7 }
		promote_character = MEX_francisco_pancho_villa
		hidden_effect = {
			news_event = mexico_events.139
		}
	}
}
country_event = { # Snap Elections
	id = mexico_events.4
	title = mexico_events.4.t
	desc = { # The Campesino defeated the reactionary government
		text = mexico_events.4.d.campesino_war
		trigger = { has_country_flag = MEX_campesino_war_lost }
	}
	desc = { # Zapata is alive
		text = mexico_events.4.d.zapata_alive
		trigger = { has_character = MEX_emiliano_zapata_salazar }
	}
	desc = { # Zapata is dead
		text = mexico_events.4.d.zapata_dead
		trigger = { NOT = { has_character = MEX_emiliano_zapata_salazar } }
	}
	picture = GFX_report_event_election_vote

	trigger = {
		has_socialist_government = yes
		date < 1942.1.1
	}

	is_triggered_only = yes
	fire_only_once = yes

	option = { # Calles
		log = "[GetLogInfo]: event mexico_events.4 option mexico_events.4.a"
		name = mexico_events.4.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_SYNDIE }
					has_game_rule = { rule = MEX_path option = MEX_PATH_RADSOC }
					has_game_rule = { rule = MEX_path option = MEX_PATH_SOCDEM }
				}
			}
		}
		complete_national_focus = MEX_establish_maximato
		add_popularity = {
			ideology = totalist
			popularity = 0.10
		}
		effect_tooltip = {
			set_politics = {
				ruling_party = totalist
				elections_allowed = yes
			}
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = totalist
						last_election = "[CURRENT_DATE]"
						election_frequency = 63
						elections_allowed = yes
					}
				}
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
		}
	}
	option = { # Toledano
		log = "[GetLogInfo]: event mexico_events.4 option mexico_events.4.b"
		name = mexico_events.4.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_TOTALIST }
					has_game_rule = { rule = MEX_path option = MEX_PATH_RADSOC }
					has_game_rule = { rule = MEX_path option = MEX_PATH_SOCDEM }
				}
			}
		}
		trigger = {
			NOT = { has_government = totalist }
		}
		complete_national_focus = MEX_revolutionary_democracy_survives
		clr_country_flag = MEX_campesino_war_lost
		add_popularity = {
			ideology = syndicalist
			popularity = 0.20
		}
		effect_tooltip = {
			set_politics = {
				ruling_party = syndicalist
				elections_allowed = yes
			}
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = syndicalist
						last_election = "[CURRENT_DATE]"
						election_frequency = 63
						elections_allowed = yes
					}
				}
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
		}
	}
	option = { # Villa
		log = "[GetLogInfo]: event mexico_events.4 option mexico_events.4.c"
		name = mexico_events.4.c
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_TOTALIST }
					has_game_rule = { rule = MEX_path option = MEX_PATH_SYNDIE }
					has_game_rule = { rule = MEX_path option = MEX_PATH_SOCDEM }
				}
			}
		}
		trigger = {
			NOT = { has_government = totalist }
		}
		complete_national_focus = MEX_revolutionary_democracy_survives
		clr_country_flag = MEX_campesino_war_lost
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.10
		}
		effect_tooltip = {
			set_politics = {
				ruling_party = radical_socialist
				elections_allowed = yes
			}
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = radical_socialist
						last_election = "[CURRENT_DATE]"
						election_frequency = 63
						elections_allowed = yes
					}
				}
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
		}
		promote_character = MEX_francisco_pancho_villa
	}
	option = { # Rubio
		log = "[GetLogInfo]: event mexico_events.4 option mexico_events.4.e"
		name = mexico_events.4.e
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_TOTALIST }
					has_game_rule = { rule = MEX_path option = MEX_PATH_SYNDIE }
					has_game_rule = { rule = MEX_path option = MEX_PATH_RADSOC }
				}
			}
		}
		trigger = {
			NOT = { has_government = totalist }
		}
		complete_national_focus = MEX_revolutionary_democracy_survives
		clr_country_flag = MEX_campesino_war_lost
		add_popularity = {
			ideology = social_democrat
			popularity = 0.20
		}
		effect_tooltip = {
			set_politics = {
				ruling_party = social_democrat
				elections_allowed = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		add_ideas = generic_neutral_foreign_policy
		hidden_effect = {
			country_event = { id = mexico_events.41 days = 200 random_days = 100 }
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = social_democrat
						last_election = "[CURRENT_DATE]"
						election_frequency = 63
						elections_allowed = yes
					}
				}
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
		}
	}
}
country_event = { # Finding the Assassin
	id = mexico_events.5
	title = mexico_events.5.t
	desc = mexico_events.5.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.5 option mexico_events.5.a"
		name = mexico_events.5.a
		hidden_effect = {
			country_event = { id = mexico_events.6 days = 5 }
		}
	}
}
country_event = { # Assassin cell 'found'
	id = mexico_events.6
	title = mexico_events.6.t
	desc = {
		text = mexico_events.6.d1
		trigger = {
			has_socialist_government = yes
		}
	}
	desc = {
		text = mexico_events.6.d2
		trigger = {
			has_socialist_government = no
		}
	}
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.6 option mexico_events.6.a"
		name = mexico_events.6.a
		add_political_power = 20
	}
}
country_event = { # Funeral for Zapata
	id = mexico_events.8
	title = mexico_events.8.t
	desc = mexico_events.8.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_socialist_government = yes
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.8 option mexico_events.8.a"
		name = mexico_events.8.a
		add_stability = 0.05
	}
}
### Calles Events 10 - 25 ###
country_event = { # Calles Laws
	id = mexico_events.10
	title = mexico_events.10.t
	desc = mexico_events.10.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.10 option mexico_events.10.a"
		name = mexico_events.10.a
		add_political_power = -50
		add_stability = -0.05
		hidden_effect = {
			if = {
				limit = { has_country_flag = MEX_campesino_war_lost }
				country_event = { id = mexican_civil_war_events.3 days = 15 random_days = 25 } #Protests Against Anti-Religious Laws
				clr_country_flag = MEX_campesino_war_lost
			}
			country_event = { id = mexican_civil_war_events.1 days = 40 random_days = 75 } #Cristero War
		}
	}
}

country_event = { # Elections of the President
	id = mexico_events.11
	title = mexico_events.11.t
	desc = mexico_events.11.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	trigger = {
		has_government = totalist
		has_completed_focus = MEX_establish_maximato
	}

	option = { # re-elect Calles
		log = "[GetLogInfo]: event mexico_events.11 option mexico_events.11.a"
		name = mexico_events.11.a
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		set_politics = {
			ruling_party = totalist
			elections_allowed = yes
		}
	}
}

country_event = { # Calles is dead!
	id = mexico_events.24
	title = mexico_events.24.t
	desc = {
		text = mexico_events.24.d_1
		trigger = {
			has_government = totalist
		}
	}
	desc = {
		text = mexico_events.24.d_2
		trigger = {
			NOT = { has_government = totalist }
		}
	}

	is_triggered_only = yes

	option = { # Cardenas takes over
		log = "[GetLogInfo]: event mexico_events.24 option mexico_events.24.a"
		name = mexico_events.24.a
		MEX_plutarco_elias_calles = { kill_character = yes }
		promote_character = MEX_lazaro_cardenas_del_rio
		hidden_effect = {
			country_event = { id = mexico_events.25 days = 4 }
		}
	}
	option = { # Emilio Portes Gil
		log = "[GetLogInfo]: event mexico_events.24 option mexico_events.24.b"
		name = mexico_events.24.b
		MEX_plutarco_elias_calles = { kill_character = yes }
		promote_character = MEX_emilio_candido_portes_gil
	}
	option = { # Abelardo L. Rodríguez
		log = "[GetLogInfo]: event mexico_events.24 option mexico_events.24.c"
		name = mexico_events.24.c
		trigger = {
			has_character = MEX_abelardo_rodriguez_lujan
		}
		MEX_plutarco_elias_calles = { kill_character = yes }
		promote_character = MEX_abelardo_rodriguez_lujan
	}
}

country_event = { # Cardenas and the Maximato
	id = mexico_events.25
	title = mexico_events.25.t
	desc = mexico_events.25.d

	trigger = {
		has_country_leader = { character = MEX_lazaro_cardenas_del_rio }
	}

	is_triggered_only = yes

	option = { # Cardenas supports the Maximato
		log = "[GetLogInfo]: event mexico_events.25 option mexico_events.25.a"
		name = mexico_events.25.a
		ai_chance = { base = 30 }
		add_stability = 0.1
	}

	option = { # Cardenas turns against the Maximato
		log = "[GetLogInfo]: event mexico_events.25 option mexico_events.25.b"
		name = mexico_events.25.b
		ai_chance = { base = 70 }
		add_political_power = 100
		add_stability = -0.05
		remove_country_leader_role = {
			character = MEX_lazaro_cardenas_del_rio
			ideology = totalist_subtype
		}
		promote_character = MEX_emilio_candido_portes_gil
		add_country_leader_role = {
			character = MEX_lazaro_cardenas_del_rio
			country_leader = {
				desc = MEX_lazaro_cardenas_del_rio_leader_desc
				ideology = social_democrat_subtype
			}
			promote_leader = yes
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
		if = {
			limit = {
				is_subject = no
				is_in_faction = yes
			}
			leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes
			if = {
				limit = {
					NOT = {
						any_enemy_country = {
							OR = {
								has_war_with_wargoal_against = ROOT
								ROOT = { has_war_with_wargoal_against = PREV }
							}
						}
					}
				}
				custom_effect_tooltip = tooltip_white_line
				add_ideas = generic_neutral_foreign_policy
			}
		}
		MEX_remove_calles = yes
		complete_national_focus = MEX_revolutionary_democracy_survives
		complete_national_focus = MEX_partido_laborista_mexicano
		hidden_effect = {
			country_event = { id = mexico_events.41 days = 200 random_days = 100 }
		}
	}
}
### Democracy Events 26 - 41 ###
country_event = { # Elections of 1941
	id = mexico_events.26
	title = mexico_events.26.t
	desc = mexico_events.26.d

	picture = GFX_report_event_election_vote

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		date > 1938.1.1
		date < 1942.1.1
		OR = {
			has_government = radical_socialist
			has_government = syndicalist
			has_elected_government = yes
		}
	}

	option = { # Syndicalist
		log = "[GetLogInfo]: event mexico_events.26 option mexico_events.26.a"
		name = mexico_events.26.a
		trigger = {
			OR = {
				is_subject = no
				overlord = { has_socialist_government = yes }
			}
			OR = {
				is_in_faction = no
				faction_leader = { has_socialist_government = yes }
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_RADSOC }
					has_game_rule = { rule = MEX_path option = MEX_PATH_SOCDEM }
				}
			}
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.10
		}
		effect_tooltip = {
			set_politics = {
				ruling_party = syndicalist
				elections_allowed = yes
			}
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = syndicalist
						last_election = "[CURRENT_DATE]"
						election_frequency = 60
						elections_allowed = yes
					}
				}
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
		}
		promote_character = MEX_fidel_velazquez_sanchez
		if = {
			limit = { has_idea = generic_neutral_foreign_policy }
			custom_effect_tooltip = tooltip_white_line
			remove_ideas = generic_neutral_foreign_policy
		}
	}
	option = { # Radical Socialist
		log = "[GetLogInfo]: event mexico_events.26 option mexico_events.26.b"
		name = mexico_events.26.b
		trigger = {
			OR = {
				is_subject = no
				overlord = { has_socialist_government = yes }
			}
			OR = {
				is_in_faction = no
				faction_leader = { has_socialist_government = yes }
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_SYNDIE }
					has_game_rule = { rule = MEX_path option = MEX_PATH_SOCDEM }
				}
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.10
		}
		effect_tooltip = {
			set_politics = {
				ruling_party = radical_socialist
				elections_allowed = yes
			}
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = radical_socialist
						last_election = "[CURRENT_DATE]"
						election_frequency = 60
						elections_allowed = yes
					}
				}
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
		}
		promote_character = MEX_antonio_irineo_vilarreal_gonzalez
		if = {
			limit = { has_idea = generic_neutral_foreign_policy }
			custom_effect_tooltip = tooltip_white_line
			remove_ideas = generic_neutral_foreign_policy
		}
	}
	option = { # Social Democrat
		log = "[GetLogInfo]: event mexico_events.26 option mexico_events.26.c"
		name = mexico_events.26.c
		trigger = {
			OR = {
				is_subject = no
				overlord = { has_socialist_government = no }
			}
			OR = {
				is_in_faction = no
				faction_leader = { has_socialist_government = no }
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_SYNDIE }
					has_game_rule = { rule = MEX_path option = MEX_PATH_RADSOC }
				}
			}
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.10
		}
		hidden_effect = {
			country_event = { id = mexico_events.41 days = 200 random_days = 100 }
		}
		effect_tooltip = {
			set_politics = {
				ruling_party = social_democrat
				elections_allowed = yes
			}
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = social_democrat
						last_election = "[CURRENT_DATE]"
						election_frequency = 60
						elections_allowed = yes
					}
				}
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
		}
		promote_character = MEX_manuel_avila_camacho
		if = {
			limit = { NOT = { has_idea = generic_neutral_foreign_policy } }
			custom_effect_tooltip = tooltip_white_line
			add_ideas = generic_neutral_foreign_policy
		}
	}
}
country_event = { # Elections of 1946
	id = mexico_events.27
	title = mexico_events.26.t
	desc = mexico_events.26.d

	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	trigger = {
		date > 1943.1.1
		OR = {
			has_government = radical_socialist
			has_government = syndicalist
			has_elected_government = yes
		}
	}

	option = { # Syndicalist
		log = "[GetLogInfo]: event mexico_events.27 option mexico_events.26.a"
		name = mexico_events.26.a
		trigger = {
			OR = {
				is_subject = no
				overlord = { has_socialist_government = yes }
			}
			OR = {
				is_in_faction = no
				faction_leader = { has_socialist_government = yes }
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_RADSOC }
					has_game_rule = { rule = MEX_path option = MEX_PATH_SOCDEM }
				}
			}
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = syndicalist
			elections_allowed = yes
		}
		promote_character = MEX_rosendo_salazar_alamo
		if = {
			limit = { has_idea = generic_neutral_foreign_policy }
			custom_effect_tooltip = tooltip_white_line
			remove_ideas = generic_neutral_foreign_policy
		}
	}
	option = { # Radical Socialist
		log = "[GetLogInfo]: event mexico_events.27 option mexico_events.26.b"
		name = mexico_events.26.b
		trigger = {
			OR = {
				is_subject = no
				overlord = { has_socialist_government = yes }
			}
			OR = {
				is_in_faction = no
				faction_leader = { has_socialist_government = yes }
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_SYNDIE }
					has_game_rule = { rule = MEX_path option = MEX_PATH_SOCDEM }
				}
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = yes
		}
		promote_character = MEX_ruben_jaramillo_menez
		if = {
			limit = { has_idea = generic_neutral_foreign_policy }
			custom_effect_tooltip = tooltip_white_line
			remove_ideas = generic_neutral_foreign_policy
		}
	}
	option = { # Social Democrat
		log = "[GetLogInfo]: event mexico_events.27 option mexico_events.26.c"
		name = mexico_events.26.c
		trigger = {
			OR = {
				is_subject = no
				overlord = { has_socialist_government = no }
			}
			OR = {
				is_in_faction = no
				faction_leader = { has_socialist_government = no }
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_SYNDIE }
					has_game_rule = { rule = MEX_path option = MEX_PATH_RADSOC }
				}
			}
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.10
		}
		hidden_effect = {
			country_event = { id = mexico_events.41 days = 200 random_days = 100 }
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
		promote_character = MEX_miguel_aleman_valdes
		if = {
			limit = { NOT = { has_idea = generic_neutral_foreign_policy } }
			custom_effect_tooltip = tooltip_white_line
			add_ideas = generic_neutral_foreign_policy
		}
	}
}
country_event = { # Academy of the Mayan Language founded
	id = mexico_events.28
	title = mexico_events.28.t
	desc = mexico_events.28.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.28 option mexico_events.28.a"
		name = mexico_events.28.a
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
}
country_event = { # Mexican Muralism
	id = mexico_events.29
	title = mexico_events.29.t
	desc = mexico_events.29.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.29 option mexico_events.29.a"
		name = mexico_events.29.a
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
}
country_event = { # Popular Graphic Workshop
	id = mexico_events.30
	title = mexico_events.30.t
	desc = mexico_events.30.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.30 option mexico_events.30.a"
		name = mexico_events.30.a
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
}
country_event = { # Monument to the Revolution
	id = mexico_events.31
	title = mexico_events.31.t
	desc = mexico_events.31.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.31 option mexico_events.31.a"
		name = mexico_events.31.a
		add_political_power = 50
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
}
country_event = { # National Parks
	id = mexico_events.32
	title = mexico_events.32.t
	desc = mexico_events.32.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.32 option mexico_events.32.a"
		name = mexico_events.32.a
		add_stability = 0.01
	}
}
country_event = { # Regeneración
	id = mexico_events.33
	title = mexico_events.33.t
	desc = mexico_events.33.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.33 option mexico_events.33.a"
		name = mexico_events.33.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
	}
}
country_event = { # Frente Unico Pro Derechos de la Mujer
	id = mexico_events.34
	title = mexico_events.34.t
	desc = mexico_events.34.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.34 option mexico_events.34.a"
		name = mexico_events.34.a
		add_political_power = 15
	}
}
country_event = { # Women's Suffrage
	id = mexico_events.35
	title = mexico_events.35.t
	desc = mexico_events.35.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.35 option mexico_events.35.a"
		name = mexico_events.35.a
		add_political_power = -30
		add_stability = 0.03
	}
	option = {
		log = "[GetLogInfo]: event mexico_events.35 option mexico_events.35.b"
		name = mexico_events.35.b
		add_political_power = 30
		add_stability = -0.03
	}
}
country_event = { # Mexican Anarchist Federation
	id = mexico_events.36
	title = mexico_events.36.t
	desc = mexico_events.36.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.36 option mexico_events.36.a"
		name = mexico_events.36.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
	}
}
country_event = { # The Assault on the Lands
	id = mexico_events.40
	title = mexico_events.40.t
	desc = mexico_events.40.d

	trigger = {
		has_socialist_government = yes
	}

	is_triggered_only = yes

	option = { #
		log = "[GetLogInfo]: event mexico_events.40 option mexico_events.40.a"
		name = mexico_events.40.a
		add_political_power = 5
	}
}
country_event = { # Dealing with Business Cartels
	id = mexico_events.41
	title = mexico_events.41.t
	desc = mexico_events.41.d

	trigger = {
		has_government = social_democrat
	}

	is_triggered_only = yes

	option = { #
		log = "[GetLogInfo]: event mexico_events.41 option mexico_events.41.a"
		name = mexico_events.41.a
		add_political_power = 5
	}
}
### Sinarquista events ###
country_event = { # The Sinarquista offer
	id = mexico_events.43
	title = mexico_events.43.t
	desc = mexico_events.43.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	trigger = {
		has_idea = MEX_civil_war_idea
	}

	option = { # accept offer
		log = "[GetLogInfo]: event mexico_events.43 option mexico_events.43.a"
		name = mexico_events.43.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = MEX_path option = MEX_PATH_PATAUT }
					has_game_rule = { rule = MEX_path option = MEX_PATH_AUTDEM }
				}
			}
		}
		set_country_flag = MEX_junta_goldshirt_alliance
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		hidden_effect = {
			country_event = { id = mexico_events.44 days = 5 }
		}
	}
	option = { # reject offer
		log = "[GetLogInfo]: event mexico_events.43 option mexico_events.43.b"
		name = mexico_events.43.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = MEX_path option = MEX_PATH_NATPOP }
			}
		}
		add_popularity = {
			ideology = national_populist
			popularity = -0.05
		}
	}
}
country_event = { # Sinarquista support
	id = mexico_events.44
	title = mexico_events.44.t
	desc = mexico_events.44.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_idea = MEX_civil_war_idea
		has_country_flag = MEX_junta_goldshirt_alliance
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.44 option mexico_events.44.a"
		name = mexico_events.44.a
		set_temp_variable = { MEX_rebel_strength_change = 5 }
		MEX_decrease_rebel_power = yes
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		hidden_effect = {
			country_event = { id = mexico_events.45 days = 40 random_days = 10 }
		}
	}
}
country_event = { # Sinarquista Coup
	id = mexico_events.45
	title = mexico_events.45.t
	desc = mexico_events.45.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	trigger = {
		has_country_flag = MEX_junta_goldshirt_alliance
		has_authdem_or_pataut_government = yes
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.45 option mexico_events.45.a"
		name = mexico_events.45.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
		}

		#Remove all PatAut ideas, decisions and flags
		hidden_effect = { MEX_remove_dictatorship = yes }
		clear_all_relations = yes

		hidden_effect = {
			country_event = { id = mexico_events.100 days = 60 random_days = 300 }
			if = {
				limit = { has_completed_focus = MEX_military_junta }
				uncomplete_national_focus = {
					focus = MEX_military_junta
					uncomplete_children = yes
				}
			}
		}
	}
}
country_event = { # Restore Democracy?
	id = mexico_events.46
	title = mexico_events.46.t
	desc = mexico_events.46.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_government = paternal_autocrat
		is_subject = no
	}

	fire_only_once = yes
	is_triggered_only = yes

	option = { # Restore Democracy
		log = "[GetLogInfo]: event mexico_events.46 option mexico_events.46.a"
		name = mexico_events.46.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = MEX_path option = MEX_PATH_PATAUT }
			}
		}
		set_country_flag = MEX_democracy_restored_flag
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.3
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			election_frequency = 60
			elections_allowed = yes
		}
	}
	option = { # Junta Holds on
		log = "[GetLogInfo]: event mexico_events.46 option mexico_events.46.b"
		name = mexico_events.46.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = MEX_path option = MEX_PATH_AUTDEM }
			}
		}
		set_country_flag = MEX_junta_holds_on_flag
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.3
		}
	}
}

### Military Junta 61 - 80 ###
country_event = { # New Constitution
	id = mexico_events.61
	title = mexico_events.61.t
	desc = mexico_events.61.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.61 option mexico_events.61.a"
		name = mexico_events.61.a
		add_political_power = 50
		swap_ideas = {
			remove_idea = MEX_restored_mexican_democracy_idea1
			add_idea = MEX_restored_mexican_democracy_idea2
		}
	}
}
country_event = { # Revolution's Legacy
	id = mexico_events.62
	title = mexico_events.62.t
	desc = mexico_events.62.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Condemn just the legacy of Zapata
		log = "[GetLogInfo]: event mexico_events.62 option mexico_events.62.a"
		name = mexico_events.62.a
		ai_chance = { base = 80 }
		add_political_power = -25
		swap_ideas = {
			remove_idea = MEX_restored_mexican_democracy_idea2
			add_idea = MEX_restored_mexican_democracy_idea3a
		}
	}
	option = { # Condemn the whole revolution
		log = "[GetLogInfo]: event mexico_events.62 option mexico_events.62.b"
		name = mexico_events.62.b
		ai_chance = { base = 20 }
		add_political_power = -50
		swap_ideas = {
			remove_idea = MEX_restored_mexican_democracy_idea2
			add_idea = MEX_restored_mexican_democracy_idea3b
		}
	}
}
country_event = { # anti-Zapata laws
	id = mexico_events.63
	title = mexico_events.63.t
	desc = mexico_events.63.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		has_authoritarian_government = yes
		is_subject = no
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.63 option mexico_events.63.a"
		name = mexico_events.63.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				has_game_rule = { rule = MEX_revolt option = MEX_REVOLT_NO }
			}
		}
		hidden_effect = {
			country_event = { id = mexico_events.64 days = 60 random_days = 60 }
		}
	}
	option = {
		log = "[GetLogInfo]: event mexico_events.63 option mexico_events.63.b"
		name = mexico_events.63.b
		trigger = {
			NOT = { has_government = national_populist }
		}
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				has_game_rule = { rule = MEX_revolt option = MEX_REVOLT_YES }
			}
		}
		add_political_power = -100
	}
}
country_event = { # The Yucatan revolt
	id = mexico_events.64
	title = mexico_events.64.t
	desc = mexico_events.64.d

	is_triggered_only = yes

	trigger = {
		474 = { is_owned_and_controlled_by = ROOT }
		has_authoritarian_government = yes
		is_subject = no
	}

	option = { # Bring order to the Yucatan
		log = "[GetLogInfo]: event mexico_events.64 option mexico_events.64.a"
		name = mexico_events.64.a
		add_political_power = -100
		MEX_spawn_yucatan_revolt = yes
	}

	option = { # Fight for our Freedom(play as Yucatan)
		log = "[GetLogInfo]: event mexico_events.64 option mexico_events.64.b"
		name = mexico_events.64.b
		ai_chance = { base = 0 }
		MEX_spawn_yucatan_revolt = yes
		YUC = { change_tag_from = ROOT }
	}
}
country_event = { # Failed to take Yucatan from decision
	id = mexico_events.65
	title = mexico_events.65.t
	desc = mexico_events.65.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.65 option mexico_events.65.a"
		name = mexico_events.65.a
		add_stability = -0.15
		add_war_support = -0.10
		add_political_power = -150
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
	}
}
country_event = { # Yucatan manages to survive
	id = mexico_events.66
	title = mexico_events.66.t
	desc = mexico_events.66.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		is_subject = no
	}

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.66 option mexico_events.66.a"
		name = mexico_events.66.a
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
		add_political_power = 50
		YUC_clear_revolt_ideas = yes
	}
}
country_event = { # the Yucatan is pacified
	id = mexico_events.67
	title = mexico_events.67.t
	desc = mexico_events.67.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	immediate = {
		hidden_effect = { YUC_clear_revolt_ideas = yes }
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.67 option mexico_events.67.a"
		name = mexico_events.67.a
		add_stability = 0.05
		add_war_support = 0.05
		add_political_power = 150
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
}
country_event = { # Rejoin Mexico
	id = mexico_events.68
	title = mexico_events.68.t
	desc = mexico_events.68.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Rejoin mexico
		log = "[GetLogInfo]: event mexico_events.68 option mexico_events.68.a"
		name = mexico_events.68.a
		MEX = {
			white_peace_with_ROOT = yes
			country_event = mexico_events.69
		}
		hidden_effect = { YUC_clear_revolt_ideas = yes }
	}
}
country_event = { # the Yucatan has laid down their arms
	id = mexico_events.69
	title = mexico_events.69.t
	desc = mexico_events.69.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.69 option mexico_events.69.a"
		name = mexico_events.69.a
		MEX = {
			annex_country = {
				target = YUC
			}
		}
		add_political_power = 50
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
		hidden_effect = {
			474 = { #Yucatan
				remove_core_of = YUC
			}
		}
	}
}
### Military Democracy 81 - 99 ###
country_event = { # AuthDem Elections
	id = mexico_events.81
	title = mexico_events.81.t
	desc = mexico_events.81.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	trigger = {
		has_government = authoritarian_democrat
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.81 option mexico_events.81.a"
		name = mexico_events.81.a
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.10
		}
	}
}

country_event = { # Palacio Legislativo Federal
	id = mexico_events.84
	title = mexico_events.84.t
	desc = mexico_events.84.d

	is_triggered_only = yes

	trigger = {
		has_authoritarian_government = yes
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.84 option mexico_events.84.a"
		name = mexico_events.84.a
		add_political_power = 5
	}
}
### National Populist 100 - 124 ###
country_event = { # Patria vs La Raza
	id = mexico_events.100
	title = mexico_events.100.t
	desc = mexico_events.100.d

	is_triggered_only = yes

	trigger = {
		has_government = national_populist
	}

	option = { # We must appease these dissidents
		log = "[GetLogInfo]: event mexico_events.100 option mexico_events.100.a"
		name = mexico_events.100.a
		add_political_power = -10
		add_popularity = {
			ideology = national_populist
			popularity = 0.03
		}
	}
	option = { # They have no choice, ignore their demands
		log = "[GetLogInfo]: event mexico_events.100 option mexico_events.100.b"
		name = mexico_events.100.b
		add_popularity = {
			ideology = national_populist
			popularity = -0.03
		}
		add_political_power = 10
	}
}
country_event = { # Juventudes Sinarquistas
	id = mexico_events.106
	title = mexico_events.106.t
	desc = mexico_events.106.d

	is_triggered_only = yes

	trigger = {
		has_government = national_populist
	}

	option = { # The Youth are the future
		log = "[GetLogInfo]: event mexico_events.106 option mexico_events.106.a"
		name = mexico_events.106.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.03
		}
	}
}
country_event = { # Reconquista Complete
	id = mexico_events.108
	title = mexico_events.108.t
	desc = mexico_events.108.d

	is_triggered_only = yes

	option = { # The humiliation and devastion of 1848 forever overturned!
		log = "[GetLogInfo]: event mexico_events.108 option mexico_events.108.a"
		name = mexico_events.108.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.2
		}
		add_ideas = MEX_reconquista_complete_idea
		every_owned_state = {
			limit = {
				OR = {
					region = 118 #Sierra Nevada
					region = 119 #Southern Rockies
					region = 229 #Gulf Coast
				}
			}
			add_resistance = 50
			add_compliance = -35
		}
	}
}

### Flavor Events 125 - 199 ###
country_event = { # Here's the Point is released
	id = mexico_events.125
	title = mexico_events.125.t
	desc = mexico_events.125.d

	is_triggered_only = yes

	option = { #
		log = "[GetLogInfo]: event mexico_events.125 option mexico_events.125.a"
		name = mexico_events.125.a
		add_political_power = 5
	}
}
country_event = { # María Candelaria is released
	id = mexico_events.126
	title = mexico_events.126.t
	desc = mexico_events.126.d

	is_triggered_only = yes

	trigger = {
		has_authoritarian_government = no
		FRA = {
			exists = yes
			has_war = no
		}
	}

	option = { #
		log = "[GetLogInfo]: event mexico_events.126 option mexico_events.126.a"
		name = mexico_events.126.a
		add_political_power = 5
	}
}
country_event = { # Wild Flower is released
	id = mexico_events.127
	title = mexico_events.127.t
	desc = mexico_events.127.d

	is_triggered_only = yes

	option = { #
		log = "[GetLogInfo]: event mexico_events.127 option mexico_events.127.a"
		name = mexico_events.127.a
	}
}
country_event = { # Mexican cup 1939
	id = mexico_events.128
	title = mexico_events.128.t
	desc = mexico_events.128.d

	is_triggered_only = yes

	option = { #
		log = "[GetLogInfo]: event mexico_events.128 option mexico_events.128.a"
		name = mexico_events.128.a
		hidden_effect = {
			random_list = {
				50 = {
					MEX = {
						country_event = { id = mexico_events.129 days = 2 }
					}
				}
				50 = {
					MEX = {
						country_event = { id = mexico_events.130 days = 2 }
					}
				}
			}
		}
	}
}
country_event = { # Asturias win
	id = mexico_events.129
	title = mexico_events.129.t
	desc = mexico_events.129.d

	is_triggered_only = yes

	option = { #
		log = "[GetLogInfo]: event mexico_events.129 option mexico_events.129.a"
		name = mexico_events.129.a
		add_political_power = 5
	}
}
country_event = { # Necaxa win
	id = mexico_events.130
	title = mexico_events.130.t
	desc = mexico_events.130.d

	is_triggered_only = yes

	option = { #
		log = "[GetLogInfo]: event mexico_events.130 option mexico_events.130.a"
		name = mexico_events.130.a
		add_political_power = 5
	}
}
country_event = { # El Santo enters the Ring
	id = mexico_events.131
	title = mexico_events.131.t
	desc = mexico_events.131.d

	is_triggered_only = yes

	option = { #
		log = "[GetLogInfo]: event mexico_events.131 option mexico_events.131.a"
		name = mexico_events.131.a
		add_political_power = 5
	}
}
country_event = { # 1937 Orizaba earthquake
	id = mexico_events.132
	title = mexico_events.132.t
	desc = mexico_events.132.d

	is_triggered_only = yes

	trigger = {
		owns_state = 477 #Veracruz
	}

	option = { #Reza por México
		log = "[GetLogInfo]: event mexico_events.132 option mexico_events.132.a"
		name = mexico_events.132.a
		477 = { #Veracruz
			random_list = {
				20 = {
					damage_building = {
						type = dockyard
						damage = 1
					}
				}
				20 = {
					damage_building = {
						type = industrial_complex
						damage = 1
					}
				}
				50 = {
					damage_building = {
						type = infrastructure
						damage = 2
					}
				}
				10 = {}
			}
		}
	}
}
country_event = { # 1940 El Centro earthquake
	id = mexico_events.133
	title = mexico_events.133.t
	desc = mexico_events.133.d

	is_triggered_only = yes

	trigger = {
		owns_state = 829 #Southern California
	}

	option = { #Oh the Humanity!
		log = "[GetLogInfo]: event mexico_events.133 option mexico_events.133.a"
		name = mexico_events.133.a
		829 = { #Southern California
			random_list = {
				20 = {
					damage_building = {
						type = industrial_complex
						damage = 1
					}
				}
				20 = {
					damage_building = {
						type = industrial_complex
						damage = 2
					}
				}
				50 = {
					damage_building = {
						type = infrastructure
						damage = 2
					}
				}
				10 = {}
			}
		}
	}
}
country_event = { # 1941 Colima earthquake
	id = mexico_events.134
	title = mexico_events.134.t
	desc = mexico_events.134.d

	is_triggered_only = yes

	trigger = {
		owns_state = 478 #Jalisco
	}

	option = { #Reza por México.
		log = "[GetLogInfo]: event mexico_events.134 option mexico_events.134.a"
		name = mexico_events.134.a
		478 = { #Jalisco
			random_list = {
				20 = {
					damage_building = {
						type = supply_node
						damage = 1
					}
				}
				20 = {
					damage_building = {
						type = industrial_complex
						damage = 1
					}
				}
				50 = {
					damage_building = {
						type = infrastructure
						damage = 1
					}
				}
				10 = {}
			}
		}
	}
}
country_event = { # Children of Morelia
	id = mexico_events.135
	title = mexico_events.135.t
	desc = mexico_events.135.d

	is_triggered_only = yes

	trigger = {
		NOT = { has_government = national_populist }
	}

	option = { #
		log = "[GetLogInfo]: event mexico_events.135 option mexico_events.135.a"
		name = mexico_events.135.a
		add_political_power = 5
	}
}
country_event = { # Bohemia Poblana
	id = mexico_events.136
	title = mexico_events.136.t
	desc = mexico_events.136.d

	is_triggered_only = yes

	option = { #
		log = "[GetLogInfo]: event mexico_events.136 option mexico_events.136.a"
		name = mexico_events.136.a
		add_political_power = 5
	}
}

news_event = { # MEX - Aftermath of Zapata's Assassination - Calles' clique seizes power
	id = mexico_events.137
	immediate = { log = "[GetLogInfo]: event mexico_events.137" }
	title = mexico_events.137.t
	desc = mexico_events.137.d
	picture = GFX_news_event_MEX_maximato

	is_triggered_only = yes
	fire_for_sender = no

	trigger = {
		wants_world_news = yes
	}

	major = yes
	show_major = {
		regional_north_america_news = yes
	}
	option = {
		name = mexico_events.137.a
		trigger = {
			NOT = {
				has_government = totalist
			}
		}
	}
	option = {
		name = mexico_events.137.b
		trigger = {
			has_government = totalist
		}
	}
}

news_event = { # MEX - Aftermath of Zapata's Assassination - Right Wing Military seizes power
	id = mexico_events.138
	immediate = { log = "[GetLogInfo]: event mexico_events.138" }
	title = mexico_events.138.t
	desc = mexico_events.138.d
	picture = GFX_news_event_MEX_military

	is_triggered_only = yes
	fire_for_sender = no

	trigger = {
		wants_world_news = yes
	}

	major = yes
	show_major = {
		regional_north_america_news = yes
	}
	option = {
		name = mexico_events.138.a
		trigger = {
			has_authoritarian_government = no
		}
	}
	option = {
		name = mexico_events.138.b
		trigger = {
			has_authoritarian_government = yes
		}
	}
}

news_event = { # MEX - Aftermath of Zapata's Assassination - Coalition Government saves democracy
	id = mexico_events.139
	immediate = { log = "[GetLogInfo]: event mexico_events.139" }
	title = mexico_events.139.t
	desc = mexico_events.139.d
	picture = GFX_news_event_MEX_zapata_death

	is_triggered_only = yes
	fire_for_sender = no

	trigger = {
		wants_world_news = yes
	}

	major = yes
	show_major = {
		regional_north_america_news = yes
	}
	option = {
		name = mexico_events.139.a
	}
}

### Foreign Policy ###
country_event = { # Mexico wishes to join the Internationale (fired from focus)
	id = mexico_events.200
	title = mexico_events.200.t
	desc = mexico_events.200.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.200 option mexico_events.200.a"
		name = mexico_events.200.a #Of course they may join!
		ai_chance = { base = 100 }
		add_to_faction = MEX
	}
	option = {
		log = "[GetLogInfo]: event mexico_events.200 option mexico_events.200.b"
		name = mexico_events.200.b #We have no need of them
		ai_chance = { base = 0 }
		MEX = {
			country_event = { id = mexico_events.201 days = 1 }
		}
	}
}
country_event = { # France refuses
	id = mexico_events.201
	title = mexico_events.201.t
	desc = mexico_events.201.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.201 option mexico_events.201.a"
		name = mexico_events.201.a
		add_political_power = -50
		add_opinion_modifier = {
			target = FROM
			modifier = KR_outraged
		}
	}
}
country_event = { # Mexico wishes to join the Entente (fired from focus)
	id = mexico_events.202
	title = mexico_events.202.t
	desc = mexico_events.202.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Of course they may join!
		log = "[GetLogInfo]: event mexico_events.202 option mexico_events.200.a"
		name = mexico_events.200.a
		add_to_faction = MEX
	}
	option = { # We have no need of them
		log = "[GetLogInfo]: event mexico_events.202 option mexico_events.200.b"
		name = mexico_events.200.b
		ai_chance = { base = 0 }
		MEX = {
			country_event = { id = mexico_events.201 days = 1 }
		}
	}
}
country_event = { # Guns sent in support Central America
	id = mexico_events.210
	title = mexico_events.210.t
	desc = mexico_events.210.d
	picture = GFX_report_event_generic_diplomacy2

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.210 option mexico_events.210.a"
		name = mexico_events.210.a
		add_opinion_modifier = {
			target = MEX
			modifier = KR_supported_us
		}
		effect_tooltip = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 500
				producer = MEX
			}
			add_equipment_to_stockpile = {
				type = support_equipment_1
				amount = 500
				producer = MEX
			}
		}
	}
}

country_event = { # Mexico Claims Central America
	id = mexico_events.212
	title = mexico_events.212.t
	desc = mexico_events.212.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.212 option mexico_events.212.a"
		name = mexico_events.212.a
		add_opinion_modifier = {
			target = MEX
			modifier = MEX_cen_claim
		}
	}
}

country_event = { # MEX-GER peace deal
	id = mexico_events.213
	title = mexico_events.213.t
	desc = mexico_events.213.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_war_with = event_target:central_america_attacker
		is_valid_peace_target = yes
		event_target:central_america_attacker = { is_valid_peace_target = yes }
		OR = {
			NOT = { country_exists = COS }
			NOT = { has_war_with = COS }
			COS = { has_capitulated = yes }
		}
		OR = {
			NOT = { country_exists = PAN }
			NOT = { has_war_with = PAN }
			PAN = { has_capitulated = yes }
		}
		NOT = {
			is_neighbor_of = event_target:central_america_attacker #is not invading FROM
			any_allied_country = {
				has_war_with = event_target:central_america_attacker
				is_neighbor_of = event_target:central_america_attacker #no allies are invading FROM
				has_capitulated = no
			}
		}
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.213 option mexico_events.213.a"
		name = mexico_events.213.a
		event_target:central_america_attacker = {
			country_event = { id = mexico_events.214 days = 1 }
		}
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.213 option mexico_events.213.b"
		name = mexico_events.213.b
		ai_chance = { base = 0 }
		add_stability = -0.1
		add_war_support = -0.1
	}
}

country_event = { # GER offers peace
	id = mexico_events.214
	title = mexico_events.214.t
	desc = mexico_events.214.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_war_with = FROM
		is_valid_peace_target = yes
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.214 option mexico_events.214.a"
		name = mexico_events.214.a
		if = {
			limit = { COS = { is_ally_with = FROM } }
			COS = {
				if = {
					limit = { is_subject = yes }
					overlord = {
						set_autonomy = {
							target = PREV
							autonomy_state = autonomy_free
						}
					}
				}
				if = {
					limit = { is_in_faction_with = FROM }
					leave_faction = yes
				}
			}
		}
		if = {
			limit = { PAN = { is_ally_with = FROM } }
			PAN = {
				if = {
					limit = { is_subject = yes }
					overlord = {
						set_autonomy = {
							target = PREV
							autonomy_state = autonomy_free
						}
					}
				}
				if = {
					limit = { is_in_faction_with = FROM }
					leave_faction = yes
				}
			}
		}
		FROM = {
			every_owned_state = {
				limit = {
					OR = {
						region = 34 #Central America
						is_core_of = PAN
						is_core_of = COS
					}
				}
				transfer_state_to = ROOT
			}
			white_peace_with_ROOT = yes
		}
	}

	option = {
		log = "[GetLogInfo]: event mexico_events.214 option mexico_events.214.b"
		name = mexico_events.214.b
		ai_chance = { base = 0 }
		add_stability = -0.1
		add_war_support = -0.1
		FROM = {
			country_event = { id = mexico_events.215 days = 1 }
		}
	}
}

country_event = { # MEX refuses peace
	id = mexico_events.215
	title = mexico_events.215.t
	desc = mexico_events.215.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_war_with = FROM
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.215 option mexico_events.215.a"
		name = mexico_events.215.a
		add_stability = 0.1
		add_war_support = 0.1
	}
}

country_event = { # MEX threatens CEN
	id = mexico_events.500
	title = mexico_events.500.t
	desc = mexico_events.500.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexico_events.500 option mexico_events.500.a"
		name = mexico_events.500.a
	}
}

### Cristero War & Campesino War events ###
country_event = { #Civil war begins
	id = mexican_civil_war_events.1
	title = mexican_civil_war_events.1.t
	desc = {
		text = mexican_civil_war_events.1.d.campesino
		trigger = { has_authoritarian_government = yes }
	}
	desc = {
		text = mexican_civil_war_events.1.d.cristero
		trigger = { has_government = totalist }
	}
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_any_authoritarian_government = yes
		is_subject = no
	}

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexican_civil_war_events.1 option mexican_civil_war_events.1.a"
		name = mexican_civil_war_events.1.a
		trigger = { has_authoritarian_government = yes }
		hidden_effect = {
			country_event = { id = mexico_events.43 days = 70 random_days = 10 } #The Sinarquista Offer
		}
	}

	option = {
		log = "[GetLogInfo]: event mexican_civil_war_events.1 option mexican_civil_war_events.1.b"
		name = mexican_civil_war_events.1.b
		trigger = { has_government = totalist }
	}

	after = {
		MEX_start_civil_war = yes
	}
}

country_event = { #Civil War Ends
	id = mexican_civil_war_events.2

	title = {
		text = mexican_civil_war_events.2.t.defeat
		trigger = {
			check_variable = { MEX_rebel_strength_var > 19 }
		}
	}
	title = {
		text = mexican_civil_war_events.2.t.victory
		trigger = {
			check_variable = { MEX_rebel_strength_var < 1 }
		}
	}

	desc = {
		text = mexican_civil_war_events.2.d.calles_defeat
		trigger = {
			check_variable = { MEX_rebel_strength_var > 19 }
			has_government = totalist
		}
	}
	desc = {
		text = mexican_civil_war_events.2.d.reactionary_defeat
		trigger = {
			check_variable = { MEX_rebel_strength_var > 19 }
			has_authoritarian_government = yes
		}
	}
	desc = {
		text = mexican_civil_war_events.2.d.calles_victory
		trigger = {
			check_variable = { MEX_rebel_strength_var < 1 }
			has_government = totalist
		}
	}
	desc = {
		text = mexican_civil_war_events.2.d.reactionary_victory
		trigger = {
			check_variable = { MEX_rebel_strength_var < 1 }
			has_authoritarian_government = yes
		}
	}
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes
	fire_only_once = yes

	option = { #¡Viva Cristo Rey! ¡Viva México! - Calles Defeat
		log = "[GetLogInfo]: event mexican_civil_war_events.2 option mexican_civil_war_events.2.a"
		name = mexican_civil_war_events.2.a
		trigger = {
			check_variable = { MEX_rebel_strength_var > 19 }
			has_government = totalist
		}
		set_country_flag = MEX_democracy_restored_flag
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
		}
		MEX_remove_socialist_generals = yes
		if = {
			limit = {
				is_in_faction = yes
				faction_leader = { has_socialist_government = yes }
			}
			leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes
		}
		hidden_effect = {
			MEX_remove_calles = yes
			country_event = { id = mexico_events.63 days = 120 random_days = 90 }
		}
	}

	option = { #The Revolution has been Preserved - Reactionary Defeat
		log = "[GetLogInfo]: event mexican_civil_war_events.2 option mexican_civil_war_events.2.b"
		name = mexican_civil_war_events.2.b
		trigger = {
			check_variable = { MEX_rebel_strength_var > 19 }
			has_authoritarian_government = yes
		}
		set_country_flag = MEX_campesino_war_lost
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.1
		}
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = yes
		}
		country_event = mexico_events.4 #Snap Elections
		MEX_add_socialist_generals = yes
		#Remove all reactionary idea, decisions and flags
		hidden_effect = {
			MEX_puppet_teardown_decisions = yes
			MEX_remove_dictatorship = yes
			MEX_clear_synarquist_ideas = yes
			#Grant Socialist decisions that should be activated at the start of the ACW
			if = {
				limit = { has_global_flag = USA_civil_war_begun_flag }
				activate_targeted_decision = { target = WCA decision = MEX_intervene_WCA }
				activate_targeted_decision = { target = GUA decision = MEX_support_socialists }
				activate_targeted_decision = { target = ELS decision = MEX_support_socialists }
				activate_targeted_decision = { target = HON decision = MEX_support_socialists }
				activate_targeted_decision = { target = NIC decision = MEX_support_socialists }
				activate_targeted_decision = { target = CEN decision = MEX_fight_reactionary_central_america }
			}
		}
		uncomplete_national_focus = {
			focus = MEX_military_coup
			uncomplete_children = yes
		}
		if = {
			limit = {
				is_in_faction = yes
				faction_leader = { has_socialist_government = no }
			}
			leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes
		}
	}

	option = { #Order has been restored - Victory
		log = "[GetLogInfo]: event mexican_civil_war_events.2 option mexican_civil_war_events.2.c"
		name = mexican_civil_war_events.2.c
		trigger = {
			check_variable = { MEX_rebel_strength_var < 1 }
		}
		if = {
			limit = { has_government = paternal_autocrat }
			hidden_effect = {
				country_event = { id = mexico_events.46 days = 7 }
			}
		}
	}

	after = {
		MEX_end_civil_war = yes
	}
}

country_event = { #Protests Against Anti-Religious Laws
	id = mexican_civil_war_events.3
	title = mexican_civil_war_events.3.t
	desc = mexican_civil_war_events.3.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { #We must move forward.
		log = "[GetLogInfo]: event mexican_civil_war_events.3 option mexican_civil_war_events.3.a"
		name = mexican_civil_war_events.3.a

		add_stability = -0.05
		random_owned_controlled_state = {
			prioritize = { 277 }
			damage_building = {
				type = industrial_complex
				damage = 1.5
			}
			damage_building = {
				type = infrastructure
				damage = 1
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = infrastructure level > 0 }
			}
			damage_building = {
				type = infrastructure
				damage = 1
			}
		}
	}
}

country_event = { # Civil War - clashes throughout the country
	id = mexican_civil_war_events.10
	title = mexican_civil_war_events.10.t
	desc = mexican_civil_war_events.10.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexican_civil_war_events.10 option mexican_civil_war_events.10.a"
		name = mexican_civil_war_events.10.a
		trigger = { has_government = totalist }
	}

	option = {
		log = "[GetLogInfo]: event mexican_civil_war_events.10 option mexican_civil_war_events.10.b"
		name = mexican_civil_war_events.10.b
		trigger = { has_authoritarian_government = yes }
	}

	after = {
		add_manpower = -100
		add_stability = -0.01
	}
}

country_event = { # Civil War - Factory Sabotaged
	id = mexican_civil_war_events.11
	title = mexican_civil_war_events.11.t
	desc = mexican_civil_war_events.11.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexican_civil_war_events.11 option mexican_civil_war_events.11.a"
		name = mexican_civil_war_events.11.a
		add_stability = -0.01
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = industrial_complex level > 0 }
			}
			damage_building = {
				type = industrial_complex
				damage = 1.0
			}
		}
	}
}

country_event = { # Civil War - Arms Factory Sabotaged
	id = mexican_civil_war_events.12
	title = mexican_civil_war_events.12.t
	desc = mexican_civil_war_events.12.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexican_civil_war_events.12 option mexican_civil_war_events.11.a"
		name = mexican_civil_war_events.11.a
		add_stability = -0.01
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = arms_factory level > 0 }
			}
			damage_building = {
				type = arms_factory
				damage = 1.0
			}
		}
	}
}

country_event = { # Civil War - Railways attacked
	id = mexican_civil_war_events.13
	title = mexican_civil_war_events.13.t
	desc = mexican_civil_war_events.13.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event mexican_civil_war_events.13 option mexican_civil_war_events.11.a"
		name = mexican_civil_war_events.11.a
		add_stability = -0.01
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = infrastructure level > 1 }
			}
			damage_building = {
				type = infrastructure
				damage = 2.0
			}
		}
	}
}

country_event = { # Cristero War - Skirmishes
	id = mexican_civil_war_events.14
	title = mexican_civil_war_events.14.t
	desc = mexican_civil_war_events.14.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Government Victory
		log = "[GetLogInfo]: event mexican_civil_war_events.14 option mexican_civil_war_events.14.a"
		name = mexican_civil_war_events.14.a
		set_temp_variable = { MEX_rebel_strength_change = 1 }
		MEX_decrease_rebel_power = yes
		add_stability = -0.01
	}
	option = { # Rebel Victory
		log = "[GetLogInfo]: event mexican_civil_war_events.14 option mexican_civil_war_events.14.b"
		name = mexican_civil_war_events.14.b
		ai_chance = { base = 0 }
		set_temp_variable = { MEX_rebel_strength_change = 1 }
		MEX_increase_rebel_power = yes
		add_stability = -0.05
	}
	after = {
		add_manpower = -100
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = infrastructure level > 1 }
			}
			damage_building = {
				type = infrastructure
				damage = 2.0
			}
		}
	}
}

#Cristero War Battles
country_event = { # Cristero War - Battle of Tepatitlán
	id = mexican_civil_war_events.15
	title = mexican_civil_war_events.15.t
	desc = mexican_civil_war_events.15.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	immediate = {
		set_country_flag = MEX_tepatitlan_fired
	}

	option = { # Cristero Victory
		log = "[GetLogInfo]: event mexican_civil_war_events.15 option mexican_civil_war_events.15.a"
		name = mexican_civil_war_events.15.a
		ai_chance = { base = 0 }
		set_temp_variable = { MEX_rebel_strength_change = 1 }
		MEX_increase_rebel_power = yes
		add_manpower = -200
	}

	option = { # Cristero defeate
		log = "[GetLogInfo]: event mexican_civil_war_events.15 option mexican_civil_war_events.15.b"
		name = mexican_civil_war_events.15.b
		set_temp_variable = { MEX_rebel_strength_change = 1 }
		MEX_decrease_rebel_power = yes
		add_manpower = -500
	}
}

country_event = { # Cristero War - Battle of El Fresnal
	id = mexican_civil_war_events.16
	title = mexican_civil_war_events.16.t
	desc = mexican_civil_war_events.16.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	immediate = {
		set_country_flag = MEX_el_fresnal_fired
	}

	option = { # Cristero Victory
		log = "[GetLogInfo]: event mexican_civil_war_events.16 option mexican_civil_war_events.16.a"
		name = mexican_civil_war_events.16.a
		ai_chance = { base = 0 }
		set_temp_variable = { MEX_rebel_strength_change = 1 }
		MEX_increase_rebel_power = yes
		add_manpower = -200
	}
	option = { # Cristero defeate
		log = "[GetLogInfo]: event mexican_civil_war_events.16 option mexican_civil_war_events.16.b"
		name = mexican_civil_war_events.16.b
		set_temp_variable = { MEX_rebel_strength_change = 1 }
		MEX_decrease_rebel_power = yes
		add_manpower = -500
	}
}

country_event = { # Cristero War - Battle of Manzanillo
	id = mexican_civil_war_events.17
	title = mexican_civil_war_events.17.t
	desc = mexican_civil_war_events.17.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	immediate = {
		set_country_flag = MEX_manzanillo_fired
	}

	option = {
		log = "[GetLogInfo]: event mexican_civil_war_events.17 option mexican_civil_war_events.17.a"
		name = mexican_civil_war_events.17.a
		ai_chance = { base = 0 }
		set_temp_variable = { MEX_rebel_strength_change = 1 }
		MEX_increase_rebel_power = yes
		add_manpower = -200
	}
	option = {
		log = "[GetLogInfo]: event mexican_civil_war_events.17 option mexican_civil_war_events.17.b"
		name = mexican_civil_war_events.17.b
		set_temp_variable = { MEX_rebel_strength_change = 1 }
		MEX_decrease_rebel_power = yes
		add_manpower = -500
	}
}

#Campesino War Battles
country_event = { # Campesino War - Battle of Guadalajara
	id = mexican_civil_war_events.18
	title = mexican_civil_war_events.18.t
	desc = mexican_civil_war_events.18.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	immediate = {
		set_country_flag = MEX_guadalajara_fired
	}

	option = { # Cristero Victory
		log = "[GetLogInfo]: event mexican_civil_war_events.18 option mexican_civil_war_events.18.a"
		name = mexican_civil_war_events.18.a
		ai_chance = { base = 0 }
		set_temp_variable = { MEX_rebel_strength_change = 1 }
		MEX_increase_rebel_power = yes
		add_manpower = -150
	}

	option = { # Cristero defeat
		log = "[GetLogInfo]: event mexican_civil_war_events.18 option mexican_civil_war_events.18.b"
		name = mexican_civil_war_events.18.b
		set_temp_variable = { MEX_rebel_strength_change = 1 }
		MEX_decrease_rebel_power = yes
		add_manpower = -100
	}
}

country_event = { # Campesino War - Battle of Celaya
	id = mexican_civil_war_events.19
	title = mexican_civil_war_events.19.t
	desc = mexican_civil_war_events.19.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	immediate = {
		set_country_flag = MEX_celaya_fired
	}

	option = { # Cristero Victory
		log = "[GetLogInfo]: event mexican_civil_war_events.19 option mexican_civil_war_events.19.a"
		name = mexican_civil_war_events.19.a
		set_temp_variable = { MEX_rebel_strength_change = 1 }
		MEX_increase_rebel_power = yes
		add_manpower = -100
	}

	option = { # Cristero defeat
		log = "[GetLogInfo]: event mexican_civil_war_events.19 option mexican_civil_war_events.19.b"
		name = mexican_civil_war_events.19.b
		ai_chance = { base = 0 }
		set_temp_variable = { MEX_rebel_strength_change = 1 }
		MEX_decrease_rebel_power = yes
		add_manpower = -150
	}
}

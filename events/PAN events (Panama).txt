###########################
# Panama Events
###########################

add_namespace = panama_events

country_event = { ####elections, 1936
	id = panama_events.2
	title = panama_events.2.t
	desc = panama_events.2.d

	trigger = {
		tag = PAN
		date < 1937.1.1
	}

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			unlock_national_focus = PAN_36_elections
			activate_targeted_decision = { target = COS decision = PAN_pressure_coto_36 }
			country_event = { id = panama_events.34 days = 15 }
		}
	}

	option = {
		log = "[GetLogInfo]: event panama_events.2 option panama_events.2.a"
		name = panama_events.2.a #National Revolutionary Party
		ai_chance = {
			base = 35
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PAN_path option = PAN_PATH_SOCLIB }
					has_game_rule = { rule = PAN_path option = PAN_PATH_SOCCON }
				}
			}
		}
		add_political_power = 50
		complete_national_focus = PAN_PNR_holds_on
		complete_national_focus = PAN_improve_agriculture
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.09
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.01
		}
		set_temp_variable = { coalition_partner_var = token:national_populist }
		add_to_coalition = yes
	}

	option = {
		log = "[GetLogInfo]: event panama_events.2 option panama_events.2.b"
		name = panama_events.2.b #National Liberal Party
		ai_chance = {
			base = 65
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PAN_path option = PAN_PATH_AUTDEM }
					has_game_rule = { rule = PAN_path option = PAN_PATH_PATAUT }
				}
			}
		}
		add_political_power = 25
		complete_national_focus = PAN_liberal_victory
		complete_national_focus = PAN_invest_in_industry
		set_politics = {
			ruling_party = social_liberal
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.05
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.05 #Conservative faction, so 5 percent for each
		}
		set_temp_variable = { coalition_partner_var = token:market_liberal }
		add_to_coalition = yes
	}
}

country_event = { ####Nat. Police coup
	id = panama_events.3
	title = panama_events.3.t
	desc = panama_events.3.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.3 option panama_events.3.a"
		name = panama_events.3.a #What?!?
		add_political_power = -50
		complete_national_focus = PAN_police_coup
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.15
		}
		if = {
			limit = { has_idea = PAN_farming_encouraged }
			remove_ideas = PAN_farming_encouraged
		}
		if = {
			limit = { has_idea = PAN_worker_rights_protected }
			remove_ideas = PAN_worker_rights_protected
		}
		if = {
			limit = { has_idea = PAN_foreign_investments_idea }
			remove_ideas = PAN_foreign_investments_idea
		}
		if = {
			limit = { has_idea = PAN_further_investments_idea }
			remove_ideas = PAN_further_investments_idea
		}
		swap_ideas = {
			add_idea = PAN_empowered_national_police
			remove_idea = PAN_national_police
		}
		if = {
			limit = { has_completed_focus = PAN_PNR_holds_on }
			uncomplete_national_focus = {
				focus = PAN_PNR_holds_on
				uncomplete_children = yes
			}
		}
		if = {
			limit = { has_completed_focus = PAN_liberal_victory }
			uncomplete_national_focus = {
				focus = PAN_liberal_victory
				uncomplete_children = yes
			}
		}
	}
}
country_event = { ####Conservative government
	id = panama_events.4
	title = panama_events.4.t
	desc = panama_events.4.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.4 option panama_events.4.a"
		name = panama_events.4.a #What?!?
		add_political_power = -25
		complete_national_focus = PAN_conservative_government
		set_politics = {
			ruling_party = market_liberal
			elections_allowed = no
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.15
		}
		add_popularity = {
			ideology = social_liberal
			popularity = -0.05
		}
		set_temp_variable = { coalition_partner_var = token:social_liberal }
		add_to_coalition = yes
		set_country_flag = PAN_marlib_separate_from_soclib
		if = {
			limit = { has_idea = PAN_worker_rights_protected }
			remove_ideas = PAN_worker_rights_protected
		}
	}
}

country_event = { ####Canal In Crisis
	id = panama_events.5
	title = panama_events.5.t
	desc = panama_events.5.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.5 option panama_events.5.a"
		name = panama_events.5.a #Ok cool
		complete_national_focus = PAN_canal_in_crisis
		unlock_decision_category_tooltip = PAN_panama_canal_category
	}
}

country_event = { ####Canada requests Panama in Entente
	id = panama_events.6
	title = panama_events.6.t
	desc = panama_events.6.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.6 option panama_events.6.a"
		name = panama_events.6.a #Ok cool - PAN gets added to Entente, gets reduced Canal Profits spirit
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_WAR }
			}
		}
		set_country_flag = PAN_canada_accepted
		complete_national_focus = PAN_entente_support
		CAN = {
			add_to_faction = PAN
			country_event = { id = panama_events.101 days = 1 }
		}
		hidden_effect = {
			news_event = panama_events.108
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.6 option panama_events.6.b"
		name = panama_events.6.b #Begone thots - CAN gets the OH SHOOT THEY DECLINED event
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_ENT }
			}
		}
		complete_national_focus = PAN_stand_alone
		CAN = {
			country_event = { id = panama_events.102 days = 1 }
		}
	}
}

country_event = { ####Canada demands Panama Canal
	id = panama_events.7
	title = panama_events.7.t
	desc = panama_events.7.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.7 option panama_events.7.a"
		name = panama_events.7.a #Ok cool - PAN gets to keep its independence, old status quo restored with CAN ruling over Canal instead of USA
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_WAR }
			}
		}
		set_country_flag = PAN_canada_accepted
		CAN = {
			transfer_state = 685
			country_event = { id = panama_events.101 days = 1 }
			give_guarantee = PAN
		}
		custom_effect_tooltip = tooltip_white_line
		complete_national_focus = PAN_entente_support
		activate_targeted_decision = { target = COS decision = PAN_pressure_coto_2 }
		hidden_effect = {
			news_event = { id = panama_events.108 days = 2 }
			set_country_flag = PAN_give_up_canal
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.7 option panama_events.7.b"
		name = panama_events.7.b #Begone thots - CAN gets the OH SHOOT THEY DECLINED event
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_CAN }
			}
		}
		complete_national_focus = PAN_stand_alone
		CAN = {
			country_event = { id = panama_events.102 days = 1 }
		}
	}
}

country_event = { ####Canada prepares to invade
	id = panama_events.8
	title = panama_events.8.t
	desc = panama_events.8.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.8 option panama_events.8.a"
		name = panama_events.8.a #Oh no
		PAN = {
			activate_mission = PAN_survive_invasion
		}
	}
}

country_event = { ####Ensuring the loyalty of the police
	id = panama_events.9
	title = panama_events.9.t
	desc = panama_events.9.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.9 option panama_events.9.a"
		name = panama_events.9.a ####Perhaps some money will influence their viewpoint... --Bribes them - loses PP, but it works.
		ai_chance = {
			base = 85
			modifier = {
				factor = 0
				has_game_rule = { rule = PAN_path option = PAN_PATH_PATAUT }
			}
		}
		add_political_power = -50
	}
	option = {
		log = "[GetLogInfo]: event panama_events.9 option panama_events.9.b"
		name = panama_events.9.b ####Purge disloyal elements --The police head, fearful of the purges, coups the government.
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				has_game_rule = { rule = PAN_path option = PAN_PATH_AUTDEM }
			}
		}
		add_political_power = -25
		hidden_effect = {
			country_event = { id = panama_events.3 days = 5 }
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.9 option panama_events.9.c"
		name = panama_events.9.c ####Leaving them alone should make everything fine...? --they get angry from all the foreign investments and coup after focus support further investments
		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PAN_path option = PAN_PATH_AUTDEM }
					has_game_rule = { rule = PAN_path option = PAN_PATH_PATAUT }
				}
			}
		}
		set_country_flag = PAN_police_untouched
	}
}

country_event = { ####what to do about trade unions?
	id = panama_events.10
	title = panama_events.10.t
	desc = panama_events.10.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.10 option panama_events.10.a"
		name = panama_events.10.a ####Regulated Unions - this angers the conservatives -- gets some unions spirit, gets event panama_events.11
		ai_chance = { base = 30 }
		hidden_effect = {
			country_event = { id = panama_events.11 days = 14 }
		}
		add_ideas = PAN_regulated_unions
		custom_effect_tooltip = PAN_regulated_unions_tooltip
	}
	option = {
		log = "[GetLogInfo]: event panama_events.10 option panama_events.10.b"
		name = panama_events.10.b ####unregulated unions - now everybody is angry -- panama_events.12 fires, everything burns. gets all the unions spirit
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PAN_path option = PAN_PATH_SOCLIB }
					has_game_rule = { rule = PAN_path option = PAN_PATH_SOCCON }
				}
			}
		}
		hidden_effect = {
			country_event = { id = panama_events.12 days = 14 }
		}
		add_ideas = PAN_unregulated_unions
		custom_effect_tooltip = PAN_unregulated_unions_tooltip
	}
	option = {
		log = "[GetLogInfo]: event panama_events.10 option panama_events.10.c"
		name = panama_events.10.c ####let's just not - now nobody is angry... except syndies, so pretty much nobody. gets no spirit, status quo continues
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PAN_path option = PAN_PATH_SOCLIB }
					has_game_rule = { rule = PAN_path option = PAN_PATH_SOCCON }
				}
			}
		}
		add_popularity = {
			ideology = social_democrat
			popularity = -0.01
		}
	}
}

country_event = { ####post panama_events.10.a -- conservatives complaing a lot - should we remove unions?
	id = panama_events.11
	title = panama_events.11.t
	desc = panama_events.11.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.11 option panama_events.11.a"
		name = panama_events.11.a ####begone unions - soclib government collapses after a month of flavor events, president resigns, conservates take over, no unions spirit
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				has_game_rule = { rule = PAN_path option = PAN_PATH_SOCLIB }
			}
		}
		hidden_effect = {
			country_event = { id = panama_events.4 days = 30 }
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.05
		}
		add_stability = -0.05
	}
	option = {
		log = "[GetLogInfo]: event panama_events.11 option panama_events.11.b"
		name = panama_events.11.b ####Keep the unions - party pop and stability drop a bit, but you keep the social libs and keep regulated union nat spirit
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				has_game_rule = { rule = PAN_path option = PAN_PATH_SOCCON }
			}
		}
		add_stability = -0.025
		add_popularity = {
			ideology = social_liberal
			popularity = -0.05
		}
		set_temp_variable = { coalition_partner_var = token:market_liberal }
		remove_from_coalition = yes
		set_country_flag = PAN_marlib_separate_from_soclib
	}
}

country_event = { ####post panama_events.10.b -- every man an angry- choose between suppressing political resistance or the natpolice
	id = panama_events.12
	title = panama_events.12.t
	desc = panama_events.12.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.12 option panama_events.12.a"
		name = panama_events.12.a ####suppress political resistance - police coups
		hidden_effect = {
			country_event = { id = panama_events.3 days = 5 }
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.12 option panama_events.12.b"
		name = panama_events.12.b ####suppress army - conservatives take over
		hidden_effect = {
			country_event = { id = panama_events.4 days = 5 }
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.12 option panama_events.12.c"
		name = panama_events.12.c ####let's do nothing - totally will end well xd
		hidden_effect = {
			random_list = {
				50 = {
					country_event = { id = panama_events.3 days = 5 }
				}
				50 = {
					country_event = { id = panama_events.4 days = 5 }
				}
			}
		}
	}
}

country_event = { ####Who should we ask to invest?
	id = panama_events.13
	title = panama_events.13.t
	desc = panama_events.13.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.13 option panama_events.13.a"
		name = panama_events.13.a ####Canada eh?
		trigger = {
			PAN = { is_subject = no }
			country_exists = CAN
		}
		CAN = {
			country_event = panama_events.14
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.13 option panama_events.13.b"
		name = panama_events.13.b ####USA
		trigger = {
			PAN = { is_subject = no }
			country_exists = USA
			OR = {
				NOT = { has_global_flag = USA_civil_war_begun_flag }
				has_global_flag = USA_civil_war_over_flag
			}
		}
		USA = {
			country_event = panama_events.14
		}
	}
	option = {#puppet only option
		log = "[GetLogInfo]: event panama_events.13 option panama_events.13.c"
		name = panama_events.13.c
		trigger = {
			PAN = { is_subject = yes }
		}
		overlord = {
			country_event = panama_events.14
		}
	}
}

country_event = { ####Panama asks for investments
	id = panama_events.14
	title = panama_events.14.t
	desc = panama_events.14.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.14 option panama_events.14.a"
		name = panama_events.14.a ####Sure why not
		ai_chance = { base = 100 }
		add_political_power = -15
		add_timed_idea = {
			idea = PAN_outside_investing
			days = 30
		}
		PAN = {
			add_ideas = PAN_foreign_investments_idea
			custom_effect_tooltip = tooltip_white_line
			country_event = panama_events.16
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.14 option panama_events.14.b"
		name = panama_events.14.b ####Nah
		ai_chance = { base = 0 }
		PAN = {
			country_event = panama_events.15
		}
	}
}

country_event = { ####CAN or USA says no
	id = panama_events.15
	title = panama_events.15.t
	desc = panama_events.15.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.15 option panama_events.15.a"
		name = panama_events.15.a ####oof
		add_political_power = -5
	}
}

country_event = { ####CAN or USA says yes
	id = panama_events.16
	title = panama_events.16.t
	desc = panama_events.16.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.16 option panama_events.16.a"
		name = panama_events.16.a ####yay
	}
}

country_event = { ####Harmodio Madrid sick, retires
	id = panama_events.17
	title = panama_events.17.t
	desc = panama_events.17.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_country_leader = { character = PAN_harmodio_arias_madrid }
	}

	option = {
		log = "[GetLogInfo]: event panama_events.17 option panama_events.17.a"
		name = panama_events.17.a ####Sad!
		add_country_leader_role = {
			character = PAN_arnulfo_arias_madrid
			country_leader = {
				desc = PAN_arnulfo_arias_madrid_leader_desc
				ideology = authoritarian_democrat_subtype
			}
			promote_leader = yes
		}
		set_country_flag = PAN_Arnulfo_head_of_PNR
	}
}

country_event = { ####Removal of Progressive reforms
	id = panama_events.18
	title = panama_events.18.t
	desc = panama_events.18.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.18 option panama_events.18.a"
		name = panama_events.18.a ####Reverse ALL of the reforms - Grants conservative ideas
		set_temp_variable = { coalition_partner_var = token:social_liberal }
		remove_from_coalition = yes
		if = {
			limit = { has_idea = PAN_unregulated_unions }
			remove_ideas = PAN_unregulated_unions
		}
		else_if = {
			limit = { has_idea = PAN_regulated_unions }
			remove_ideas = PAN_regulated_unions
		}
		else = {
			custom_effect_tooltip = tooltip_apply_one_of_effects_depending_on_ideas
			remove_ideas = PAN_unregulated_unions
			custom_effect_tooltip = tooltip_white_line
			remove_ideas = PAN_regulated_unions
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.18 option panama_events.18.b"
		name = panama_events.18.b ####Reverse SOME of the reforms - Grants centrist ideas
		add_popularity = {
			ideology = market_liberal
			popularity = 0.1
		}
		if = {
			limit = { has_idea = PAN_unregulated_unions }
			swap_ideas = {
				add_idea = PAN_regulated_unions
				remove_idea = PAN_unregulated_unions
			}
		}
		else_if = {
			limit = { has_idea = PAN_regulated_unions }
			swap_ideas = {
				add_idea = PAN_curtailed_unions
				remove_idea = PAN_regulated_unions
			}
		}
		else = {
			custom_effect_tooltip = tooltip_apply_one_of_effects_depending_on_ideas
			swap_ideas = {
				add_idea = PAN_regulated_unions
				remove_idea = PAN_unregulated_unions
			}
			swap_ideas = {
				add_idea = PAN_curtailed_unions
				remove_idea = PAN_regulated_unions
			}
		}
	}
}

country_event = { ####What if we weren't liberal?
	id = panama_events.19
	title = panama_events.19.t
	desc = panama_events.19.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.19 option panama_events.19.a"
		name = panama_events.19.a ####Reform the old Conservative Party!
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = PAN_path option = PAN_PATH_SOCCON }
			}
		}
		set_country_flag = PAN_marlib_soccon_alliance
		add_popularity = {
			ideology = social_conservative
			popularity = 0.15
		}
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
		}
		add_popularity = {
			ideology = market_liberal
			popularity = -0.1
		}
		set_temp_variable = { coalition_partner_var = token:market_liberal }
		add_to_coalition = yes
	}
	option = {
		log = "[GetLogInfo]: event panama_events.19 option panama_events.19.b"
		name = panama_events.19.b ####Create a new Conservative Party - 'National Conservative Party'!
		ai_chance = { base = 100 }
		set_country_flag = PAN_new_soccon
		add_popularity = {
			ideology = social_conservative
			popularity = 0.25
		}
		add_popularity = {
			ideology = market_liberal
			popularity = -0.2
		}
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
		}
		set_party_name = {
			ideology = social_conservative
			long_name = PAN_new_conservatives_long
			name = PAN_new_conservatives
		}
	}
}

country_event = { ####Establishment of a military dictatorship
	id = panama_events.20
	title = panama_events.20.t
	desc = panama_events.20.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.20 option panama_events.20.a"
		name = panama_events.20.a ####Peace and stability... but at what cost?
	}
}

country_event = { ####New constitution - much has been established, but what do we do with elections?
	id = panama_events.21
	title = panama_events.21.t
	desc = panama_events.21.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.21 option panama_events.21.a"
		name = panama_events.21.a ####Fake elections
		swap_ideas = {
			remove_idea = PAN_military_government
			add_idea = PAN_fake_democracy
		}
		add_popularity = { ideology = paternal_autocrat popularity = 0.1 }
		set_party_name = {
			ideology = paternal_autocrat
			long_name = PAN_democratic_police_pataut_long
			name = PAN_democratic_police_pataut
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.21 option panama_events.21.b"
		name = panama_events.21.b ####NO elections
		swap_ideas = {
			remove_idea = PAN_military_government
			add_idea = PAN_full_dictatorship
		}
		add_political_power = -50
		add_popularity = { ideology = paternal_autocrat popularity = 0.2 }
	}
	option = {
		log = "[GetLogInfo]: event panama_events.21 option panama_events.21.c"
		name = panama_events.21.c ####Establish the CPN as a real party and hold legitimate elections next time around
		swap_ideas = {
			remove_idea = PAN_military_government
			add_idea = PAN_democratic_military
		}
		add_political_power = -100
		add_popularity = { ideology = paternal_autocrat popularity = 0.05 }
		set_party_name = {
			ideology = paternal_autocrat
			long_name = PAN_democratic_police_pataut_long
			name = PAN_democratic_police_pataut
		}
		if = {
			limit = { is_subject = no }
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = yes
			}
			hidden_effect = {
				country_event = { id = panama_events.24 days = 21 }
			}
		}
	}
}

country_event = {
	id = panama_events.22
	title = panama_events.22.t
	desc = panama_events.22.d

	trigger = {
		date > 1937.1.1
		NOT = { has_idea = PAN_democratic_military }
	}

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.22 option panama_events.22.a"
		name = panama_events.22.a # PNR
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PAN_path option = PAN_PATH_SOCLIB }
					has_game_rule = { rule = PAN_path option = PAN_PATH_SOCCON }
					has_game_rule = { rule = PAN_path option = PAN_PATH_PATAUT }
				}
			}
		}
		add_political_power = 40
		if = {
			limit = {
				NOT = {
					has_government = authoritarian_democrat
				}
			}
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = yes
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.18
			}
			add_popularity = {
				ideology = national_populist
				popularity = 0.02
			}
			set_temp_variable = { coalition_partner_var = token:national_populist }
			add_to_coalition = yes
		}
		else = {
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.09
			}
			add_popularity = {
				ideology = national_populist
				popularity = 0.01
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.22 option panama_events.22.b"
		name = panama_events.22.b # PNL
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PAN_path option = PAN_PATH_AUTDEM }
					has_game_rule = { rule = PAN_path option = PAN_PATH_SOCCON }
					has_game_rule = { rule = PAN_path option = PAN_PATH_PATAUT }
				}
			}
		}
		add_political_power = 60
		if = {
			limit = {
				NOT = {
					has_government = social_liberal
				}
			}
			set_politics = {
				ruling_party = social_liberal
				elections_allowed = yes
			}
			if = {
				limit = { has_country_flag = PAN_marlib_separate_from_soclib }
				add_popularity = {
					ideology = social_liberal
					popularity = 0.2
				}
			}
			else = {
				add_popularity = {
					ideology = social_liberal
					popularity = 0.1
				}
				add_popularity = {
					ideology = market_liberal
					popularity = 0.1
				}
				set_temp_variable = { coalition_partner_var = token:market_liberal }
				add_to_coalition = yes
			}
		}
		else = {
			if = {
				limit = { has_country_flag = PAN_marlib_separate_from_soclib }
				add_popularity = {
					ideology = social_liberal
					popularity = 0.1
				}
			}
			else = {
				add_popularity = {
					ideology = social_liberal
					popularity = 0.06
				}
				add_popularity = {
					ideology = market_liberal
					popularity = 0.04
				}
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.22 option panama_events.22.c"
		name = panama_events.22.c # conservatives
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PAN_path option = PAN_PATH_SOCLIB }
					has_game_rule = { rule = PAN_path option = PAN_PATH_AUTDEM }
					has_game_rule = { rule = PAN_path option = PAN_PATH_PATAUT }
				}
			}
		}
		add_political_power = 20
		trigger = {
			OR = {
				has_country_flag = PAN_marlib_soccon_alliance
				has_country_flag = PAN_new_soccon
			}
		}
		if = {
			limit = {
				NOT = {
					has_government = social_conservative
				}
			}
			set_politics = {
				ruling_party = social_conservative
				elections_allowed = yes
			}
			if = {
				limit = { has_country_flag = PAN_new_soccon }
				add_popularity = {
					ideology = social_conservative
					popularity = 0.2
				}
			}
			else = {
				add_popularity = {
					ideology = social_conservative
					popularity = 0.12
				}
				add_popularity = {
					ideology = market_liberal
					popularity = 0.08
				}
			}
			set_temp_variable = { coalition_partner_var = token:market_liberal }
			add_to_coalition = yes
		}
		else = {
			if = {
				limit = { has_country_flag = PAN_new_soccon }
				add_popularity = {
					ideology = social_conservative
					popularity = 0.1
				}
			}
			else = {
				add_popularity = {
					ideology = social_conservative
					popularity = 0.06
				}
				add_popularity = {
					ideology = market_liberal
					popularity = 0.04
				}
			}
		}
	}
}

country_event = {
	id = panama_events.23
	title = panama_events.23.t
	desc = panama_events.23.d

	trigger = {
		date > 1937.1.1
		has_idea = PAN_democratic_military
	}

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			load_focus_tree = panama_1940
			set_country_flag = PAN_40_elections
		}
	}

	option = {
		log = "[GetLogInfo]: event panama_events.23 option panama_events.23.a"
		name = panama_events.23.a # CPN
		ai_chance = { base = 100 }
		add_political_power = 60
		set_country_flag = PAN_CPN_Victory
		if = {
			limit = {
				NOT = {
					has_government = paternal_autocrat
				}
			}
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = yes
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.25
			}
		}
		else = {
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.1
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.23 option panama_events.23.b"
		name = panama_events.23.b # Grand Coalition
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = PAN_path option = PAN_PATH_PATAUT }
			}
		}
		add_political_power = 40
		set_country_flag = PAN_coalition_victory
		if = {
			limit = { has_country_flag = PAN_coalition_leader_soccon }
			set_politics = {
				ruling_party = social_conservative
				elections_allowed = yes
			}
			set_temp_variable = { coalition_partner_var = token:social_liberal }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:market_liberal }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:national_populist }
			add_to_coalition = yes
		}
		else_if = {
			limit = { has_country_flag = PAN_coalition_leader_soclib }
			set_politics = {
				ruling_party = social_liberal
				elections_allowed = yes
			}
			set_temp_variable = { coalition_partner_var = token:market_liberal }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:national_populist }
			add_to_coalition = yes
		}
		else = {
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = yes
			}
			set_temp_variable = { coalition_partner_var = token:social_liberal }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:market_liberal }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:national_populist }
			add_to_coalition = yes
		}
		if = {
			limit = { has_country_flag = PAN_coalition_leader_soclib }
			add_popularity = {
				ideology = social_liberal
				popularity = 0.1
			}
		}
		else = {
			add_popularity = {
				ideology = social_liberal
				popularity = 0.03
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = PAN_coalition_leader_soclib
					has_country_flag = PAN_coalition_leader_soccon
				}
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.04
			}
		}
		else = {
			add_popularity = {
				ideology = market_liberal
				popularity = 0.01
			}
		}
		if = {
			limit = { has_country_flag = PAN_coalition_leader_soccon }
			add_popularity = {
				ideology = social_conservative
				popularity = 0.1
			}
		}
		else = {
			add_popularity = {
				ideology = social_conservative
				popularity = 0.03
			}
		}
		if = {
			limit = { has_country_flag = PAN_coalition_leader_authdem }
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.1
			}
			add_popularity = {
				ideology = national_populist
				popularity = 0.04
			}
		}
		else = {
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.03
			}
			add_popularity = {
				ideology = national_populist
				popularity = 0.01
			}
		}
	}
}

country_event = { ####Political parties meet post democratic military government
	id = panama_events.24
	title = panama_events.24.t
	desc = panama_events.24.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.24 option panama_events.24.a"
		name = panama_events.24.a ####Concerning
		add_political_power = -25
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.05
		}
		hidden_effect = {
			country_event = { id = panama_events.25 days = 7 }
		}
	}
}

country_event = { ####Formation of the Constitutional Coalition - Coalición Constitucional
	id = panama_events.25
	title = panama_events.25.t
	desc = panama_events.25.d
	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = PAN_democratic_coalition
		}
	}

	option = {
		log = "[GetLogInfo]: event panama_events.25 option panama_events.25.a"
		name = panama_events.25.a ####Madrid made leader
		ai_chance = { base = 100 }
		set_country_flag = PAN_coalition_leader_authdem
		if = {
			limit = { NOT = { has_country_flag = PAN_Arnulfo_head_of_PNR } }
			add_country_leader_role = {
				character = PAN_arnulfo_arias_madrid
				country_leader = {
					desc = PAN_arnulfo_arias_madrid_leader_desc
					ideology = authoritarian_democrat_subtype
				}
				promote_leader = yes
			}
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.25 option panama_events.25.b"
		name = panama_events.25.b ####Jovane made leader
		ai_chance = { base = 100 }
		set_country_flag = PAN_coalition_leader_soclib
		add_popularity = {
			ideology = social_liberal
			popularity = 0.05
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.25 option panama_events.25.c"
		name = panama_events.25.c ####Arosemena made leader
		ai_chance = { base = 100 }
		set_country_flag = PAN_coalition_leader_soccon
		add_popularity = {
			ideology = social_conservative
			popularity = 0.05
		}
	}
	after = {
		set_party_name = {
			ideology = social_conservative
			long_name = PAN_coalition_long
			name = PAN_coalition
		}
		set_party_name = {
			ideology = social_liberal
			long_name = PAN_coalition_long
			name = PAN_coalition
		}
		set_party_name = {
			ideology = market_liberal
			long_name = PAN_coalition_long
			name = PAN_coalition
		}
		set_party_name = {
			ideology = authoritarian_democrat
			long_name = PAN_coalition_long
			name = PAN_coalition
		}
		set_party_name = {
			ideology = national_populist
			long_name = PAN_coalition_long
			name = PAN_coalition
		}
	}
}

country_event = { ####State-owned factories/farms or private?
	id = panama_events.26
	title = panama_events.26.t
	desc = panama_events.26.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.26 option panama_events.26.a"
		name = panama_events.26.a #State owned
		add_political_power = 50
		swap_ideas = {
			remove_idea = PAN_land_clearing
			add_idea = PAN_state_owned_land
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.26 option panama_events.26.b"
		name = panama_events.26.b #Private
		add_stability = 0.05
		swap_ideas = {
			remove_idea = PAN_land_clearing
			add_idea = PAN_private_owned_land
		}
	}
}

country_event = { ####Land clearing
	id = panama_events.27
	title = panama_events.27.t
	desc = panama_events.27.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.27 option panama_events.27.a"
		name = panama_events.27.a #Prioritize industry
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
		add_political_power = -50
		304 = {
			add_extra_state_shared_building_slots = 1
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.27 option panama_events.27.b"
		name = panama_events.27.b #Prioritize agriculture
		add_stability = 0.025
		if = {
			limit = { 304 = { has_state_category = five } }
			304 = {
				add_extra_state_shared_building_slots = 1
			}
		}
		else = {
			304 = {
				increase_state_category_by_one_level = yes
			}
		}
	}
}

country_event = { ####The Union Compromise
	id = panama_events.28
	title = panama_events.28.t
	desc = panama_events.28.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.28 option panama_events.28.a"
		name = panama_events.28.a #Create government-owned trade unions
		add_political_power = -100
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
		add_ideas = PAN_government_owned_unions
	}
	option = {
		log = "[GetLogInfo]: event panama_events.28 option panama_events.28.b"
		name = panama_events.28.b #Allow unions with some restrictions
		add_stability = 0.025
		add_popularity = {
			ideology = social_democrat
			popularity = 0.02
		}
		add_ideas = PAN_regulated_unions
	}
	option = {
		log = "[GetLogInfo]: event panama_events.28 option panama_events.28.c"
		name = panama_events.28.c #Ban them
		add_political_power = 50
		add_stability = -0.025
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
		add_ideas = PAN_curtailed_unions
	}
}

country_event = { ####Fate of the coalition - it either falls apart here or it doesn't -- So far we've managed to hold together reasonably well, but since our victory over the CPN, bickering among the multiple factions has become common.
	id = panama_events.29
	title = panama_events.29.t
	desc = panama_events.29.d
	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = PAN_democratic_coalition
	}

	option = {
		log = "[GetLogInfo]: event panama_events.29 option panama_events.29.a"
		name = panama_events.29.a #Hold it together - loses PP short run, but gains pp in long term due to coalition
		add_political_power = -100
		add_stability = 0.05
		hidden_effect = {
			set_country_flag = PAN_coalition_standing
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.29 option panama_events.29.b"
		name = panama_events.29.b #Split the coalition Madrid- you get to be your own party again yay
		trigger = {
			has_government = authoritarian_democrat
		}
		set_party_name = {
			ideology = social_conservative
			long_name = PAN_new_conservatives_long
			name = PAN_new_conservatives
		}
		set_party_name = {
			ideology = social_liberal
			long_name = PAN_social_liberal_party_long
			name = PAN_social_liberal_party
		}
		set_party_name = {
			ideology = market_liberal
			long_name = PAN_market_liberal_party_long
			name = PAN_market_liberal_party
		}
		set_party_name = {
			ideology = authoritarian_democrat
			long_name = PAN_authoritarian_democrat_party_long
			name = PAN_authoritarian_democrat_party
		}
		set_party_name = {
			ideology = national_populist
			long_name = PAN_national_populist_party_long
			name = PAN_national_populist_party
		}
		set_temp_variable = { coalition_partner_var = token:social_liberal }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:market_liberal }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:social_conservative }
		remove_from_coalition = yes
	}
	option = {
		log = "[GetLogInfo]: event panama_events.29 option panama_events.29.b"
		name = panama_events.29.b #Split the coalition Jovane- but you get to be your own party again yay
		trigger = {
			has_government = social_liberal
		}
		set_party_name = {
			ideology = social_conservative
			long_name = PAN_new_conservatives_long
			name = PAN_new_conservatives
		}
		set_party_name = {
			ideology = social_liberal
			long_name = PAN_social_liberal_party_long
			name = PAN_social_liberal_party
		}
		set_party_name = {
			ideology = market_liberal
			long_name = PAN_market_liberal_party_long
			name = PAN_market_liberal_party
		}
		set_party_name = {
			ideology = authoritarian_democrat
			long_name = PAN_authoritarian_democrat_party_long
			name = PAN_authoritarian_democrat_party
		}
		set_party_name = {
			ideology = national_populist
			long_name = PAN_national_populist_party_long
			name = PAN_national_populist_party
		}
		set_temp_variable = { coalition_partner_var = token:social_conservative }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:national_populist }
		remove_from_coalition = yes
	}
	option = {
		log = "[GetLogInfo]: event panama_events.29 option panama_events.29.b"
		name = panama_events.29.b #Split the coalition Arosemena- but you get to be your own party again yay
		trigger = {
			has_government = social_conservative
		}
		set_party_name = {
			ideology = social_conservative
			long_name = PAN_new_conservatives_long
			name = PAN_new_conservatives
		}
		set_party_name = {
			ideology = social_liberal
			long_name = PAN_social_liberal_party_long
			name = PAN_social_liberal_party
		}
		set_party_name = {
			ideology = market_liberal
			long_name = PAN_market_liberal_party_long
			name = PAN_market_liberal_party
		}
		set_party_name = {
			ideology = authoritarian_democrat
			long_name = PAN_authoritarian_democrat_party_long
			name = PAN_authoritarian_democrat_party
		}
		set_party_name = {
			ideology = national_populist
			long_name = PAN_national_populist_party_long
			name = PAN_national_populist_party
		}
		set_temp_variable = { coalition_partner_var = token:social_liberal }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:national_populist }
		remove_from_coalition = yes
	}
}

country_event = { ####Canadian reaction to canal seized
	id = panama_events.99
	title = panama_events.99.t
	desc = panama_events.99.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.99 option panama_events.99.a"
		name = panama_events.99.a #Demand they join Entente
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_ENT }
					has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_RETREAT }
				}
			}
		}
		PAN = {
			country_event = { id = panama_events.7 days = 1 }
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.99 option panama_events.99.b"
		name = panama_events.99.b #Demand they hand over the canal
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_CAN }
					has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_RETREAT }
				}
			}
		}
		PAN = {
			country_event = { id = panama_events.6 days = 1 }
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.99 option panama_events.99.c"
		name = panama_events.99.c #Leave them alone - CAN gets extra PP and stability
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_CAN }
					has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_ENT }
					has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_WAR }
				}
			}
		}
		add_political_power = 20
		add_stability = 0.025
		PAN = {
			hidden_effect = { complete_national_focus = PAN_stand_alone }
			activate_targeted_decision = { target = COS decision = PAN_pressure_coto_2 }
		}
	}
}

country_event = { ####US reaction to canal seized
	id = panama_events.100
	title = panama_events.100.t
	desc = panama_events.100.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.100 option panama_events.100.a"
		name = panama_events.100.a #Oof
		add_political_power = -10
	}
}

country_event = { ####PAN says yes - CAN event
	id = panama_events.101
	title = panama_events.101.t
	desc = panama_events.101.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.101 option panama_events.101.a"
		name = panama_events.101.a #yeeeeee
	}
}

country_event = { ####Panama says NO - CAN event
	id = panama_events.102
	title = panama_events.102.t
	desc = panama_events.102.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.102 option panama_events.102.a"
		name = panama_events.102.a #WAAAAAAAAAAAAAAAAAAAAAR
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_RETREAT }
			}
		}
		PAN = {
			country_event = { id = panama_events.8 days = 1 }
		}
		declare_war_on = {
			target = PAN
			type = annex_everything
		}
		hidden_effect = {
			PAN = { set_country_flag = PAN_war_with_can }
			COS = { country_event = { id = costa_rica_events.128 days = 15 } }
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.102 option panama_events.102.b"
		name = panama_events.102.b #Do nothing
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				has_game_rule = { rule = PAN_crisis option = PAN_CRISIS_WAR }
			}
		}
		add_political_power = -10
		PAN = {
			country_event = { id = panama_events.106 days = 1 }
			set_country_flag = PAN_no_war_with_can
		}
	}
	after = {
		hidden_effect = {
			news_event = { id = panama_events.108 days = 2 }
		}
	}
}

country_event = { ####We survived 180 days - let's propose a peace
	id = panama_events.103
	title = panama_events.103.t
	desc = panama_events.103.d

	trigger = {
		has_war_with = ENT
		is_valid_peace_target = yes
		ENT = { is_valid_peace_target = yes }
	}

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.103 option panama_events.103.a"
		name = panama_events.103.a #Propose a peace
		ENT = {
			country_event = { id = panama_events.104 days = 1 }
		}
	}
}

country_event = { ####Panama proposes peace - CAN event
	id = panama_events.104
	title = panama_events.104.t
	desc = panama_events.104.d

	trigger = {
		has_war_with = FROM
		is_valid_peace_target = yes
		FROM = { is_valid_peace_target = yes }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.104 option panama_events.104.a"
		name = panama_events.104.a #ok sure - this does the peace
		PAN = {
			country_event = { id = panama_events.105 days = 1 }
			white_peace_with_ROOT = yes
		}
	}
	option = {
		log = "[GetLogInfo]: event panama_events.104 option panama_events.104.b"
		name = panama_events.104.b #not until we reach Panama City xd - ai wont do this ever
		ai_chance = { base = 0 }
		add_political_power = -50
	}
}

country_event = { ####Yay peace - this does NOT do the peace
	id = panama_events.105
	title = panama_events.105.t
	desc = panama_events.105.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.105 option panama_events.105.a"
		name = panama_events.105.a #Yay peace
		add_political_power = 35
		activate_targeted_decision = { target = COS decision = PAN_pressure_coto_2 }
	}
}

country_event = { ####CAN stands down - yeah boiiiiiiiiiiii
	id = panama_events.106
	title = panama_events.106.t
	desc = panama_events.106.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.106 option panama_events.106.a"
		name = panama_events.106.a #Yay peace
		add_political_power = 35
		activate_targeted_decision = { target = COS decision = PAN_pressure_coto_2 }
	}
}

country_event = { ####PAN renounces Monroe Doctrine - US event
	id = panama_events.107
	title = panama_events.107.t
	desc = panama_events.107.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.107 option panama_events.107.a"
		name = panama_events.107.a #A shame.
	}
}

country_event = { ####PAN pressures Coto in '36 - COS event
	id = panama_events.30
	title = panama_events.30.t
	desc = panama_events.30.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.30 option panama_events.30.a"
		name = panama_events.30.a #We must prepare for war..
	}
}

country_event = { ####PAN pressures Coto in '36 - USA event
	id = panama_events.31
	title = panama_events.31.t
	desc = panama_events.31.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.31 option panama_events.31.a"
		name = panama_events.31.a #Heck you get out
		PAN = {
			country_event = { id = panama_events.32 days = 1 }
		}
		COS = {
			country_event = { id = panama_events.33 days = 1 }
		}
	}
}

country_event = { ####USA tells us to get out - PAN event
	id = panama_events.32
	title = panama_events.32.t
	desc = panama_events.32.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.32 option panama_events.32.a"
		name = panama_events.32.a #not much we can do lol
		add_political_power = -10
	}
}

country_event = { ####USA to the rescue! - COS event
	id = panama_events.33
	title = panama_events.33.t
	desc = panama_events.33.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.33 option panama_events.33.a"
		name = panama_events.33.a #Haha nice
		add_political_power = 10
		USA = {
			country_event = { id = panama_events.40 days = 3 }
		}
	}
}

country_event = { ####Coto Region overview - pre coto chain above
	id = panama_events.34
	title = panama_events.34.t
	desc = panama_events.34.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.34 option panama_events.34.a"
		name = panama_events.34.a #Maybe its time to pressure it?
	}
}

country_event = { ####PAN investments event
	id = panama_events.35
	title = panama_events.35.t
	desc = panama_events.35.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.35 option panama_events.35.a"
		name = panama_events.35.a #Ok
		ai_chance = { base = 100 }
		add_political_power = 30
		add_timed_idea = {
			idea = PAN_outside_investing
			days = 30
		}
		PAN = { country_event = { id = panama_events.36 days = 1 } }
	}
	option = {
		log = "[GetLogInfo]: event panama_events.35 option panama_events.35.b"
		name = panama_events.35.b #No
		ai_chance = { base = 0 }
		PAN = { country_event = { id = panama_events.37 days = 1 } }
	}
}

country_event = { ####Country says yes to $$$
	id = panama_events.36
	title = panama_events.36.t
	desc = panama_events.36.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.36 option panama_events.36.a"
		name = panama_events.36.a #Yay
		if = {
			limit = { has_idea = PAN_profit }
			swap_ideas = {
				remove_idea = PAN_profit
				add_idea = PAN_profit2
			}
		}
		else = {
			add_ideas = PAN_profit
		}
	}
}

country_event = { ####Country says no to $$$
	id = panama_events.37
	title = panama_events.37.t
	desc = panama_events.37.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.37 option panama_events.37.a"
		name = panama_events.37.a #Oof
	}
}

country_event = { ####USA to the rescue! - We did it! - USA Event
	id = panama_events.40
	title = panama_events.40.t
	desc = panama_events.40.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event panama_events.40 option panama_events.40.a"
		name = panama_events.40.a #We protc
		add_political_power = 10
	}
}

news_event = { #Panama Canal Crisis
	id = panama_events.108
	immediate = { log = "[GetLogInfo]: event panama_events.108" }
	title = panama_events.108.t
	picture = news_event_PAN_canal
	major = yes
	is_triggered_only = yes

	show_major = {
		OR = {
			regional_north_america_news = yes
			regional_south_america_news = yes
			is_ally_with = CAN
		}
	}

	trigger = {
		wants_world_news = yes
	}

	desc = { #Panama joins entente, peace
		text = panama_events.108.d.joincan
		trigger = {
			PAN = {
				is_in_faction_with = CAN
			}
		}
	}

	desc = { #War
		text = panama_events.108.d.war
		trigger = {
			PAN = {
				has_country_flag = PAN_war_with_can
			}
		}
	}

	desc = { #Canada backs down
		text = panama_events.108.d.canbackdown
		trigger = {
			PAN = {
				has_country_flag = PAN_no_war_with_can
			}
		}
	}

	desc = { #Canada demands canal, peace
		text = panama_events.108.d.demandcanpeace
		trigger = {
			PAN = {
				has_country_flag = PAN_give_up_canal
			}
		}
	}

	option = { #The balance of power is at stake.
		name = panama_events.108.a
		trigger = {
			NOT = {
				is_in_faction_with = CAN
				tag = PAN
			}
		}
	}

	option = { #The canal is ours!
		name = panama_events.108.b
		trigger = {
			tag = PAN
			PAN = {
				owns_state = 685
			}
		}
	}

	option = { #They made the right choice.
		name = panama_events.108.c
		trigger = {
			OR = {
				CAN = { owns_state = 685 }
				PAN = {
					owns_state = 685
					is_in_faction_with = CAN
				}
			}
			is_in_faction_with = CAN
			NOT = { TAG = PAN }
		}
	}

	option = { #Damn them!
		name = panama_events.108.d
		trigger = {
			OR = {
				AND = {
					PAN = {
						owns_state = 685
						NOT = { is_in_faction_with = CAN }
					}
					is_in_faction_with = CAN
				}
				AND = {
					tag = PAN
					NOT = {
						PAN = {
							owns_state = 685
						}
					}
				}
			}
		}
	}
}


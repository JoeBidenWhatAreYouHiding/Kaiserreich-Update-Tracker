###########################
# Siam Events (0.9)
###########################
# By PPsyrius
###########################

add_namespace = siam_events

#################################
##
## PREEXISTING EVENTS (ID 0-999)
##
#################################

### Black Monday & Prajashipok's Reforms ###
country_event = { # Black Monday hit Siam
	id = siam_events.4
	title = siam_events.4.t
	desc = siam_events.4.d
	picture = GFX_report_event_SIA_Boworadet_Rounding_Up_Rebels

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_timed_idea = {
				idea = SIA_black_monday
				days = 3600
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.4 option siam_events.4.a"
		name = siam_events.4.a # Mein Gott
		add_political_power = -100
		add_stability = -0.30
		effect_tooltip = {
			add_timed_idea = {
				idea = SIA_black_monday
				days = 3600
			}
		}
		hidden_effect = { # All events within 60 days Deadline
			set_country_flag = { flag = SIA_reform_progress value = 0 }
			country_event = { id = siam_events.5 days = 7 random_days = 20 } # Jasmine Rice
			country_event = { id = siam_events.6 days = 3 random_days = 20 } # Bloated Bureaucracy
			country_event = { id = siam_events.7 days = 9 random_days = 20 } # Military Expenditure Cut
			country_event = { id = siam_events.8 days = 5 random_days = 20 } # Emergency Tax
		}
		if = {
			limit = { has_global_flag = allow_sound_events_flag }
			hidden_effect = { scoped_play_song = sutha_kansaeng }
		}
	}
}

country_event = { # Jasmine Rice Problems
	id = siam_events.5
	title = siam_events.5.t
	desc = siam_events.5.d
	picture = GFX_report_event_SIA_Agricultural_Mechanisation

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.5 option siam_events.5.a"
		name = siam_events.5.a # Buy All
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_KHANARATSADON }
			}
		}
		modify_country_flag = {
			flag = SIA_reform_progress
			value = 2
		}
		add_political_power = -100
		add_stability = 0.05
	}
	option = {
		log = "[GetLogInfo]: event siam_events.5 option siam_events.5.b"
		name = siam_events.5.b # Buy Some
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_PRAJADHIPOK }
					has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_KHANARATSADON }
				}
			}
		}
		modify_country_flag = {
			flag = SIA_reform_progress
			value = 1
		}
		add_political_power = -50
		add_stability = 0.03
	}
	option = {
		log = "[GetLogInfo]: event siam_events.5 option siam_events.5.c"
		name = siam_events.5.c # Don't Step on Snek :v
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_PRAJADHIPOK }
			}
		}
		add_political_power = -10
		add_stability = -0.01
	}
	after = {
		set_country_flag = SIA_BM1
	}
}

country_event = { # Bloated Bureaucracy
	id = siam_events.6
	title = siam_events.6.t
	desc = siam_events.6.d
	picture = GFX_report_event_SIA_Post_Office_Building

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.6 option siam_events.6.a"
		name = siam_events.6.a # Lower Plebs
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_PRAJADHIPOK }
			}
		}
		swap_ideas = {
			remove_idea = SIA_bloated_bureaucracy
			add_idea = SIA_bloated_bureaucracy_plebs_purged
		}
		add_stability = -0.05
	}
	option = {
		log = "[GetLogInfo]: event siam_events.6 option siam_events.6.b"
		name = siam_events.6.b # Fire the Nobles
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_PRAJADHIPOK }
					has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_KHANARATSADON }
				}
			}
		}
		modify_country_flag = {
			flag = SIA_reform_progress
			value = 1
		}
		add_political_power = -50
		add_stability = -0.01
		swap_ideas = {
			remove_idea = SIA_bloated_bureaucracy
			add_idea = SIA_bloated_bureaucracy_manager_purged
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.6 option siam_events.6.c"
		name = siam_events.6.c # Status Quo
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_KHANARATSADON }
			}
		}
		modify_country_flag = {
			flag = SIA_reform_progress
			value = 2
		}
		add_political_power = -100
		add_stability = 0.03
	}
	after = {
		set_country_flag = SIA_BM2
	}
}

country_event = { # Military Expenditure
	id = siam_events.7
	title = siam_events.7.t
	desc = siam_events.7.d
	picture = GFX_report_event_SIA_SPAAG_Grand_Palace

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.7 option siam_events.7.a"
		name = siam_events.7.a # No research ya plebs
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_PRAJADHIPOK }
			}
		}
		add_timed_idea = {
			idea = SIA_military_expense_cut
			days = 1080
		}
		add_stability = -0.02
		hidden_effect = {
			activate_targeted_decision = { decision = SIA_resume_research_funding target = SIA }
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.7 option siam_events.7.b"
		name = siam_events.7.b # Rifle Plox
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_PRAJADHIPOK }
					has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_KHANARATSADON }
				}
			}
		}
		modify_country_flag = {
			flag = SIA_reform_progress
			value = 1
		}
		add_timed_idea = {
			idea = SIA_military_expense_cut_rifle
			days = 1080
		}
		add_political_power = -25
		add_stability = -0.01
		hidden_effect = {
			activate_targeted_decision = { decision = SIA_resume_research_funding target = SIA }
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.7 option siam_events.7.c"
		name = siam_events.7.c # Keep Carry On!
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_KHANARATSADON }
			}
		}
		modify_country_flag = {
			flag = SIA_reform_progress
			value = 2
		}
		add_political_power = -100
		add_stability = -0.02
	}
	after = {
		set_country_flag = SIA_BM3
	}
}

country_event = { # Emergency Tax
	id = siam_events.8
	title = siam_events.8.t
	desc = siam_events.8.d
	picture = GFX_report_event_SIA_Anatasamakhom_Parliament_Protest

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.8 option siam_events.8.a"
		name = siam_events.8.a # Income Tax for All :v
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_PRAJADHIPOK }
			}
		}
		add_political_power = 50
		add_stability = -0.03
	}
	option = {
		log = "[GetLogInfo]: event siam_events.8 option siam_events.8.b"
		name = siam_events.8.b # Inheritance Tax
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_PRAJADHIPOK }
					has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_KHANARATSADON }
				}
			}
		}
		modify_country_flag = {
			flag = SIA_reform_progress
			value = 1
		}
		add_political_power = 10
		add_stability = -0.01
	}
	option = {
		log = "[GetLogInfo]: event siam_events.8 option siam_events.8.c"
		name = siam_events.8.c # Gambling allow again
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_constitution option = SIA_CONSTITUTION_KHANARATSADON }
			}
		}
		modify_country_flag = {
			flag = SIA_reform_progress
			value = 1
		}
		add_political_power = 30
		add_stability = -0.02
	}
	after = {
		set_country_flag = SIA_BM4
	}
}

country_event = { # Rama VII's Fate whether coup or not
	id = siam_events.9
	hidden = yes

	trigger = {
		OR = {
			date < 1936.6.28
			AND = {
				has_country_flag = SIA_BM1
				has_country_flag = SIA_BM2
				has_country_flag = SIA_BM3
				has_country_flag = SIA_BM4
			}
		}
	}

	is_triggered_only = yes

	option = { # Coup
		log = "[GetLogInfo]: event siam_events.9 option 1"
		trigger = {
			has_country_flag = {
				flag = SIA_reform_progress
				value < 5 # 4
			}
		}
		set_country_flag = SIA_KHANA_RATSADON_COUP
		news_event = { id = siam_events.200 days = 2 }
		country_event = { id = siam_events.10 days = 1 }
	}
	option = { # Reform
		log = "[GetLogInfo]: event siam_events.9 option 2"
		trigger = {
			has_country_flag = {
				flag = SIA_reform_progress
				value > 4 # 5++
			}
		}
		set_country_flag = SIA_CONSTITUTION_GIVEN
		news_event = { id = siam_events.201 days = 2 }
		country_event = { id = siam_events.11 days = 1 }
	}
	after = {
		clr_country_flag = SIA_BM1
		clr_country_flag = SIA_BM2
		clr_country_flag = SIA_BM3
		clr_country_flag = SIA_BM4
	}
}
country_event = { # Khana Ratsadon's Provisional Government
	id = siam_events.10
	title = siam_events.10.t
	desc = siam_events.10.d
	picture = GFX_report_event_SIA_1932_Revolution_Declaration

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		hidden_effect = {
			country_event = { id = siam_events.59 days = 365 } # Annual Constitution Day
			country_event = { id = siam_events.57 days = 1820 } # 5y - New Monument
		}
		if = {
			limit = { has_global_flag = allow_sound_events_flag }
			hidden_effect = { scoped_play_song = our_homeland }
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.10 option siam_events.10.a"
		name = siam_events.10.a
		SIA = {
			add_stability = 0.20
			SIA_setup_Khana_Ratsadon_government = yes
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_democrat }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_liberal }
			add_to_coalition = yes
			SIA_remove_royal_titles = yes
			complete_national_focus = SIA_khana_ratsadon
		}
	}
}
country_event = { # Prajadhipok's Provisional Government
	id = siam_events.11
	title = siam_events.11.t
	desc = siam_events.11.d
	picture = GFX_report_event_SIA_Rama_7_Constitution

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		hidden_effect = {
			country_event = { id = siam_events.53 days = 90 } # King Prajadhipok's New Orchestral Piece"
			country_event = { id = siam_events.57 days = 1820 } # 5y - New Monument
			country_event = { id = siam_events.59 days = 365 } # Annual Constitution Day
		}
		if = {
			limit = { has_global_flag = allow_sound_events_flag }
			hidden_effect = { scoped_play_song = khapmai_bantho }
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.11 option siam_events.11.a"
		name = siam_events.11.a
		SIA = {
			add_stability = 0.20
			custom_effect_tooltip = SIA_election_12_months_tt
			SIA_setup_Khanagummakarn_Ratsadon_government = yes
			set_politics = {
				ruling_party = authoritarian_democrat
				last_election = 1936.6.24 # Since the Siamese Revolution - just place here to prevent all the date fck-up
				election_frequency = 12 # 1937 Election in 12 Months
				elections_allowed = yes
			}
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:paternal_autocrat }
			add_to_coalition = yes
			set_country_flag = SIA_PRAJADHIPOK_REFORM # TEMPORARY
			complete_national_focus = SIA_prajadhipokreform
		}
	}
}

### Khana Ratsaon's 1936 Election Events ###

country_event = { # Pridi and his Yellow Cover Book
	id = siam_events.12
	title = siam_events.12.t
	desc = siam_events.12.d
	picture = GFX_report_event_SIA_Cabinet_1941

	trigger = {
		has_country_flag = SIA_KHANA_RATSADON_COUP
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.12 option siam_events.12.a"
		name = siam_events.12.a # Agree with Pridi
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_RADSOC }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = SIA_1936_ELECTION
				}
			}
			set_country_flag = SIA_1936_ELECTION
			custom_effect_tooltip = SIA_election_3_months_tt
			hidden_effect = {
				set_politics = {
					ruling_party = authoritarian_democrat
					last_election = 1936.7.25 # Since [today] - just place here to prevent all the date fck-up
					election_frequency = 3 # 1936 Election in 3 Months
					elections_allowed = yes
				}
				set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
				add_to_coalition = yes
				set_temp_variable = { coalition_partner_var = token:social_democrat }
				add_to_coalition = yes
				set_temp_variable = { coalition_partner_var = token:social_liberal }
				add_to_coalition = yes
			}
		}
		SIA = {
			add_popularity = {
				ideology = social_democrat
				popularity = 0.10
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.02
			}
			add_popularity = {
				ideology = syndicalist
				popularity = 0.03
			}
			add_stability = -0.02
			set_country_flag = SIA_no_civil_war
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.12 option siam_events.12.b"
		name = siam_events.12.b # Write an reply
		ai_chance = { base = 60 }
		add_stability = 0.01
		SIA = {
			country_event = { id = siam_events.13 days = 3 }
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.12 option siam_events.12.c"
		name = siam_events.12.c # Arrest the Syndies!
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NO }
			}
		}
		SIA = {
			country_event = { id = siam_events.15 days = 3 }
		}
	}
}

country_event = { # Prajadhipok strikes back!
	id = siam_events.13
	title = siam_events.13.t
	desc = siam_events.13.d
	picture = GFX_report_event_SIA_Rama_7_Constitution_2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.13 option siam_events.13.a"
		name = siam_events.13.a # Pridi backs down
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_RADSOC }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = SIA_1936_ELECTION
				}
			}
			set_country_flag = SIA_1936_ELECTION
			custom_effect_tooltip = SIA_election_3_months_tt
			hidden_effect = {
				set_politics = {
					ruling_party = authoritarian_democrat
					last_election = 1936.7.28 # Since [today] - just place here to prevent all the date fck-up
					election_frequency = 3 # 1936 Election in 3 Months
					elections_allowed = yes
				}
				set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
				add_to_coalition = yes
				set_temp_variable = { coalition_partner_var = token:social_democrat }
				add_to_coalition = yes
				set_temp_variable = { coalition_partner_var = token:social_liberal }
				add_to_coalition = yes
			}
		}
		SIA = {
			add_popularity = {
				ideology = social_democrat
				popularity = 0.04
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.01
			}
			add_popularity = {
				ideology = syndicalist
				popularity = 0.01
			}
			add_stability = -0.01
			set_country_flag = SIA_no_civil_war
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.13 option siam_events.13.b"
		name = siam_events.13.b # Sue Prajadhoipok in a Lawsuit
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NO }
			}
		}
		SIA = {
			country_event = { id = siam_events.14 days = 3 }
		}
	}
}

country_event = { # Prajadhipok sued!
	id = siam_events.14
	title = siam_events.14.t
	desc = siam_events.14.d
	picture = GFX_report_event_SIA_Anatasamakhom_Parliament_Protest

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.14 option siam_events.14.a"
		name = siam_events.14.a # Reconcilation
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_RADSOC }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = SIA_1936_ELECTION
				}
			}
			set_country_flag = SIA_1936_ELECTION
			custom_effect_tooltip = SIA_election_3_months_tt
			hidden_effect = {
				set_politics = {
					ruling_party = authoritarian_democrat
					last_election = 1936.7.31 # Since [today] - just place here to prevent all the date fck-up
					election_frequency = 3 # 1936 Election in 3 Months
					elections_allowed = yes
				}
				set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
				add_to_coalition = yes
				set_temp_variable = { coalition_partner_var = token:social_democrat }
				add_to_coalition = yes
				set_temp_variable = { coalition_partner_var = token:social_liberal }
				add_to_coalition = yes
			}
		}
		SIA = {
			add_stability = -0.03
			add_popularity = {
				ideology = social_democrat
				popularity = 0.03
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.03
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.03
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.03
			}
			set_country_flag = SIA_no_civil_war
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.14 option siam_events.14.b"
		name = siam_events.14.b # Arrest the Syndies!
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NO }
			}
		}
		SIA = {
			country_event = { id = siam_events.15 days = 2 }
		}
	}
}

country_event = { # Luang Phibunsongkhram's Dilemma
	id = siam_events.15
	title = siam_events.15.t
	desc = siam_events.15.d
	picture = GFX_report_event_SIA_Checking_Out_Troops

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_politics = {
				ruling_party = authoritarian_democrat
				last_election = 1936.8.2 # Since [today] - just place here to prevent all the date fck-up
				elections_allowed = no
			}
			end_coalition = yes
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.15 option siam_events.15.a"
		name = siam_events.15.a # Parliamentarians
		ai_chance = {
			base = 45
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_RADSOC }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
				}
			}
		}
		country_event = { id = siam_events.16 days = 3 }
		country_event = { id = siam_events.17 days = 1 }
		SIA = {
			add_popularity = {
				ideology = paternal_autocrat
				popularity = -0.03
			}
			add_popularity = {
				ideology = national_populist
				popularity = -0.03
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.03
			}
			add_popularity = {
				ideology = social_conservative
				popularity = -0.01
			}
			hidden_effect = {
				set_party_name = { # Khana Gubarn Gumueang
					ideology = paternal_autocrat
					long_name = SIA_paternal_autocrat_party_CW_long
					name = SIA_paternal_autocrat_party_CW
				}
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.15 option siam_events.15.b"
		name = siam_events.15.b # Royalist
		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
				}
			}
		}
		set_global_flag = SIA_phibunsongkhram_is_royalist
		country_event = { id = siam_events.16 days = 3 }
		country_event = { id = siam_events.17 days = 1 }
		SIA = {
			add_popularity = {
				ideology = totalist
				popularity = -0.03
			}
			add_popularity = {
				ideology = syndicalist
				popularity = -0.03
			}
			add_popularity = {
				ideology = social_democrat
				popularity = -0.01
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = -0.03
			}
			hidden_effect = {
				set_party_name = { # Khana Pokpong Prachathipatai
					ideology = radical_socialist
					long_name = SIA_radical_socialist_party_CW_long
					name = SIA_radical_socialist_party_CW
				}
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.15 option siam_events.15.c"
		name = siam_events.15.c # Coup d'etat - temporary power
		news_event = { id = siam_events.204 days = 3 }
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_RADSOC }
				}
			}
		}
		SIA = {
			custom_effect_tooltip = SIA_martial_law_2_months_tt
			add_stability = -0.15
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.20
			}
			activate_advisor = SIA_plaek_phibunsongkhram_sic
			country_event = { id = siam_events.22 days = 60 }
			set_country_flag = SIA_no_civil_war
		}
	}
}

country_event = { # War it is then (All)
	id = siam_events.16
	title = siam_events.16.t
	desc = {
		text = siam_events.16.ppd
		trigger = { NOT = { has_global_flag = SIA_phibunsongkhram_is_royalist } }
	}
	desc = {
		text = siam_events.16.prd
		trigger = { has_global_flag = SIA_phibunsongkhram_is_royalist }
	}
	immediate = {
		if = {
			limit = { has_global_flag = allow_sound_events_flag }
			hidden_effect = { scoped_play_song = mueng_kangwon }
		}
	}
	picture = GFX_report_event_SIA_Boworadet_MG_Truck

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.16 option siam_events.16.ppa"
		name = siam_events.16.ppa # Plaek Parliamentarians
		trigger = {
			NOT = { has_global_flag = SIA_phibunsongkhram_is_royalist }
		}

		ai_chance = { # Not needed, but skewed the AI towards playing as gov side
			base = 35
		}

		news_event = { id = siam_events.202 days = 3 }
		SIA = { # Parliamentarians Gov
			custom_effect_tooltip = SIA_government_unit_tt
			custom_effect_tooltip = SIA_parliamentary_unit_tt
		}
		effect_tooltip = {
			start_civil_war = { ideology = paternal_autocrat }
		}
		hidden_effect = { SIA_setup_for_SIACW_government = yes }
	}
	option = {
		log = "[GetLogInfo]: event siam_events.16 option siam_events.16.ppb"
		name = siam_events.16.ppb # Rebel Royalist
		trigger = {
			NOT = { has_global_flag = SIA_phibunsongkhram_is_royalist }
		}

		ai_chance = { # Not needed, but skewed the AI towards playing as gov side
			base = 15
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PATAUT }
			}
		}

		news_event = { id = siam_events.202 days = 3 }
		SIA = { # Rebel Royalist
			custom_effect_tooltip = SIA_royalist_unit_tt
			custom_effect_tooltip = SIA_seperatist_unit_tt
		}
		effect_tooltip = {
			start_civil_war = {
				ruling_party = paternal_autocrat
				ideology = authoritarian_democrat
			}
		}
		hidden_effect = { SIA_setup_for_SIACW_rebel = yes }
	}
	option = {
		log = "[GetLogInfo]: event siam_events.16 option siam_events.16.pra"
		name = siam_events.16.pra # Rebel Parliamentarians
		trigger = {
			has_global_flag = SIA_phibunsongkhram_is_royalist
		}

		ai_chance = { # Not needed, but skewed the AI towards playing as gov side
			base = 15
		}

		news_event = { id = siam_events.203 days = 3 }
		SIA = { # Rebel Parliamentarians
			custom_effect_tooltip = SIA_seperatist_unit_tt
			custom_effect_tooltip = SIA_parliamentary_unit_tt
		}
		effect_tooltip = {
			start_civil_war = {
				ruling_party = radical_socialist
				ideology = authoritarian_democrat
			}
		}
		hidden_effect = { SIA_setup_for_SIACW_rebel = yes }
	}
	option = {
		log = "[GetLogInfo]: event siam_events.16 option siam_events.16.prb"
		name = siam_events.16.prb # Plaek Royalist
		trigger = {
			has_global_flag = SIA_phibunsongkhram_is_royalist
		}

		ai_chance = { # Not needed, but skewed the AI towards playing as gov side
			base = 35
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_RADSOC }
			}
		}

		news_event = { id = siam_events.203 days = 3 }
		SIA = { # Royalist Gov
			custom_effect_tooltip = SIA_royalist_unit_tt
			custom_effect_tooltip = SIA_government_unit_tt
		}
		effect_tooltip = {
			start_civil_war = { ideology = radical_socialist }
		}
		hidden_effect = { SIA_setup_for_SIACW_government = yes }
	}
}

country_event = { # RSN to sits out the conflict
	id = siam_events.17
	immediate = {
		SiaCW_navy_redistribution = yes
	}
	title = siam_events.17.t
	desc = siam_events.17.d
	picture = GFX_report_event_SIA_RSN_sailor

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event siam_events.17 option siam_events.17.a"
		name = siam_events.17.a # Oh well
		custom_effect_tooltip = SIA_naval_dissolution_tt
	}
}

country_event = { # We reclaimed Bangkok (Rebel)
	id = siam_events.18
	title = siam_events.18.t
	desc = siam_events.18.d
	picture = GFX_report_event_SIA_SPAAG_Parade_Grand_Palace

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		original_tag = SIA
		has_civil_war = yes
		has_country_flag = SIA_REBEL # We're the Rebels
		controls_state = 289 # Bangkok reclaimed
	}

	option = {
		log = "[GetLogInfo]: event siam_events.18 option siam_events.18.a"
		name = siam_events.18.a # They surrendered (Royalist)
		trigger = {
			NOT = { has_global_flag = SIA_phibunsongkhram_is_royalist }
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.18 option siam_events.18.b"
		name = siam_events.18.b # They surrendered (radical_socialist)
		trigger = {
			has_global_flag = SIA_phibunsongkhram_is_royalist
		}
	}
	after = {
		hidden_effect = {
			random_country_with_original_tag = {
				original_tag_to_check = SIA
				limit = {
					has_war_with = ROOT
					is_ai = yes #don't kill the player
				}
				force_capitulate = yes
			}
		}
	}
}

country_event = { # RSN control reestablish
	id = siam_events.19
	title = siam_events.19.t
	desc = siam_events.19.d
	picture = GFX_report_event_SIA_RSN_navy

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event siam_events.19 option siam_events.19.a"
		name = siam_events.19.a # Oh well
		custom_effect_tooltip = SIA_naval_reestablish_control_tt
		hidden_effect = {
			load_oob = SIA_naval_restore
		}
	}
}

country_event = { # Civil War Ends
	id = siam_events.20
	title = siam_events.20.t

	desc = {
		text = siam_events.20.d.government_parliamentarian
		trigger = {
			NOT = {
				has_country_flag = SIA_REBEL
				has_global_flag = SIA_phibunsongkhram_is_royalist
			}
		}
	}
	desc = {
		text = siam_events.20.d.government_royalist
		trigger = {
			NOT = { has_country_flag = SIA_REBEL }
			has_global_flag = SIA_phibunsongkhram_is_royalist
		}
	}
	desc = {
		text = siam_events.20.d.rebel_parliamentarian
		trigger = {
			has_country_flag = SIA_REBEL
			has_global_flag = SIA_phibunsongkhram_is_royalist
		}
	}
	desc = {
		text = siam_events.20.d.rebel_royalist
		trigger = {
			has_country_flag = SIA_REBEL
			NOT = { has_global_flag = SIA_phibunsongkhram_is_royalist }
		}
	}

	picture = GFX_report_event_SIA_SPAAG_Parade_Grand_Palace

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		hidden_effect = {
			activate_targeted_decision = { decision = SIA_tarutao target = ROOT }
			activate_targeted_decision = { decision = SIA_recrew_the_navy target = ROOT }
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.20 option siam_events.20.a"
		name = siam_events.20.a
		trigger = {
			NOT = {
				has_country_flag = SIA_REBEL
				has_global_flag = SIA_phibunsongkhram_is_royalist
			}
		}
		add_stability = 0.05
		set_capital = { state = 289 remember_old_capital = no } # Bangkok
		SIA_setup_Parliamentarians_government = yes
		hidden_effect = { news_event = siam_events.208 }
	}

	option = {
		log = "[GetLogInfo]: event siam_events.20 option siam_events.20.b"
		name = siam_events.20.b
		trigger = {
			NOT = { has_country_flag = SIA_REBEL }
			has_global_flag = SIA_phibunsongkhram_is_royalist
		}
		add_stability = 0.05
		set_capital = { state = 289 remember_old_capital = no } # Bangkok
		SIA_setup_Royalists_government = yes
		hidden_effect = { news_event = siam_events.208 }
	}

	option = {
		log = "[GetLogInfo]: event siam_events.20 option siam_events.20.c"
		name = siam_events.20.c
		trigger = {
			has_country_flag = SIA_REBEL
			NOT = { has_global_flag = SIA_phibunsongkhram_is_royalist }
		}
		add_stability = 0.05
		set_capital = { state = 289 remember_old_capital = no } # Bangkok
		SIA_setup_Boworadet_government = yes
		hidden_effect = {
			news_event = siam_events.207
			if = {
				limit = { country_exists = INC } # If INC exists
				INC = { country_event = { id = siam_events.51 days = 3 random_days = 2 } }
			}
		}
		if = {
			limit = { has_global_flag = allow_sound_events_flag }
			hidden_effect = { scoped_play_song = damrong_march }
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.20 option siam_events.20.d"
		name = siam_events.20.d
		trigger = {
			has_country_flag = SIA_REBEL
			has_global_flag = SIA_phibunsongkhram_is_royalist
		}
		add_stability = 0.05
		set_capital = { state = 289 remember_old_capital = no } # Bangkok
		SIA_setup_RadSoc_government = yes
		hidden_effect = { news_event = siam_events.206 }
		if = {
			limit = { has_global_flag = allow_sound_events_flag }
			hidden_effect = { scoped_play_song = waltz_nawee }
		}
	}
}

country_event = { # Down the NatPop path or liberalise?
	id = siam_events.22
	title = siam_events.22.t
	desc = siam_events.22.d
	picture = GFX_report_event_SIA_Phibun_Inauguration

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.22 option siam_events.22.a"
		name = siam_events.22.a # Free Election
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
				}
			}
		}
		SIA = {
			add_stability = 0.20
			if = {
				limit = {
					NOT = {
						has_country_flag = SIA_1936_ELECTION
					}
				}
				set_country_flag = SIA_1936_ELECTION
				custom_effect_tooltip = SIA_election_1_months_tt
				hidden_effect = {
					set_politics = {
						ruling_party = authoritarian_democrat
						election_frequency = 1 # 1936 Election in 1 Month
						elections_allowed = yes
					}
					set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
					add_to_coalition = yes
					set_temp_variable = { coalition_partner_var = token:social_democrat }
					add_to_coalition = yes
					set_temp_variable = { coalition_partner_var = token:social_liberal }
					add_to_coalition = yes
				}
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.10
			}
			add_popularity = {
				ideology = social_democrat
				popularity = 0.04
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.05
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.04
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.03
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.22 option siam_events.22.b"
		name = siam_events.22.b # NatPop Path
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_election option = SIA_ELECTION_SOCLIB }
					has_game_rule = { rule = SIA_election option = SIA_ELECTION_SOCDEM }
					has_game_rule = { rule = SIA_election option = SIA_ELECTION_SOCCON }
				}
			}
		}
		SIA = {
			custom_effect_tooltip = SIA_phibun_coup_tt
			SIA_setup_Phibun_government = yes
			add_stability = 0.15
			complete_national_focus = SIA_iron_marshal
		}
		if = {
			limit = { has_global_flag = allow_sound_events_flag }
			hidden_effect = { scoped_play_song = dern }
		}
	}
}

country_event = { # 1936 General Election
	id = siam_events.23
	title = siam_events.23.t
	desc = {
		text = siam_events.23.d.syn
		trigger = {
			has_country_flag = SIA_royalist_purge_pol
		}
	}
	desc = {
		text = siam_events.23.d.con
		trigger = {
			has_country_flag = SIA_syndie_purge_pol
		}
	}
	desc = {
		text = siam_events.23.d.norm
		trigger = {
			NOT = {
				has_country_flag = SIA_syndie_purge_pol
				has_country_flag = SIA_royalist_purge_pol
			}
		}
	}
	picture = GFX_report_event_SIA_Election

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		tag = SIA
		date > 1936.1.1
	}

	immediate = {
		hidden_effect = {
			SIA_demobilize_forces = yes
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.23 option siam_events.23.a"
		name = siam_events.23.a # SocLib
		ai_chance = {
			base = 33
			modifier = {
				factor = 5
				has_government = social_liberal
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_election option = SIA_ELECTION_SOCDEM }
					has_game_rule = { rule = SIA_election option = SIA_ELECTION_SOCCON }
				}
			}
		}
		SIA = {
			add_stability = 0.10
			SIA_setup_Elected_Liberal_government = yes
			complete_national_focus = SIA_aliberalsiam
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.23 option siam_events.23.b"
		name = siam_events.23.b # SocDem
		trigger = {
			NOT = {
				has_country_flag = SIA_syndie_purge_pol
			}
		}
		ai_chance = {
			base = 33
			modifier = {
				factor = 5
				has_government = social_democrat
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_election option = SIA_ELECTION_SOCLIB }
					has_game_rule = { rule = SIA_election option = SIA_ELECTION_SOCCON }
				}
			}
		}
		SIA = {
			add_stability = 0.10
			SIA_setup_Elected_SocDem_government = yes
			complete_national_focus = SIA_yellowcoverdossier
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.23 option siam_events.23.c"
		name = siam_events.23.c # SocCon
		trigger = {
			NOT = {
				has_country_flag = SIA_royalist_purge_pol
			}
		}
		ai_chance = {
			base = 33
			modifier = {
				factor = 5
				has_government = social_conservative
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_election option = SIA_ELECTION_SOCLIB }
					has_game_rule = { rule = SIA_election option = SIA_ELECTION_SOCDEM }
				}
			}
		}
		SIA = {
			add_stability = 0.10
			SIA_setup_Elected_Conservative_government = yes
			complete_national_focus = SIA_halfleafdemocracy
		}
	}
}

### Phibunsongkhram's Industrial Nationalisation attempt ###

country_event = { # What whould we do with the Germans factories?
	id = siam_events.26
	title = siam_events.26.t
	desc = siam_events.26.d
	picture = GFX_report_event_SIA_Parliament

	trigger = {
		exists = yes #needed to prevent issues with complete_national_focus synchronisation
	}

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				GER = {
					exists = yes
					has_socialist_government = no
				}
			}
			GER = { save_event_target_as = germany }
		}
		else_if = {
			limit = {
				GEX = {
					exists = yes
					has_socialist_government = no
				}
			}
			GEX = { save_event_target_as = germany }
		}
	}

	option = { # Full Nationalisation
		log = "[GetLogInfo]: event siam_events.26 option siam_events.26.a"
		name = siam_events.26.a
		ai_chance = { base = 20 }
		add_stability = 0.03
		SIA_nationalisation_german_effect = yes
		hidden_effect = { country_event = siam_events.28 }
	}

	option = { # Offer them compensation money
		log = "[GetLogInfo]: event siam_events.26 option siam_events.26.b"
		name = siam_events.26.b
		ai_chance = { base = 60 }
		add_political_power = -80
		hidden_effect = { country_event = siam_events.28 } #needs to come before the event target
		save_event_target_as = SIA_compensation
		SIA_nationalisation_german_effect = yes
	}

	option = { # Let's ignore their business for the moment
		log = "[GetLogInfo]: event siam_events.26 option siam_events.26.c"
		name = siam_events.26.c
		ai_chance = { base = 20 }
		add_stability = -0.01
		save_event_target_as = SIA_germany_not_nationalised
		hidden_effect = { country_event = siam_events.28 }
	}
}
country_event = { # Seizure of our factories in Siam
	id = siam_events.27
	title = siam_events.27.t

	desc = { # Bastards!
		text = siam_events.27.d.bast
		trigger = { NOT = { has_event_target = SIA_compensation } }
	}
	desc = { # Compensations
		text = siam_events.27.d.comp
		trigger = { has_event_target = SIA_compensation }
	}

	picture = GFX_report_event_SIA_Railway_Tourism_2

	is_triggered_only = yes

	option = { # Those Bastards!
		log = "[GetLogInfo]: event siam_events.27 option siam_events.27.a"
		name = siam_events.27.a
		trigger = { NOT = { has_event_target = SIA_compensation } }
	}
	option = { # At least they did gave us compensations
		log = "[GetLogInfo]: event siam_events.27 option siam_events.27.b"
		name = siam_events.27.b
		trigger = { has_event_target = SIA_compensation }
		add_timed_idea = {
			idea = SIA_IndNat_Income
			days = 60
		}
	}
}

country_event = { # What whould we do with the American factories?
	id = siam_events.28
	title = siam_events.28.t
	desc = siam_events.28.d
	picture = GFX_report_event_SIA_Parliament

	is_triggered_only = yes

	immediate = {
		if = {
			limit = { NOT = { country_exists = USA } }
			if = {
				limit = { country_exists = ACC }
				ACC = { save_event_target_as = america }
			}
			else_if = {
				limit = { country_exists = NEE }
				NEE = { save_event_target_as = america }
			}
			else_if = {
				limit = { country_exists = APG }
				APG = { save_event_target_as = america }
			}
		}
		else = {
			USA = { save_event_target_as = america }
		}
	}

	option = { # Full Nationalisation
		log = "[GetLogInfo]: event siam_events.28 option siam_events.26.a"
		name = siam_events.26.a
		ai_chance = { base = 20 }
		add_stability = 0.03
		SIA_nationalisation_american_effect = yes
		hidden_effect = { country_event = siam_events.29 }
	}

	option = { # Offer them compensation money
		log = "[GetLogInfo]: event siam_events.28 option siam_events.26.b"
		name = siam_events.26.b
		ai_chance = { base = 60 }
		add_political_power = -30
		hidden_effect = { country_event = siam_events.29 } #needs to come before the event target

		save_event_target_as = SIA_compensation
		SIA_nationalisation_american_effect = yes
	}

	option = {
		log = "[GetLogInfo]: event siam_events.28 option siam_events.26.c"
		name = siam_events.26.c # Let's ignore their business for the moment
		ai_chance = { base = 20 }
		add_stability = -0.01
		save_event_target_as = SIA_america_not_nationalised
		hidden_effect = { country_event = siam_events.29 }
	}
}

country_event = { # What whould we do with the Canadian factories?
	id = siam_events.29
	title = siam_events.29.t
	desc = siam_events.29.d
	picture = GFX_report_event_SIA_Parliament

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				GBR = {
					exists = yes
					has_socialist_government = no
				}
			}
			GBR = { save_event_target_as = britain }
		}
		else_if = {
			limit = {
				CAN = {
					exists = yes
					has_socialist_government = no
					CAN_is_dominion = yes
				}
			}
			CAN = { save_event_target_as = britain }
		}
		else_if = {
			limit = {
				AST = {
					exists = yes
					has_socialist_government = no
					AST_is_dominion = yes
				}
			}
			AST = { save_event_target_as = britain }
		}
	}

	option = { # Full Nationalisation
		log = "[GetLogInfo]: event siam_events.29 option siam_events.26.a"
		name = siam_events.26.a
		ai_chance = { base = 20 }
		add_stability = 0.03
		SIA_nationalisation_british_effect = yes
		hidden_effect = { country_event = siam_events.30 }
	}

	option = { # Offer them compensation money
		log = "[GetLogInfo]: event siam_events.29 option siam_events.26.b"
		name = siam_events.26.b
		ai_chance = { base = 60 }
		add_political_power = -50
		hidden_effect = { country_event = siam_events.30 } #needs to come before the event target

		save_event_target_as = SIA_compensation
		SIA_nationalisation_british_effect = yes
	}

	option = { # Let's ignore their business for the moment
		log = "[GetLogInfo]: event siam_events.29 option siam_events.26.c"
		name = siam_events.26.c
		ai_chance = { base = 20 }
		add_stability = -0.01
		save_event_target_as = SIA_britain_not_nationalised
		hidden_effect = { country_event = siam_events.30 }
	}
}

country_event = { # What whould we do with the Japanese-owned iron mines?
	id = siam_events.30
	title = siam_events.30.t
	desc = siam_events.30.d
	picture = GFX_report_event_SIA_Parliament

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_country_with_original_tag = {
				original_tag_to_check = JAP
				limit = {
					exists = yes
					has_socialist_government = no
				}
				save_event_target_as = japan
			}
		}
	}

	option = { # Full Nationalisation
		log = "[GetLogInfo]: event siam_events.30 option siam_events.26.a"
		name = siam_events.26.a
		ai_chance = { base = 20 }
		add_stability = 0.03
		SIA_nationalisation_japanese_effect = yes
	}

	option = { # Offer them compensation money
		log = "[GetLogInfo]: event siam_events.30 option siam_events.26.b"
		name = siam_events.26.b
		ai_chance = { base = 60 }
		add_political_power = -50
		save_event_target_as = SIA_compensation
		SIA_nationalisation_japanese_effect = yes
	}

	option = { # Let's ignore their business for the moment
		log = "[GetLogInfo]: event siam_events.30 option siam_events.26.c"
		name = siam_events.26.c
		ai_chance = { base = 20 }
		add_stability = -0.01
		save_event_target_as = SIA_japan_not_nationalised
	}

	after = {
		hidden_effect = {
			country_event = { id = siam_events.31 days = 2 random_days = 2 }
		}
	}
}

country_event = { # Phibun's Weak Foreign Policy
	id = siam_events.31
	title = siam_events.31.t
	desc = siam_events.31.d
	picture = GFX_report_event_SIA_Privy_Council_Grand_Palace_1939

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_country_leader = { character = SIA_plaek_phibunsongkhram }
		count_triggers = {
			amount = 2
			has_event_target = SIA_germany_not_nationalised
			has_event_target = SIA_america_not_nationalised
			has_event_target = SIA_britain_not_nationalised
			has_event_target = SIA_japan_not_nationalised
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.31 option siam_events.31.a"
		name = siam_events.31.a #	Damn It!
		add_stability = -0.03
		set_country_flag = SIA_nationalisation_cowardice_flag
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.05
		}
		add_popularity = {
			ideology = national_populist
			popularity = -0.10
		}
	}
}

### 37th Siamese-Burmese War (Intiated by Plaek Phibunsongkhram's NatPop faction) ###
country_event = { # Attack Burma or Not? - Plaek not only Protecc but also Attacc here :v
	id = siam_events.32
	title = siam_events.32.t
	desc = siam_events.32.d
	picture = GFX_report_event_SIA_Police_1936

	is_triggered_only = yes

	trigger = {
		exists = yes #needed to prevent issues with complete_national_focus synchronisation
		can_declare_war_on = BRM
		BRM = {
			is_subject = no
			is_in_faction = no
		}
		focus_progress = {
			focus = SIA_yuwachontaharn
			progress > 0.5
		}
	}

	option = { # War (Being called Cowards before)
		log = "[GetLogInfo]: event siam_events.32 option siam_events.32.a"
		name = siam_events.32.a
		trigger = {
			has_country_flag = SIA_nationalisation_cowardice_flag
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP } }
				NOT = { has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT } }
				NOT = { has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP } }
				OR = {
					country_is_in_dangerous_war = yes
					FROM = { default_attack_AI_trigger = yes }
				}
			}
		}
		declare_war_on = {
			target = BRM
			type = annex_everything
		}
		add_stability = 0.05
		add_war_support = 0.10
		hidden_effect = {
			BRM = {
				set_country_flag = SIA_Siamese_Burmese_War
				country_event = { id = siam_events.33 days = 1 }
			}
			news_event = { id = siam_events.205 days = 1 }
		}
	}
	option = { # War (Normal)
		log = "[GetLogInfo]: event siam_events.32 option siam_events.32.b"
		name = siam_events.32.b
		trigger = {
			NOT = { has_country_flag = SIA_nationalisation_cowardice_flag }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP } }
				NOT = { has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT } }
				NOT = { has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP } }
				OR = {
					country_is_in_dangerous_war = yes
					FROM = { default_attack_AI_trigger = yes }
				}
			}
		}
		declare_war_on = {
			target = BRM
			type = annex_everything
		}
		add_stability = 0.03
		add_war_support = 0.15
		hidden_effect = {
			BRM = {
				set_country_flag = SIA_Siamese_Burmese_War
				country_event = { id = siam_events.33 days = 1 }
			}
			news_event = { id = siam_events.205 days = 1 }
		}
	}
	option = { # No War
		log = "[GetLogInfo]: event siam_events.32 option siam_events.32.c"
		name = siam_events.32.c
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
				}
			}
		}
		add_stability = -0.03
		set_country_flag = SIA_angry_Nationalist
	}
}

country_event = { # War begins (events triggered for Burma)
	id = siam_events.33
	title = siam_events.33.t
	desc = siam_events.33.d
	picture = GFX_report_event_SIA_Phayap_Army_Ha_Go_Tank_Shan

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.33 option siam_events.33.a"
		name = siam_events.33.a # Diversion Rebellion a Success!
		trigger = {
			NOT = {
				SIA = {
					has_completed_focus = SIA_SDSI
				}
			}
		}
		add_stability = 0.10
		add_war_support = 0.10
		custom_override_tooltip = {
			tooltip = {
				localization_key = tooltip_create_division_template
				NAME = "Rebel Militia"
				LINE_1 = { localization_key = line_battalion_tt NAME = irregular_infantry ICON = GFX_unit_irregular_infantry_icon_small COUNT = 5 }
			}
			if = {
				limit = { has_template = "Rebel Militia" }
				delete_unit_template_and_units = { division_template = "Rebel Militia" disband = yes } #no cheating
			}
			division_template = {
				name = "Rebel Militia"
				division_names_group = BRM_MIL_01
				regiments = {
					irregular_infantry = { x = 0 y = 0 }
					irregular_infantry = { x = 0 y = 1 }
					irregular_infantry = { x = 0 y = 2 }
					irregular_infantry = { x = 0 y = 3 }
					irregular_infantry = { x = 1 y = 0 }
				}
			}
		}
		custom_effect_tooltip = tooltip_white_line
		# Spawned in enemy siamese provinces
		831 = { #Moulmein
			custom_override_tooltip = {
				tooltip = {
					localization_key = tooltip_spawn_unit
					TYPE = "Rebel Militia"
				}
				create_unit = {
					division = "name = \"Maylaymyine Rebels\" division_template = \"Rebel Militia\""
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 1403
					owner = ROOT
				}
			}
		}
		749 = { #Tenasserim
			custom_override_tooltip = {
				tooltip = {
					localization_key = tooltip_spawn_unit
					TYPE = "Rebel Militia"
				}
				create_unit = {
					division = "name = \"Myeik Rebels\" division_template = \"Rebel Militia\" start_equipment_factor = 0.8"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 4275
					owner = ROOT
				}
			}
		}
		756 = { #Lower Shan
			custom_override_tooltip = {
				tooltip = {
					localization_key = tooltip_spawn_unit
					TYPE = "Rebel Militia"
				}
				create_unit = {
					division = "name = \"Kengtung Rebels\" division_template = \"Rebel Militia\""
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 7400
					owner = ROOT
				}
			}
		}
		288 = { #Rangoon
			custom_override_tooltip = {
				tooltip = {
					localization_key = tooltip_spawn_unit
					TYPE = "Rebel Militia"
				}
				create_unit = {
					division = "name = \"Toungoo Militia Division\" division_template = \"Rebel Militia\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 12256
					owner = ROOT
				}
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.33 option siam_events.33.a"
		name = siam_events.33.a # SDSI successfully fcked up Burmese planned Rebellion
		trigger = {
			SIA = {
				has_completed_focus = SIA_SDSI
			}
		}
		add_stability = 0.05
		add_war_support = -0.05
		custom_override_tooltip = {
			tooltip = {
				localization_key = tooltip_create_division_template
				NAME = "Rebel Militia"
				LINE_1 = { localization_key = line_battalion_tt NAME = irregular_infantry ICON = GFX_unit_irregular_infantry_icon_small COUNT = 5 }
			}
			if = {
				limit = { has_template = "Rebel Militia" }
				delete_unit_template_and_units = { division_template = "Rebel Militia" disband = yes } #no cheating
			}
			division_template = {
				name = "Rebel Militia"
				division_names_group = BRM_MIL_01
				regiments = {
					irregular_infantry = { x = 0 y = 0 }
					irregular_infantry = { x = 0 y = 1 }
					irregular_infantry = { x = 0 y = 2 }
					irregular_infantry = { x = 0 y = 3 }
					irregular_infantry = { x = 1 y = 0 }
				}
			}
		}
		custom_effect_tooltip = tooltip_white_line
		custom_override_tooltip = {
			tooltip = {
				localization_key = tooltip_create_division_template
				NAME = "Rebel Regiment"
				LINE_1 = { localization_key = line_battalion_tt NAME = irregular_infantry ICON = GFX_unit_irregular_infantry_icon_small COUNT = 3 }
			}
			if = {
				limit = { has_template = "Rebel Regiment" }
				delete_unit_template_and_units = { division_template = "Rebel Regiment" disband = yes } #no cheating
			}
			division_template = {
				name = "Rebel Regiment"
				division_names_group = BRM_MIL_01
				regiments = {
					irregular_infantry = { x = 0 y = 0 }
					irregular_infantry = { x = 0 y = 1 }
					irregular_infantry = { x = 0 y = 2 }
				}
			}
		}
		custom_effect_tooltip = tooltip_white_line
		288 = { #Rangoon
			custom_override_tooltip = {
				tooltip = {
					localization_key = tooltip_spawn_unit
					TYPE = "Rebel Militia"
				}
				create_unit = {
					division = "name = \"Toungoo Militia Division\" division_template = \"Rebel Militia\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 12256
					owner = ROOT
				}
			}
			custom_override_tooltip = {
				tooltip = {
					localization_key = tooltip_spawn_unit
					TYPE = "Rebel Regiment"
				}
				create_unit = {
					division = "name = \"Surviving Mawlaymyine Rebels\" division_template = \"Rebel Regiment\" start_experience_factor = 0.1 start_equipment_factor = 0.4"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 12127
					owner = ROOT
				}
			}
		}
		72 = { #Upper Shan
			custom_override_tooltip = {
				tooltip = {
					localization_key = tooltip_spawn_unit
					TYPE = "Rebel Regiment"
				}
				create_unit = {
					division = "name = \"Surviving Kengtung Rebels\" division_template = \"Rebel Regiment\" start_experience_factor = 0.1 start_equipment_factor = 0.4"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 7603
					owner = ROOT
				}
			}
		}
	}
}

country_event = { # Siamese wins the war
	id = siam_events.34
	title = siam_events.34.t
	desc = siam_events.34.d
	picture = GFX_report_event_SIA_Thai_Flag_Over_Kengtung_Shan

	fire_only_once = yes

	trigger = {
		tag = SIA
		has_war_with = BRM
		is_valid_peace_target = yes
		BRM = {
			is_valid_peace_target = yes
			has_country_flag = SIA_Siamese_Burmese_War
		}
		surrender_progress < 0.20
		OR = {
			AND = {
				controls_state = 72 # Upper Shan
				controls_state = 756 # Lower Shan
				controls_state = 831 # Moulmein
				controls_state = 288 # Rangoon
				controls_state = 640 # Mandalay
				controls_state = 749 # Tanaosri
			}
			BRM = { surrender_progress > 0.6 }
		}
	}

	mean_time_to_happen = {
		days = 10
	}

	option = {
		log = "[GetLogInfo]: event siam_events.34 option siam_events.34.a"
		name = siam_events.34.a #Let us claim Upper Shan and reunite the Tai race!
		ai_chance = { base = 20 }
		add_stability = 0.05
		add_war_support = 0.10
		add_state_claim = 72 # Upper Shan
		add_state_claim = 756 # Lower Shan
		add_state_claim = 831 # Morlamaeng
		BRM = {
			country_event = siam_events.35
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.34 option siam_events.34.b"
		name = siam_events.34.b #No peace with the Burmese, let us complete our conquest!
		ai_chance = { base = 80 }
		add_war_support = -0.05
	}
}

country_event = { # Burmese received the peace deal
	id = siam_events.35
	title = siam_events.35.t
	desc = siam_events.35.d
	picture = GFX_report_event_SIA_Phayap_Army_Infantry_Shan

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.35 option siam_events.35.a"
		name = siam_events.35.a #We yield because we have no other choice...
		ai_chance = {
			base = 90
			modifier = {
				factor = 0.5
				288 = { is_claimed_by = FROM }
			}
		}
		add_stability = 0.05
		add_war_support = -0.10
		FROM = { white_peace_with_ROOT = yes }
		every_owned_state = {
			limit = { is_claim_or_core_of_FROM = yes }
			transfer_state_to = FROM
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.35 option siam_events.35.b"
		name = siam_events.35.b #They must be joking, Kaba Ma Kyei!
		ai_chance = {
			base = 10
			modifier = {
				factor = 6
				288 = { is_claimed_by = FROM }
			}
		}
		add_stability = -0.20
		add_war_support = -0.05
		FROM = {
			country_event = { id = siam_events.36 days = 1 }
		}
	}
}

country_event = { # Burmese declined the peace deal
	id = siam_events.36
	title = siam_events.36.t
	desc = siam_events.36.d
	picture = GFX_report_event_SIA_Phayap_Army_Infantry_Shan

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.36 option siam_events.36.a"
		name = siam_events.36.a
		add_war_support = 0.10
	}
}

country_event = { # Burmese wins the war
	id = siam_events.37
	title = siam_events.37.t
	desc = siam_events.37.d
	picture = GFX_report_event_SIA_Boworadet_Nakhon_Ratchasima_Armoured_Car

	fire_only_once = yes

	trigger = {
		tag = BRM
		has_war_with = SIA
		is_valid_peace_target = yes
		has_country_flag = SIA_Siamese_Burmese_War
		SIA = { is_valid_peace_target = yes }
		surrender_progress < 0.20
		OR = {
			AND = {
				controls_state = 72 # Upper Shan
				controls_state = 756 # Lower Shan
				controls_state = 831 # Moulmein
				controls_state = 822 # Lanna
				controls_state = 749 # Tanaosri
			}
			SIA = { surrender_progress > 0.4 }
		}
	}

	mean_time_to_happen = {
		days = 10
	}

	option = {
		log = "[GetLogInfo]: event siam_events.37 option siam_events.37.a"
		name = siam_events.37.a #Let take back our claims
		ai_chance = { base = 90 }
		add_stability = 0.05
		add_state_claim = 72 # Upper Shan
		add_state_claim = 756 # Lower Shan
		add_state_claim = 831 # Morlamaeng
		SIA = {
			country_event = siam_events.38
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.37 option siam_events.37.b"
		name = siam_events.37.b #No peace with the Siamese, let us complete our conquest!
		ai_chance = { base = 10 }
		add_stability = 0.03
		add_war_support = -0.10
	}
}

country_event = { # Siamese received the peace deal
	id = siam_events.38
	title = siam_events.38.t
	desc = siam_events.38.d
	picture = GFX_report_event_SIA_Shan_Invasion

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.38 option siam_events.38.a"
		name = siam_events.38.a #We yield because we have no other choice...
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.5
				749 = {
					OR = {
						is_claimed_by = FROM
						is_core_of = FROM
					}
				}
			}
		}
		add_stability = -0.10
		add_war_support = -0.05
		FROM = { white_peace_with_ROOT = yes }
		every_owned_state = {
			limit = { is_claim_or_core_of_FROM = yes }
			transfer_state_to = FROM
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.38 option siam_events.38.b"
		name = siam_events.38.b #They must be joking, Kaba Ma Kyei!
		ai_chance = {
			base = 60
			modifier = {
				factor = 6
				749 = {
					OR = {
						is_claimed_by = FROM
						is_core_of = FROM
					}
				}
			}
		}
		add_stability = -0.15
		add_war_support = 0.10
		FROM = {
			country_event = { id = siam_events.39 days = 1 }
		}
	}
}

country_event = { # Siamese declined the peace deal
	id = siam_events.39
	title = siam_events.39.t
	desc = siam_events.39.d
	picture = GFX_report_event_SIA_Shan_Invasion

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.39 option siam_events.39.a"
		name = siam_events.39.a
		add_war_support = 0.10
	}
}

### Phibunsongkhram's Assassination attempt and its aftermath ###
country_event = { # General Discontent post-Ratthaniyom Implementation
	id = siam_events.40
	title = siam_events.40.t
	desc = siam_events.40.d
	picture = GFX_report_event_SIA_Trust_The_Government

	trigger = {
		exists = yes #needed to prevent issues with complete_national_focus synchronisation
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.40 option siam_events.40.a"
		name = siam_events.40.a # Nah, implement them anyway
		ai_chance = { base = 20 }
		add_stability = -0.02
		country_event = { id = siam_events.41 days = 5 }
		hidden_effect = {
			set_country_flag = { flag = SIA_Patriot value = 0 }
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.40 option siam_events.40.b"
		name = siam_events.40.b # On the second thought - let's stop it in its tract (Discontent Supporter Assassination attempt)
		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
			}
			modifier = {
				add = 75
				has_country_flag = SIA_angry_Nationalist # Cowards always remain cowards - eh?
			}
		}
		add_stability = 0.01
		hidden_effect = {
			country_event = { id = siam_events.49 days = 27 }
		}
	}
}
country_event = { # Decree 1 - Name, Nationality and Ban on land selling to foreigners
	id = siam_events.41
	title = siam_events.41.t
	desc = siam_events.41.d
	picture = GFX_report_event_SIA_Railway_Tourism

	trigger = {
		has_country_leader = { character = SIA_plaek_phibunsongkhram }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.41 option siam_events.41.a"
		name = siam_events.41.a # Thaland will led us into the new future!
		ai_chance = { base = 60 }
		add_stability = 0.05
		set_cosmetic_tag = THI
		hidden_effect = {
			set_party_name = { # CPT
				ideology = totalist
				long_name = SIA_totalist_party_TH_long
				name = SIA_totalist_party_TH
			}
			set_party_name = { # KST
				ideology = syndicalist
				long_name = SIA_syndicalist_party_TH_long
				name = SIA_syndicalist_party_TH
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.41 option siam_events.41.b"
		name = siam_events.41.b # Nah - let's kept the old Siam here...
		trigger = { SIA_is_thailand = no }
		ai_chance = { base = 40 }
		add_stability = -0.03
	}
	after = {
		country_event = { id = siam_events.42 days = 17 }
	}
}
country_event = { # Decree 2 - New National Anthem, The merging of other Tai races as Thais
	id = siam_events.42
	title = siam_events.42.t
	desc = siam_events.42.d
	picture = GFX_report_event_SIA_Reclaim_Indochina

	trigger = {
		has_country_leader = { character = SIA_plaek_phibunsongkhram }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.42 option siam_events.42.a"
		name = siam_events.42.a # Pass it
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
			}
		}
		add_stability = 0.05
		modify_country_flag = { flag = SIA_Patriot value = 1 }
	}
	option = {
		log = "[GetLogInfo]: event siam_events.42 option siam_events.42.b"
		name = siam_events.42.b # Hmm - let's say no to this one
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
				}
			}
		}
		add_stability = -0.02
	}
	after = {
		country_event = { id = siam_events.43 days = 25 }
	}
}
country_event = { # Decree 3 - Thaification program and ban on Chinese-run and Muslim Pornor Schools
	id = siam_events.43
	title = siam_events.43.t
	desc = siam_events.43.d
	picture = GFX_report_event_SIA_Siam_Compulsory_Education

	trigger = {
		has_country_leader = { character = SIA_plaek_phibunsongkhram }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.43 option siam_events.43.a"
		name = siam_events.43.a # Thaification is the way!
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
				}
			}
		}
		add_stability = 0.03
		modify_country_flag = { flag = SIA_Patriot value = 2 }
	}
	option = {
		log = "[GetLogInfo]: event siam_events.43 option siam_events.43.b"
		name = siam_events.43.b # Let's us just promote the use of Bangkokian dialect here
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
				}
			}
		}
		add_stability = -0.01
		modify_country_flag = { flag = SIA_Patriot value = 1 }
	}
	option = {
		log = "[GetLogInfo]: event siam_events.43 option siam_events.43.c"
		name = siam_events.43.c # Things will stay the same as it is!
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
			}
		}
		add_stability = -0.03
	}
	after = {
		country_event = { id = siam_events.44 days = 35 }
	}
}
country_event = { # Decree 4 - Foreigner Exclusion Act
	id = siam_events.44
	title = siam_events.44.t
	desc = siam_events.44.d
	picture = GFX_report_event_SIA_German_Economical_Dominance

	trigger = {
		has_country_leader = { character = SIA_plaek_phibunsongkhram }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.44 option siam_events.44.a"
		name = siam_events.44.a # Taking care of them is our job after all!
		ai_chance = { base = 80 }
		add_political_power = -30
		add_stability = 0.03
	}
	option = {
		log = "[GetLogInfo]: event siam_events.44 option siam_events.44.b"
		name = siam_events.44.b # Sadly - we don't have enough tax to do that...
		ai_chance = { base = 20 }
		add_stability = -0.01
	}
	after = {
		country_event = { id = siam_events.45 days = 18 }
	}
}
country_event = { # Finishing the Ratthaniyom Reforms
	id = siam_events.45
	title = siam_events.45.t
	desc = siam_events.45.d
	picture = GFX_report_event_SIA_United_We_Stand

	trigger = {
		has_country_leader = { character = SIA_plaek_phibunsongkhram }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.45 option siam_events.45.a"
		name = siam_events.45.a #
		trigger = {
			has_country_flag = {
				flag = SIA_Patriot
				value > 2
			}
			has_country_flag = {
				flag = SIA_Patriot
				value < 4
			}
		}
		add_ideas = SIA_Ratthaniyom_NatPop_3_idea
		hidden_effect = {
			country_event = { id = siam_events.46 days = 7 } # Assassination attempt by being gun down
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.45 option siam_events.45.b"
		name = siam_events.45.b #
		trigger = { # for 2
			has_country_flag = {
				flag = SIA_Patriot
				value > 1
			}
			has_country_flag = {
				flag = SIA_Patriot
				value < 3
			}
		}
		add_ideas = SIA_Ratthaniyom_NatPop_2_idea
		hidden_effect = {
			country_event = { id = siam_events.46 days = 7 } # Assassination attempt by being gun down
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.45 option siam_events.45.c"
		name = siam_events.45.c #
		trigger = { # for 1
			has_country_flag = {
				flag = SIA_Patriot
				value > 0
			}
			has_country_flag = {
				flag = SIA_Patriot
				value < 2
			}
		}
		add_ideas = SIA_Ratthaniyom_NatPop_1_idea
		# His death will be trigger again quite late in the 1950s
	}
	option = { # Seriously - claim to be nationalists but doing nothing?
		log = "[GetLogInfo]: event siam_events.45 option siam_events.45.e"
		name = siam_events.45.e #
		trigger = {
			has_country_flag = {
				flag = SIA_Patriot
				value < 1 # for 0
			}
		}
		add_ideas = SIA_Ratthaniyom_NatPop_0_idea
		hidden_effect = {
			country_event = { id = siam_events.49 days = 14 } # Assassination attempt by being shot by his gardener per OTL
		}
	}
}
country_event = { # Plaek's Assassination trigger 1 (hidden)
	id = siam_events.46
	hidden = yes

	trigger = {
		has_country_leader = { character = SIA_plaek_phibunsongkhram }
	}

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.46 option 1"
		if = {
			limit = {
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
			}
			country_event = siam_events.48
		}
		else_if = {
			limit = {
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
				}
			}
			country_event = siam_events.47
		}
		else = {
			random_list = {
				90 = { country_event = siam_events.47 } # dead
				10 = { country_event = siam_events.48 } # survive
			}
		}
	}
}
country_event = { # Phibunsongkhram is Dead (Gunmen shoot him while entering vehicle) - who's next?
	id = siam_events.47
	title = siam_events.47.t
	desc = siam_events.47.d
	picture = GFX_report_event_SIA_Car_Crash_Minister_Died

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.47 option siam_events.47.a"
		name = siam_events.47.a # Pick Phao Sriyanond; Republican is clearly superior here
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
			}
		}
		add_stability = -0.05
		SIA_setup_Phao_government = yes
	}
	option = {
		log = "[GetLogInfo]: event siam_events.47 option siam_events.47.b"
		name = siam_events.47.b # Pick Sarit Thanarat
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
			}
		}
		add_stability = -0.05
		SIA_setup_Sarit_government = yes
	}
	after = {
		SIA_plaek_phibunsongkhram = { kill_character = yes }
		# world news for Plaek's dead
	}
}
country_event = { # Phibunsongkhram survives!
	id = siam_events.48
	title = siam_events.48.t
	desc = siam_events.48.d
	picture = GFX_report_event_SIA_Medic_Transport_Plane_Boworadet

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.48 option siam_events.48.a"
		name = siam_events.48.a # That's why he's called the Steel-bone Field Marshal!
		# Yeah - he'll still be kill later on in the 1950s
		add_stability = 0.03
	}
}
country_event = { # Plaek's Assassination trigger 1 (hidden)
	id = siam_events.49
	hidden = yes

	trigger = {
		has_country_leader = { character = SIA_plaek_phibunsongkhram }
	}

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.49 option 1"
		if = {
			limit = {
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_NATPOP }
			}
			country_event = siam_events.48
		}
		else_if = {
			limit = {
				OR = {
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
					has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
				}
			}
			country_event = siam_events.50
		}
		else = {
			random_list = {
				90 = { country_event = siam_events.50 } # dead
				10 = { country_event = siam_events.48 } # survive
			}
		}
	}
}
country_event = { # Phibunsongkhram is Dead (His gardener shot him) - who's next?
	id = siam_events.50
	title = siam_events.50.t
	desc = siam_events.50.d
	picture = GFX_report_event_SIA_Boworadet_Funeral_Parade

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.50 option siam_events.47.a"
		name = siam_events.47.a # Pick Phao Sriyanond
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_SARIT_PATAUT }
			}
		}
		add_stability = -0.05
		SIA_setup_Phao_government = yes
	}
	option = {
		log = "[GetLogInfo]: event siam_events.50 option siam_events.47.b"
		name = siam_events.47.b # Pick Sarit Thanarat; Let's return to the old way bois!
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				has_game_rule = { rule = SIA_civil_war option = SIA_CIVIL_WAR_PHAO_NATPOP }
			}
		}
		add_stability = -0.05
		SIA_setup_Sarit_government = yes
	}
	after = {
		SIA_plaek_phibunsongkhram = { kill_character = yes }
		# world news for Plaek's dead
	}
}

country_event = { # Siamese exiles offer service to Indochinese causes
	id = siam_events.51
	title = siam_events.51.t
	desc = siam_events.51.d
	picture = GFX_report_event_SIA_Phayap_Army_Infantry_Shan

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.51 option siam_events.51.a"
		name = siam_events.51.a # Of course
		add_equipment_to_stockpile = {
			type = infantry_equipment_0
			amount = 500
		}
		add_stability = -0.03
		hidden_effect = { set_country_flag = SIA_siamese_exiles_in_saigon }
	}
	option = {
		log = "[GetLogInfo]: event siam_events.51 option siam_events.51.b"
		name = siam_events.51.b # How about no
		ai_chance = { base = 0 }
		add_political_power = 30
		add_war_support = -0.01
	}
}

country_event = { # Phibunsongkhram is dead by natural causes, RIP/Who's next?
	id = siam_events.52
	title = siam_events.52.t
	desc = {
		text = siam_events.52.d.rep
		trigger = {
			has_country_leader = { character = SIA_plaek_phibunsongkhram }
		}
	}
	desc = {
		text = siam_events.52.d.nor
		trigger = {
			NOT = { has_country_leader = { character = SIA_plaek_phibunsongkhram } }
		}
	}
	picture = GFX_report_event_SIA_Boworadet_Funeral_Parade

	trigger = {
		has_character = SIA_plaek_phibunsongkhram
	}

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#make sure they're in SIA
			event_target:original_siam = {
				SIA_phao_sriyanond = { set_nationality = PREV.PREV }
				SIA_sarit_thanarat = { set_nationality = PREV.PREV }
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.52 option siam_events.47.a"
		name = siam_events.47.a # Pick Phao Sriyanond
		trigger = {
			has_country_leader = { character = SIA_plaek_phibunsongkhram }
		}
		ai_chance = { base = 50 }
		SIA_setup_Phao_government = yes
		# world news for Plaek's dead
	}
	option = {
		log = "[GetLogInfo]: event siam_events.52 option siam_events.47.b"
		name = siam_events.47.b # Pick Sarit Thanarat; Let's return to the old way bois!
		trigger = {
			has_country_leader = { character = SIA_plaek_phibunsongkhram }
		}
		ai_chance = { base = 50 }
		SIA_setup_Sarit_government = yes
		# world news for Plaek's dead
	}
	option = {
		log = "[GetLogInfo]: event siam_events.52 option siam_events.52.c"
		name = siam_events.52.c # RIP
		trigger = {
			NOT = { has_country_leader = { character = SIA_plaek_phibunsongkhram } }
		}
		ai_chance = { base = 100 }
		if = {
			limit = {
				has_character = SIA_plaek_phibunsongkhram
				SIA_plaek_phibunsongkhram = { has_ideology = authoritarian_democrat_subtype }
			}
			add_country_leader_role = {
				character = SIA_phao_sriyanond
				country_leader = {
					desc = SIA_phao_sriyanond_leader_desc
					ideology = authoritarian_democrat_subtype
					traits = { SIA_prancing_knight_trait }
				}
				promote_leader = yes
			}
		}
		if = {
			limit = {
				has_character = SIA_plaek_phibunsongkhram
				SIA_plaek_phibunsongkhram = { has_ideology = paternal_autocrat_subtype }
			}
			add_country_leader_role = {
				character = SIA_phao_sriyanond
				country_leader = {
					desc = SIA_phao_sriyanond_leader_desc
					ideology = paternal_autocrat_subtype
					traits = { SIA_prancing_knight_trait }
				}
				promote_leader = yes
			}
		}
		add_country_leader_role = {
			character = SIA_sarit_thanarat
			country_leader = {
				desc = SIA_sarit_thanarat_leader_desc
				ideology = paternal_autocrat_subtype
				traits = { SIA_pho_khun_trait }
			}
			promote_leader = yes
		}
	}
	after = {
		retire_character = SIA_plaek_phibunsongkhram
	}
}

country_event = { # Flavour - Rama VII's New Orchestral Piece
	id = siam_events.53
	title = siam_events.53.t
	desc = siam_events.53.d
	picture = GFX_report_event_SIA_Sala_Chalermkrung_Theatre

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.53 option siam_events.53.a"
		name = siam_events.53.a # Such a Powerful Overture.
		add_political_power = 1
		if = {
			limit = { has_global_flag = allow_sound_events_flag }
			hidden_effect = { scoped_play_song = kluen_krathop_fang }
		}
	}
}

country_event = { # Flavour - First batch of female officers graduate
	id = siam_events.54
	title = siam_events.54.t
	desc = siam_events.54.d
	picture = GFX_report_event_SIA_Woman_Corps

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.54 option siam_events.54.a"
		name = siam_events.54.a # Cheers for the Ladies
		add_war_support = 0.05
		set_rule = {
			can_generate_female_aces = yes
		}
	}
}

country_event = { # Flavour - Creation of the Department of Highway
	id = siam_events.55
	title = siam_events.55.t

	desc = {
		text = siam_events.55.d.specific
		trigger = { has_event_target = SIA_engineers_target }
	}
	desc = {
		text = siam_events.55.d.fallback
		trigger = { NOT = { has_event_target = SIA_engineers_target } }
	}

	picture = GFX_report_event_SIA_Road_Bureau

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { has_socialist_government = yes }
				if = {
					limit = {
						FRA = {
							exists = yes
							is_subject = no
							has_socialist_government = yes
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					FRA = { save_event_target_as = SIA_engineers_target }
				}
				else_if = {
					limit = {
						ENG = {
							exists = yes
							is_subject = no
							has_socialist_government = yes
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					ENG = { save_event_target_as = SIA_engineers_target }
				}
				else_if = {
					limit = {
						has_global_flag = USA_civil_war_over_flag
						WCA = {
							exists = yes
							is_subject = no
							has_socialist_government = yes
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					WCA = { save_event_target_as = SIA_engineers_target }
				}
				else_if = {
					limit = {
						SRI = {
							exists = yes
							is_subject = no
							has_socialist_government = yes
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					SRI = { save_event_target_as = SIA_engineers_target }
				}
				else_if = {
					limit = {
						HND = {
							exists = yes
							is_subject = no
							has_socialist_government = yes
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					HND = { save_event_target_as = SIA_engineers_target }
				}
			}
			else_if = {
				limit = {
					is_in_faction_with = JAP
					JAP = {
						exists = yes
						is_subject = no
						has_capitulated = no
						NOT = { has_war_with = ROOT }
					}
				}
				JAP = { save_event_target_as = SIA_engineers_target }
			}
			else_if = {
				limit = {
					AUS = {
						exists = yes
						is_subject = no
						has_socialist_government = no
						has_capitulated = no
						NOT = { has_war_with = ROOT }
					}
					GER = {
						exists = yes
						is_subject = no
						has_socialist_government = no
						has_capitulated = no
						NOT = { has_war_with = ROOT }
					}
				}
				AUS = { save_event_target_as = SIA_engineers_target }
			}
			else_if = {
				limit = {
					GER = {
						exists = yes
						is_subject = no
						has_socialist_government = no
						has_capitulated = no
						NOT = { has_war_with = ROOT }
					}
				}
				GER = { save_event_target_as = SIA_engineers_target }
			}
			else_if = {
				limit = {
					RUS = {
						exists = yes
						is_subject = no
						has_socialist_government = no
						has_capitulated = no
						NOT = { has_war_with = ROOT }
					}
				}
				RUS = { save_event_target_as = SIA_engineers_target }
			}
			else_if = {
				limit = { has_global_flag = USA_civil_war_over_flag }
				if = {
					limit = {
						USA = {
							exists = yes
							is_subject = no
							has_socialist_government = no
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					USA = { save_event_target_as = SIA_engineers_target }
				}
				else_if = {
					limit = {
						ACC = {
							exists = yes
							is_subject = no
							has_socialist_government = no
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					ACC = { save_event_target_as = SIA_engineers_target }
				}
				else_if = {
					limit = {
						NEE = {
							exists = yes
							is_subject = no
							has_socialist_government = no
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					NEE = { save_event_target_as = SIA_engineers_target }
				}
				else_if = {
					limit = {
						APG = {
							exists = yes
							is_subject = no
							has_socialist_government = no
							has_capitulated = no
							NOT = { has_war_with = ROOT }
						}
					}
					APG = { save_event_target_as = SIA_engineers_target }
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.55 option siam_events.55.a"
		name = siam_events.55.a # Foreign engineers hired
		SIA_Min_Transport_Decisions_Unlocked = yes # Unlock Highway expansion decisions
		ai_chance = { base = 75 }
		add_political_power = -100
	}
	option = {
		log = "[GetLogInfo]: event siam_events.55 option siam_events.55.b"
		name = siam_events.55.b # We shall stand on our own two feet

		ai_chance = { base = 25 }
		custom_effect_tooltip = SIA_ministry_of_transportation_tt
		custom_effect_tooltip = tooltip_white_line

		if = {
			limit = {
				date < 1942.1.1
				NOT = {
					SIA = {
						has_tech = construction3
					}
				}
			}
			add_timed_idea = {
				idea = SIA_engineer_shortage
				days = 720
			}
		}

		# Pick an outside contractor
		if = {
			limit = { has_event_target = SIA_engineers_target }
			activate_targeted_decision = { decision = SIA_hire_foreign_engineers target = event_target:SIA_engineers_target }
		}
		# Or not
		else = {
			SIA_Min_Transport_Decisions_Unlocked = yes # Unlock Highway expansion decisions
		}
		add_political_power = 25
	}
}

country_event = { # Flavour - Chao Phraya Dam Completed
	id = siam_events.56
	title = siam_events.56.t
	desc = siam_events.56.d
	picture = GFX_report_event_SIA_Dam_Chao_Phraya_Opening

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.56 option siam_events.56.a"
		name = siam_events.56.a # Would this finally tamed Chao Phraya's disastrous floods?
		add_political_power = 5
		add_stability = 0.01
		289 = {
			add_building_construction = {
				type = dam
				level = 1
				province = 7338
				instant_build = yes
			}
			custom_effect_tooltip = {
				localization_key = building_state_modifier|dam
				INDENT = "    "
			}
		}
	}
}

country_event = { # Flavour - Openning of the new Democracy Monument
	id = siam_events.57
	title = siam_events.57.t
	desc = siam_events.57.d
	picture = GFX_report_event_SIA_Democracy_Monument_Openning

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.57 option siam_events.57.a"
		name = siam_events.57.a
		add_political_power = 30
		add_stability = 0.02
	}
}

country_event = { # Flavour - Civil War Monument
	id = siam_events.58
	title = siam_events.58.t
	desc = {
		text = siam_events.58.d.left
		trigger = {
			has_country_flag = SIA_CONSTITUTION_GIVEN_SYNDIE
		}
	}
	desc = {
		text = siam_events.58.d.gov
		trigger = {
			NOT = {
				has_country_flag = SIA_CONSTITUTION_GIVEN_SYNDIE
				has_country_flag = SIA_CONSTITUTION_GIVEN_BORIPATR
			}
		}
	}
	desc = {
		text = siam_events.58.d.right
		trigger = {
			has_country_flag = SIA_CONSTITUTION_GIVEN_BORIPATR
		}
	}
	picture = GFX_report_event_SIA_Boworadet_Rebellion_Monument

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.58 option siam_events.58.a"
		name = siam_events.58.a
		add_political_power = 30
		add_stability = 0.02
	}
}

country_event = { # Flavour - National Day
	id = siam_events.59
	desc = {
		text = siam_events.59.d.coup
		trigger = {
			has_country_flag = SIA_KHANA_RATSADON_COUP
		}
	}
	desc = {
		text = siam_events.59.d.granted
		trigger = {
			has_country_flag = SIA_CONSTITUTION_GIVEN
		}
	}
	title = siam_events.59.t
	picture = GFX_report_event_SIA_United_We_Stand

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = siam_events.59 days = 365 } # Annual Constitution Day
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.59 option siam_events.59.a"
		name = siam_events.59.a # And we shall do so!
		add_stability = 0.01
	}
}

country_event = { # Flavour - First Tractor in Ayutthaya- totally not copying VicII's loc :v
	id = siam_events.60
	title = siam_events.60.t
	desc = siam_events.60.d
	picture = GFX_report_event_SIA_Agricultural_Mechanisation

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.60 option siam_events.60.a"
		name = siam_events.60.a # Khun Phra Chuay!
		custom_effect_tooltip = SIA_tractor_vic2_tt
	}
}

country_event = { # Flavour - "Behind the Painting" Novel
	id = siam_events.61
	title = siam_events.61.t
	desc = siam_events.61.d
	picture = GFX_report_event_SIA_behind_the_painting_novel

	is_triggered_only = yes

	trigger = {
		has_country_flag = SIA_KHANA_RATSADON_COUP
		NOT = {
			has_country_flag = SIA_CONSTITUTION_GIVEN_BORIPATR
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.61 option siam_events.61.a"
		name = siam_events.61.a # A well-written novel!
		add_political_power = 1
	}
}

country_event = { # Flavour - Openning of the Tarutao Correction Center (Tarutao)
	id = siam_events.62
	title = siam_events.62.t
	desc = siam_events.62.d
	picture = GFX_report_event_SIA_tarutao_prison

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.62 option siam_events.62.a"
		name = siam_events.62.a # Off to Tarutao they go!

		set_country_flag = SIA_Tarutao_Active

		if = { # Royalist Purged
			limit = {
				has_country_flag = SIA_royalist_purge_pol
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.05
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = -0.10
			}
			add_popularity = {
				ideology = national_populist
				popularity = -0.10
			}
			add_popularity = {
				ideology = social_conservative
				popularity = -0.05
			}
		}
		else_if = { # Syndie Purged
			limit = {
				has_country_flag = SIA_syndie_purge_pol
			}
			add_popularity = {
				ideology = totalist
				popularity = -0.10
			}
			add_popularity = {
				ideology = syndicalist
				popularity = -0.10
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = -0.05
			}
			add_popularity = {
				ideology = social_democrat
				popularity = -0.05
			}
		}
		else_if = { # RadSoc
			limit = {
				has_socialist_government = yes
			}
			add_popularity = {
				ideology = social_liberal
				popularity = -0.03
			}
			add_popularity = {
				ideology = market_liberal
				popularity = -0.03
			}
			add_popularity = {
				ideology = social_conservative
				popularity = -0.03
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.07
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = -0.07
			}
			add_popularity = {
				ideology = national_populist
				popularity = -0.07
			}
		}
		else_if = { # PatAut
			limit = {
				has_authoritarian_government = yes
			}
			add_popularity = {
				ideology = totalist
				popularity = -0.07
			}
			add_popularity = {
				ideology = syndicalist
				popularity = -0.07
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = -0.07
			}
			add_popularity = {
				ideology = social_democrat
				popularity = -0.03
			}
			add_popularity = {
				ideology = social_liberal
				popularity = -0.03
			}
			add_popularity = {
				ideology = market_liberal
				popularity = -0.03
			}
		}
	}
}

country_event = { # Flavour - Tarutao Pirates (Tarutao)
	id = siam_events.63
	title = siam_events.63.t
	desc = siam_events.63.d
	picture = GFX_report_event_SIA_tarutao_prison

	fire_only_once = yes

	trigger = {
		tag = SIA
		country_exists = GEA
		NOT = {
			has_war_with = GEA
		}
		has_country_flag = SIA_Tarutao_Active
		has_war = yes
		enemies_naval_strength_ratio > 0.5
	}

	option = {
		log = "[GetLogInfo]: event siam_events.63 option siam_events.63.a"
		name = siam_events.63.a # Send our compliment to the Germans, along with the money of course.
		ai_chance = { base = 90 }
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = -5
		}
		add_political_power = -10
		GEA = {
			add_equipment_to_stockpile = {
				type = convoy_1
				amount = 5
			}
			add_political_power = 10
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.63 option siam_events.63.b"
		name = siam_events.63.b # Who cares?
		ai_chance = { base = 10 }
		add_stability = -0.02
	}
}

country_event = { # Flavour - "Sunset over Chao Phraya" Novel
	id = siam_events.64
	title = siam_events.64.t
	desc = siam_events.64.d
	picture = GFX_report_event_SIA_Sunset_over_Chao_Phraya_novel

	is_triggered_only = yes

	trigger = {
		country_exists = GEA
		NOT = {
			has_war_with = GEA
		}
		has_socialist_government = no
	}

	option = {
		log = "[GetLogInfo]: event siam_events.64 option siam_events.64.a"
		name = siam_events.64.a # So that's where the 'Adalheida' craze came from...
		add_political_power = 1
	}
}

country_event = { # Flavour - Sor Setthabut's Dictionary (Tarutao)
	id = siam_events.65
	title = {
		text = siam_events.65.t.royalist
		trigger = {
			OR = {
				has_country_flag = SIA_CONSTITUTION_GIVEN
				has_country_flag = SIA_CONSTITUTION_GIVEN_BORIPATR
			}
		}
	}
	title = {
		text = siam_events.65.t.default
		trigger = {
			has_country_flag = SIA_KHANA_RATSADON_COUP
			NOT = { has_country_flag = SIA_CONSTITUTION_GIVEN_BORIPATR }
		}
	}
	desc = {
		text = siam_events.65.d.bangkhwang
		trigger = {
			OR = {
				has_country_flag = SIA_IRON_MARSHAL_PLAEK
				AND = {
					has_country_flag = SIA_Civil_War_Ended
					OR = {
						has_country_flag = SIA_CONSTITUTION_GIVEN_SYNDIE
						has_country_flag = SIA_royalist_purge_pol
					}
				}
			}
			NOT = { has_country_flag = SIA_Tarutao_Active }
		}
	}
	desc = {
		text = siam_events.65.d.tarutao
		trigger = {
			has_country_flag = SIA_Civil_War_Ended
			OR = {
				has_country_flag = SIA_IRON_MARSHAL_PLAEK
				AND = {
					has_country_flag = SIA_Civil_War_Ended
					OR = {
						has_country_flag = SIA_CONSTITUTION_GIVEN_SYNDIE
						has_country_flag = SIA_royalist_purge_pol
					}
				}
			}
			has_country_flag = SIA_Tarutao_Active
		}
	}
	desc = {
		text = siam_events.65.d.royalist
		trigger = {
			OR = {
				has_country_flag = SIA_CONSTITUTION_GIVEN
				has_country_flag = SIA_CONSTITUTION_GIVEN_BORIPATR
			}
		}
	}
	desc = {
		text = siam_events.65.d.default
		trigger = {
			OR = {
				has_country_flag = SIA_no_civil_war
				AND = {
					has_country_flag = SIA_Civil_War_Ended
					has_country_flag = SIA_syndie_purge_pol
				}
			}
		}
	}
	picture = GFX_report_event_SIA_Sor_Sethhabut_Dict

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.65 option siam_events.65.a"
		name = siam_events.65.a # Such a shame that he was on the opposite side.
		trigger = {
			NOT = {
				has_country_flag = SIA_no_civil_war
				has_country_flag = SIA_CONSTITUTION_GIVEN
				has_country_flag = SIA_CONSTITUTION_GIVEN_BORIPATR
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event siam_events.65 option siam_events.65.b"
		name = siam_events.65.b # Magnificent
		trigger = {
			OR = {
				has_country_flag = SIA_no_civil_war
				has_country_flag = SIA_CONSTITUTION_GIVEN
				has_country_flag = SIA_CONSTITUTION_GIVEN_BORIPATR
			}
		}
	}
}

### Siamese Peace Treaty ###

country_event = { #Siam Offers Unconditional Surrender
	id = siam_events.67
	title = siam_events.67.t

	desc = {
		text = siam_events.67.d.default
		trigger = {
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
		}
	}
	desc = {
		text = siam_events.67.d.faction_peace
		trigger = {
			is_in_faction = yes
			is_faction_leader = no
			OR = {
				faction_leader = { has_country_flag = SIA_accepts_peace }
				faction_leader = { NOT = { has_country_flag = SIA_refuses_peace } }
			}
		}
	}
	desc = {
		text = siam_events.67.d.faction_war
		trigger = {
			is_in_faction = yes
			is_faction_leader = no
			faction_leader = { has_country_flag = SIA_refuses_peace }
		}
	}

	picture = GFX_report_event_SIA_Cabinet_1941

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.67 option siam_events.67.a"
		name = siam_events.67.a #Accept
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction = yes
						any_allied_country = { has_country_flag = SIA_refuses_peace }
					}
					AND = {
						num_subjects > 0
						any_subject_country = { has_country_flag = SIA_refuses_peace }
					}
				}
			}
		}
		set_country_flag = SIA_accepts_peace
		if = {
			limit = { num_subjects > 0 }
			every_subject_country = { set_country_flag = SIA_accepts_peace }
		}
		if = {
			limit = {
				OR = {
					original_tag = GEA
					is_actual_major = yes
				}
				if = {
					limit = { tag = GER }
					NOT = { country_exists = GEA }
				}
			}
			custom_effect_tooltip = SIA_will_receive_reparation_tt
			effect_tooltip = {
				add_timed_idea = {
					idea = SIA_war_reparation_received_idea
					days = 1800
				}
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				is_faction_leader = no
				faction_leader = { has_country_flag = SIA_refuses_peace }
			}
			custom_effect_tooltip = SIA_war_reparation_betrayal_warning_tt
			faction_leader = { country_event = siam_events.69 }
		}
		SIA = {
			custom_effect_tooltip = {
				localization_key = EFFECT_COUNTRY_EVENT
				EVENT = siam_events.70.t.peace
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.67 option siam_events.67.b"
		name = siam_events.67.b #Refuse
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				OR = {
					AND = {
						is_in_faction = yes
						any_allied_country = { has_country_flag = SIA_refuses_peace }
					}
					AND = {
						num_subjects > 0
						any_subject_country = { has_country_flag = SIA_refuses_peace }
					}
				}
			}
		}
		set_country_flag = SIA_refuses_peace
		if = {
			limit = { num_subjects > 0 }
			every_subject_country = { set_country_flag = SIA_refuses_peace }
		}
		SIA = { country_event = { id = siam_events.68 hours = 4 random_hours = 12 } }
		if = {
			limit = {
				is_in_faction = yes
				is_faction_leader = no
				faction_leader = { has_country_flag = SIA_accepts_peace }
			}
			custom_effect_tooltip = SIA_war_reparation_betrayal_warning_tt
			faction_leader = { country_event = siam_events.69 }
		}
	}
	after = {
		SIA_peace_treaty_next_event = yes
	}
}

country_event = { #FROM refuses peace
	id = siam_events.68
	title = siam_events.68.t
	desc = siam_events.68.d
	picture = GFX_report_event_SIA_Cabinet_1941

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.68 option siam_events.68.a"
		name = siam_events.68.a
	}
}

country_event = { #FROM refuses to follow faction leader
	id = siam_events.69
	title = siam_events.69.t

	picture = GFX_report_event_SIA_Cabinet_1941

	desc = {
		text = siam_events.69.d.peace
		trigger = { has_country_flag = SIA_accepts_peace }
	}
	desc = {
		text = siam_events.69.d.war
		trigger = { has_country_flag = SIA_refuses_peace }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.69 option siam_events.69.a"
		name = siam_events.69.a
		trigger = { has_country_flag = SIA_accepts_peace }
		clr_country_flag = SIA_accepts_peace
		set_country_flag = SIA_refuses_peace
		every_other_country = {
			limit = { is_ally_with = ROOT }
			clr_country_flag = SIA_accepts_peace
			set_country_flag = SIA_refuses_peace
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.69 option siam_events.69.b"
		name = siam_events.69.b
		trigger = { has_country_flag = SIA_refuses_peace }
		clr_country_flag = SIA_refuses_peace
		set_country_flag = SIA_accepts_peace
		every_other_country = {
			limit = { is_ally_with = ROOT }
			clr_country_flag = SIA_refuses_peace
			set_country_flag = SIA_accepts_peace
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.69 option siam_events.69.c"
		name = siam_events.69.c
		ai_chance = { base = 0 }
		remove_from_faction = FROM
	}
}

country_event = { #Unconditional Surrender Goes into Effect
	id = siam_events.70

	title = {
		text = siam_events.70.t.peace
		trigger = {
			any_enemy_country = { has_country_flag = SIA_accepts_peace }
		}
	}
	title = {
		text = siam_events.70.t.no_peace
		trigger = {
			NOT = { any_enemy_country = { has_country_flag = SIA_accepts_peace } }
		}
	}

	desc = {
		text = siam_events.70.d.peace
		trigger = {
			any_enemy_country = { has_country_flag = SIA_accepts_peace }
		}
	}
	desc = {
		text = siam_events.70.d.no_peace
		trigger = {
			NOT = { any_enemy_country = { has_country_flag = SIA_accepts_peace } }
		}
	}

	picture = GFX_report_event_SIA_Treaty_signed

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.70 option siam_events.70.a"
		name = siam_events.70.a
		trigger = {
			any_enemy_country = { has_country_flag = SIA_accepts_peace }
		}
		remove_ideas = has_scripted_peace
		add_timed_idea = {
			idea = SIA_war_reparation_paid_idea
			days = 1800
		}
		effect_tooltip = {
			every_enemy_country = {
				limit = { has_country_flag = SIA_accepts_peace }
				white_peace_with_ROOT = yes
				ROOT = { give_military_access = PREV }
				set_truce = { target = ROOT days = 730 }
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
				}
			}
		}
		hidden_effect = {
			### deal with the Indochinese puppets
			if = {
				limit = {
					OR = {
						INC = {
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
						GEA = {
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
					}
				}
				if = {
					limit = { has_subject = CAM }
					set_autonomy = {
						target = CAM
						autonomy_state = autonomy_free
					}
					set_temp_variable = { target = CAM }
					every_owned_state = {
						limit = { is_core_of = CAM }
						transfer_state_during_war = yes
					}
				}
				if = {
					limit = { has_subject = LAO }
					set_autonomy = {
						target = LAO
						autonomy_state = autonomy_free
					}
					set_temp_variable = { target = LAO }
					every_owned_state = {
						limit = { is_core_of = LAO }
						transfer_state_during_war = yes
					}
				}
				if = {
					limit = { has_subject = VIN }
					set_autonomy = {
						target = VIN
						autonomy_state = autonomy_free
					}
					set_temp_variable = { target = VIN }
					every_owned_state = {
						limit = { is_core_of = VIN }
						transfer_state_during_war = yes
					}
				}
			}

			### Yunnanese claims
			if = {
				limit = {
					YUN = {
						has_war_with = ROOT
						has_country_flag = SIA_accepts_peace
					}
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = YUN
							is_claimed_by = YUN
						}
					}
					transfer_state_to = YUN
				}
			}

			### Chinese claims
			if = {
				limit = {
					any_enemy_country = {
						is_chinese_tag = yes
						has_country_flag = SIA_accepts_peace
					}
				}
				if = {
					limit = {
						YUN = {
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
					}
					YUN = { save_event_target_as = SIA_china }
				}
				else_if = {
					limit = {
						GXC = {
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
					}
					GXC = { save_event_target_as = SIA_china }
				}
				else_if = {
					limit = {
						SZC = {
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
					}
					SZC = { save_event_target_as = SIA_china }
				}
				else_if = {
					limit = {
						CHI = {
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
					}
					CHI = { save_event_target_as = SIA_china }
				}
				else_if = {
					limit = {
						QIE = {
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
					}
					QIE = { save_event_target_as = SIA_china }
				}
				else_if = {
					limit = {
						FNG = {
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
					}
					FNG = { save_event_target_as = SIA_china }
				}
				else = {
					random_enemy_country = {
						limit = {
							is_chinese_tag = yes
							has_country_flag = SIA_accepts_peace
						}
						save_event_target_as = SIA_china
					}
				}
				every_owned_state = {
					limit = { is_china_claim_area = yes }
					transfer_state_to = event_target:SIA_china
				}
			}

			### Cambodian claims
			if = {
				limit = {
					CAM = {
						has_war_with = ROOT
						has_country_flag = SIA_accepts_peace
					}
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = CAM
							is_claimed_by = CAM
							is_cambodia = yes
						}
					}
					transfer_state_to = CAM
				}
			}

			### Laotian claims
			if = {
				limit = {
					LAO = {
						has_war_with = ROOT
						has_country_flag = SIA_accepts_peace
					}
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = LAO
							is_claimed_by = LAO
							is_laos = yes
						}
					}
					transfer_state_to = LAO
				}
			}

			### Vietnamese claims
			if = {
				limit = {
					VIN = {
						has_war_with = ROOT
						has_country_flag = SIA_accepts_peace
					}
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = VIN
							is_claimed_by = VIN
							is_vietnam = yes
						}
					}
					transfer_state_to = VIN
				}
			}

			### Indochinese claims
			if = {
				limit = {
					INC = {
						has_war_with = ROOT
						has_country_flag = SIA_accepts_peace
					}
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = INC
							is_claimed_by = INC
							region = 196 #Indochina
							state = 825 #Battambang
							state = 882 #Samabuli
						}
					}
					transfer_state_to = INC
				}
			}

			### Malayan claims
			if = {
				limit = {
					MAL = {
						has_war_with = ROOT
						has_country_flag = SIA_accepts_peace
					}
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = MAL
							is_claimed_by = MAL
							is_malaya = yes
						}
					}
					transfer_state_to = MAL
				}
			}

			### GEA claims
			if = {
				limit = {
					GEA = {
						has_war_with = ROOT
						has_country_flag = SIA_accepts_peace
					}
				}
				if = {
					limit = {
						any_state_in = {
							strategic_region = 196 #Indochina
							is_owned_by = GEA
						}
					}
					every_owned_state = {
						limit = {
							OR = {
								is_core_of = GEA
								is_claimed_by = GEA
								is_core_of = MAL
								region = 196 #Indochina
								state = 825 #Battambang
								state = 882 #Samabuli
							}
						}
						transfer_state_to = GEA
					}
				}
				else = {
					every_owned_state = {
						limit = {
							OR = {
								is_core_of = GEA
								is_claimed_by = GEA
								is_core_of = MAL
							}
						}
						transfer_state_to = GEA
					}
				}
			}

			### Shan claims
			if = {
				limit = {
					SHA = {
						has_war_with = ROOT
						has_country_flag = SIA_accepts_peace
					}
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = SHA
							is_claimed_by = SHA
							state = 72 #Upper Shan
							state = 756 #Lower Shan
						}
					}
					transfer_state_to = SHA
				}
			}

			### Burmese claims
			if = {
				limit = {
					BRM = {
						has_war_with = ROOT
						has_country_flag = SIA_accepts_peace
					}
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = BRM
							is_claimed_by = BRM
							is_burma = yes
						}
					}
					transfer_state_to = BRM
				}
			}

			### Indian claims
			if = {
				limit = {
					OR = {
						RAJ = {
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
						HND = {
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
						var:431.owner = {
							is_indian_tag = yes
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
					}
				}
				if = {
					limit = {
						RAJ = {
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
					}
					RAJ = { save_event_target_as = SIA_india }
				}
				else_if = {
					limit = {
						HND = {
							has_war_with = ROOT
							has_country_flag = SIA_accepts_peace
						}
					}
					HND = { save_event_target_as = SIA_india }
				}
				else = {
					var:431.owner = { save_event_target_as = SIA_india }
				}
				if = {
					limit = {
						any_state_in = {
							strategic_region = 195 #Burma
							is_controlled_by = event_target:SIA_india
						}
					}
					every_owned_state = {
						limit = {
							OR = {
								is_core_of = event_target:SIA_india
								is_claimed_by = event_target:SIA_india
								is_india = yes
								is_burma = yes
							}
						}
						transfer_state_to = event_target:SIA_india
					}
				}
				else = {
					every_owned_state = {
						limit = {
							OR = {
								is_core_of = event_target:SIA_india
								is_claimed_by = event_target:SIA_india
								is_india = yes
							}
						}
						transfer_state_to = event_target:SIA_india
					}
				}
			}

			### Japanese claims
			if = {
				limit = {
					JAP = {
						is_faction_leader = yes
						has_war_with = ROOT
						has_country_flag = SIA_accepts_peace
					}
				}
				every_owned_state = {
					limit = {
						OR = {
							is_china_claim_area = yes
							is_core_of = MAL
							region = 196 #Indochina
							state = 825 #Battambang
							state = 882 #Samabuli
						}
					}
					transfer_state_to = JAP
				}
			}

			### If Bangkok was lost, surrender all possible claims
			if = {
				limit = {
					var:289.controller = {
						has_war_with = ROOT
						has_country_flag = SIA_accepts_peace
						OR = {
							is_major = yes
							AND = {
								is_subject = yes
								overlord = { is_major = yes }
							}
							any_allied_country = { is_major = yes }
						}
					}
				}
				var:289.controller = {
					if = {
						limit = { is_subject = yes }
						overlord = { save_event_target_as = SIA_main_enemy }
					}
					else = {
						save_event_target_as = SIA_main_enemy
					}
				}

				### Surrender any Chinese territories
				if = {
					limit = {
						any_subject_country = { is_chinese_tag = yes }
					}
					random_subject_country = {
						limit = { is_chinese_tag = yes }
						set_temp_variable = { target = THIS }
					}
					every_owned_state = {
						limit = { is_china_claim_area = yes }
						transfer_state_during_war = yes
					}
				}
				else_if = {
					limit = {
						any_owned_state = { is_china_claim_area = yes }
					}
					set_temp_variable = { target = event_target:SIA_main_enemy }
					every_owned_state = {
						limit = { is_china_claim_area = yes }
						transfer_state_during_war = yes
					}
				}

				### Surrender any Burmese territories
				if = {
					limit = { is_ally_with = BRM }
					set_temp_variable = { target = BRM }
					every_owned_state = {
						limit = {
							OR = {
								is_core_of = BRM
								is_claimed_by = BRM
							}
						}
						transfer_state_during_war = yes
					}
				}
				else_if = {
					limit = {
						OR = {
							owns_state = 288 #Rangoon
							event_target:SIA_main_enemy = { owns_state = 288 } #Rangoon
						}
					}
					set_temp_variable = { target = event_target:SIA_main_enemy }
					every_owned_state = {
						limit = {
							OR = {
								is_core_of = BRM
								is_burma = yes
							}
						}
						transfer_state_during_war = yes
					}
				}

				### Surrender any Cambodian territories
				if = {
					limit = { is_ally_with = CAM }
					set_temp_variable = { target = CAM }
					every_owned_state = {
						limit = { is_core_of = CAM }
						transfer_state_during_war = yes
					}
				}
				else_if = {
					limit = {
						OR = {
							owns_state = 750 #Phnom Penh
							event_target:SIA_main_enemy = { owns_state = 750 } #Phnom Penh
						}
					}
					set_temp_variable = { target = event_target:SIA_main_enemy }
					every_owned_state = {
						limit = { is_core_of = CAM }
						transfer_state_during_war = yes
					}
				}

				### Surrender any Laotian territories
				if = {
					limit = { is_ally_with = LAO }
					set_temp_variable = { target = LAO }
					every_owned_state = {
						limit = { is_core_of = LAO }
						transfer_state_during_war = yes
					}
				}
				else_if = {
					limit = {
						OR = {
							owns_state = 670 #Laos
							event_target:SIA_main_enemy = { owns_state = 670 } #Laos
						}
					}
					set_temp_variable = { target = event_target:SIA_main_enemy }
					every_owned_state = {
						limit = { is_core_of = LAO }
						transfer_state_during_war = yes
					}
				}

				### Surrender any Indochinese territories
				if = {
					limit = { is_ally_with = INC }
					set_temp_variable = { target = INC }
					every_owned_state = {
						limit = {
							OR = {
								region = 196 #Indochina
								is_core_of = VIN
								is_core_of = CAM
								is_core_of = LAO
							}
						}
						transfer_state_during_war = yes
					}
				}
				else_if = {
					limit = { is_ally_with = VIN }
					set_temp_variable = { target = VIN }
					every_owned_state = {
						limit = { is_core_of = VIN }
						transfer_state_during_war = yes
					}
				}
				else_if = {
					limit = {
						OR = {
							owns_any_state_of = {
								286 #Cochinchina
								671 #Tonkin
								827 #Annam
							}
							event_target:SIA_main_enemy = {
								owns_any_state_of = {
									286 #Cochinchina
									671 #Tonkin
									827 #Annam
								}
							}
						}
					}
					set_temp_variable = { target = event_target:SIA_main_enemy }
					every_owned_state = {
						limit = {
							OR = {
								region = 196 #Indochina
								is_core_of = VIN
								is_core_of = CAM
								is_core_of = LAO
							}
						}
						transfer_state_during_war = yes
					}
				}

				### Surrender any Malaysian territories
				if = {
					limit = { is_ally_with = MAL }
					set_temp_variable = { target = MAL }
					every_owned_state = {
						limit = { is_core_of = MAL }
						transfer_state_during_war = yes
					}
				}
				else_if = {
					limit = {
						OR = {
							owns_any_state_of = {
								336 #Singapore
								846 #Johore
								963 #Perak
							}
							event_target:SIA_main_enemy = {
								owns_any_state_of = {
									336 #Singapore
									846 #Johore
									963 #Perak
								}
							}
						}
					}
					set_temp_variable = { target = event_target:SIA_main_enemy }
					every_owned_state = {
						limit = { is_core_of = MAL }
						transfer_state_during_war = yes
					}
				}

				### Remove all puppets
				if = {
					limit = { num_subjects > 0 }
					every_subject_country = {
						set_temp_variable = { target = THIS }
						ROOT = {
							set_autonomy = {
								target = PREV
								autonomy_state = autonomy_free
							}
							every_owned_state = {
								limit = { is_core_of = var:target }
								transfer_state_during_war = yes
							}
						}
					}
				}
			}

			### Remove Siam from the Co-Prosperity Sphere
			JAP_remove_from_economic_sphere = yes
			clr_country_flag = attended_tokyo_conference
			clr_country_flag = attending_tokyo_conference
			clr_country_flag = tokyo_conference_trade_ally
			set_country_flag = JAP_refused_tokyo_conference
			set_country_flag = JAP_was_invited_into_sphere
			set_country_flag = JAP_refused_sphere_invitation
			if = {
				limit = { is_in_array = { global.JAP_possible_allies_array = THIS } }
				remove_from_array = { global.JAP_possible_allies_array = THIS }
			}

			### Peace out Siam with everyone
			if = {
				limit = { is_faction_leader = yes }
				every_other_country = {
					limit = { is_in_faction_with = ROOT }
					country_event = siam_events.71
				}
				dismantle_faction = yes
			}
			else_if = {
				limit = { is_in_faction = yes }
				faction_leader = { country_event = siam_events.71 }
				leave_faction = yes
			}
			every_enemy_country = {
				limit = { has_country_flag = SIA_accepts_peace }
				country_event = siam_events.72
				white_peace_with_ROOT = yes
				set_truce = { target = ROOT days = 730 }
				ROOT = { give_military_access = PREV }
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
				}
			}

			### remove all remaining puppets
			every_subject_country = {
				ROOT = {
					set_autonomy = {
						target = PREV
						autonomy_state = autonomy_free
					}
				}
			}

			### remove all unowned cores/claim
			every_state = {
				limit = { NOT = { is_owned_by = ROOT } }
				remove_claim_by = ROOT
				remove_core_of = ROOT
			}

			### Set Capital Back to Bangkok
			if = {
				limit = { has_country_flag = SIA_byebye_Bangkok }
				activate_decision = SIA_move_capital_back
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.70 option siam_events.70.b"
		name = siam_events.70.b
		trigger = {
			NOT = { any_enemy_country = { has_country_flag = SIA_accepts_peace } }
		}
		remove_ideas = has_scripted_peace
	}
}

country_event = { #Siam has surrendered
	id = siam_events.71
	title = siam_events.71.t
	picture = GFX_report_event_SIA_Treaty_signed

	desc = {
		text = siam_events.71.d.faction
		trigger = { is_faction_leader = no }
	}
	desc = {
		text = siam_events.71.d.faction_leader
		trigger = { is_faction_leader = yes }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.71 option siam_events.71.a"
		name = siam_events.71.a
		trigger = { is_faction_leader = no }
	}

	option = {
		log = "[GetLogInfo]: event siam_events.71 option siam_events.71.b"
		name = siam_events.71.b
		trigger = { is_faction_leader = yes }
	}
}

country_event = { #Peace notification
	id = siam_events.72
	title = siam_events.72.t

	desc = {
		text = siam_events.72.d.reparations
		trigger = {
			OR = {
				is_actual_major = yes
				tag = GEA
			}
			if = {
				limit = { tag = GER }
				NOT = { country_exists = GEA }
			}
		}
	}
	desc = {
		text = siam_events.72.d.no_reparations
		trigger = {
			NOT = {
				is_actual_major = yes
				tag = GEA
			}
			if = {
				limit = { tag = GER }
				country_exists = GEA
			}
		}
	}

	picture = GFX_report_event_SIA_Treaty_signed

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.72 option siam_events.72.a"
		name = siam_events.72.a
		if = {
			limit = {
				OR = {
					is_actual_major = yes
					tag = GEA
				}
				if = {
					limit = { tag = GER }
					NOT = { country_exists = GEA }
				}
			}
			add_timed_idea = {
				idea = SIA_war_reparation_received_idea
				days = 1800
			}
		}
	}
}

country_event = { #SIA asks to join the Internationale
	id = siam_events.74
	title = siam_events.74.t
	desc = siam_events.74.d
	picture = GFX_report_event_SIA_Treaty_signed

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.74 option siam_events.74.a"
		name = siam_events.74.a
		ai_chance = { base = 100 }
		faction_leader = { add_to_faction = FROM }
	}

	option = {
		log = "[GetLogInfo]: event siam_events.74 option siam_events.74.b"
		name = siam_events.74.b
		ai_chance = { base = 0 }
		FROM = { country_event = { id = siam_events.76 hours = 8 } }
	}
}

country_event = { #INT says yes
	id = siam_events.75
	title = siam_events.75.t
	desc = siam_events.75.d
	picture = GFX_report_event_SIA_Treaty_signed

	trigger = {
		is_subject = no
		has_socialist_government = yes
		NOT = { has_war_with = FROM }
		FROM = {
			exists = yes
			has_socialist_government = yes
			is_subject = no
			is_in_faction = yes
		}
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.75 option siam_events.75.a"
		name = siam_events.75.a
		effect_tooltip = { var:FROM.faction_leader = { add_to_faction = ROOT } }
	}
}

country_event = { #INT says no
	id = siam_events.76
	title = siam_events.76.t
	desc = siam_events.76.d
	picture = GFX_report_event_SIA_Treaty_signed

	trigger = {
		is_subject = no
		has_socialist_government = yes
		NOT = { has_war_with = FROM }
		FROM = {
			exists = yes
			has_socialist_government = yes
			is_subject = no
		}
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event siam_events.76 option siam_events.76.a"
		name = siam_events.76.a
	}
}

## siam_events.77 is reserved for Songkran event

# 1936 Siamese Revolution (World News)
news_event = {
	id = siam_events.200
	immediate = { log = "[GetLogInfo]: event siam_events.200" }
	title = siam_events.200.t
	desc = siam_events.200.d
	picture = GFX_news_event_SIA_khana_ratsadon_declaration

	major = yes
	fire_for_sender = no
	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		OR = {
			regional_asia_news = yes
			is_ally_with = SIA
		}
	}

	option = {
		name = siam_events.200.a
	}
}

# Siam turns Constitutional Monarchy (World News)
news_event = {
	id = siam_events.201
	immediate = { log = "[GetLogInfo]: event siam_events.201" }
	title = siam_events.201.t
	desc = siam_events.201.d
	picture = GFX_news_event_SIA_rama_7_constitution

	major = yes

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		OR = {
			regional_asia_news = yes
			is_ally_with = SIA
		}
	}

	option = {
		name = siam_events.201.a
	}
}

# Boworadet Rebellion a.k.a. Royalist (World News)
news_event = {
	id = siam_events.202
	immediate = { log = "[GetLogInfo]: event siam_events.202" }
	title = siam_events.202.t
	desc = siam_events.202.d
	picture = GFX_news_event_SIA_Boworadet_Rebellion

	major = yes

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		OR = {
			regional_asia_news = yes
			is_ally_with = SIA
		}
	}

	option = {
		name = siam_events.202.a
		trigger = {
			has_socialist_government = no
			is_starting_german_tag = no
			NOT = {
				tag = JAP
				original_tag = SIA
			}
		}
	}
	option = {
		name = siam_events.202.b
		trigger = {
			has_socialist_government = yes
			NOT = { original_tag = SIA }
		}
	}
	option = {
		name = siam_events.202.c
		trigger = {
			is_starting_german_tag = yes
		}
	}
	option = {
		name = siam_events.202.e
		trigger = {
			tag = JAP
		}
	}
	option = {
		name = siam_events.202.f_gov
		trigger = {
			original_tag = SIA
			has_cosmetic_tag = SIA_Parliament
		}
	}
	option = {
		name = siam_events.202.f_reb
		trigger = {
			original_tag = SIA
			has_cosmetic_tag = SIA_Royalist
		}
	}
}

# Songsuradet Rebellion a.k.a. Parliamentarian (World News)
news_event = {
	id = siam_events.203
	immediate = { log = "[GetLogInfo]: event siam_events.203" }
	title = siam_events.203.t
	desc = siam_events.203.d
	picture = GFX_news_event_SIA_Songsuradet_Rebellion

	major = yes

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		OR = {
			regional_asia_news = yes
			is_ally_with = SIA
		}
	}

	option = {
		name = siam_events.203.a
		trigger = {
			has_socialist_government = no
			is_starting_german_tag = no
			NOT = {
				tag = JAP
				original_tag = SIA
			}
		}
	}
	option = {
		name = siam_events.203.b
		trigger = {
			has_socialist_government = yes
			NOT = { original_tag = SIA }
		}
	}
	option = {
		name = siam_events.203.c
		trigger = {
			is_starting_german_tag = yes
		}
	}
	option = {
		name = siam_events.203.e
		trigger = {
			tag = JAP
		}
	}
	option = {
		name = siam_events.203.f_gov
		trigger = {
			original_tag = SIA
			has_cosmetic_tag = SIA_Royalist
		}
	}
	option = {
		name = siam_events.203.f_reb
		trigger = {
			original_tag = SIA
			has_cosmetic_tag = SIA_Parliament
		}
	}
}

# Phibunsongkhram's Coup (World News)
news_event = {
	id = siam_events.204
	immediate = { log = "[GetLogInfo]: event siam_events.204" }
	title = siam_events.204.t
	desc = siam_events.204.d
	picture = GFX_news_event_SIA_Phibunsongkhram_Coup

	major = yes

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		OR = {
			regional_asia_news = yes
			is_ally_with = SIA
		}
	}

	option = {
		name = siam_events.204.a
	}
}

# 37th Siamese-Burmese War (World News)
news_event = {
	id = siam_events.205
	immediate = { log = "[GetLogInfo]: event siam_events.205" }
	title = siam_events.205.t
	desc = siam_events.205.d
	picture = GFX_news_event_SIA_saharat_thai_doem_tank

	major = yes
	fire_for_sender = no
	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		NOT = {
			tag = SIA
			tag = BRM
		}
		OR = {
			regional_asia_news = yes
			is_ally_with = SIA
			is_ally_with = BRM
		}
	}

	option = {
		name = siam_events.205.a
	}
}

# Syndicalist Win in Siam
news_event = {
	id = siam_events.206
	immediate = { log = "[GetLogInfo]: event siam_events.206" }
	title = siam_events.206.t
	desc = siam_events.206.d
	picture = GFX_news_event_SIA_Pridi_Phanomyong

	major = yes
	fire_for_sender = no
	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		OR = {
			regional_asia_news = yes
			is_ally_with = SIA
		}
	}

	option = {
		name = siam_events.206.a
		trigger = {
			has_socialist_government = no
			is_starting_german_tag = no
			NOT = {
				tag = JAP
				original_tag = SIA
			}
		}
	}
	option = {
		name = siam_events.206.b
		trigger = {
			has_socialist_government = yes
			NOT = { original_tag = SIA }
		}
	}
	option = {
		name = siam_events.206.c
		trigger = {
			is_starting_german_tag = yes
		}
	}
	option = {
		name = siam_events.206.e
		trigger = {
			tag = JAP
		}
	}
	option = {
		name = siam_events.206.f
		trigger = {
			original_tag = SIA
		}
	}

	after = {
		effect_tooltip = {
			add_named_threat = {
				threat = 1
				name = SIA_SiaCW_RadSoc_threat
			}
		}
	}
}

# Paternal Autocrats Win in Siam
news_event = {
	id = siam_events.207
	immediate = { log = "[GetLogInfo]: event siam_events.207" }
	title = siam_events.207.t
	desc = siam_events.207.d
	picture = GFX_news_event_SIA_Boworadet

	major = yes
	fire_for_sender = no
	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		OR = {
			regional_asia_news = yes
			is_ally_with = SIA
		}
	}

	option = {
		name = siam_events.207.a
		trigger = {
			has_socialist_government = no
			is_starting_german_tag = no
			NOT = {
				tag = JAP
				original_tag = SIA
			}
		}
	}
	option = {
		name = siam_events.207.b
		trigger = {
			has_socialist_government = yes
			NOT = { original_tag = SIA }
		}
	}
	option = {
		name = siam_events.207.c
		trigger = {
			is_starting_german_tag = yes
		}
	}
	option = {
		name = siam_events.207.e
		trigger = {
			tag = JAP
		}
	}
	option = {
		name = siam_events.207.f
		trigger = {
			original_tag = SIA
		}
	}

	after = {
		effect_tooltip = {
			add_named_threat = {
				threat = -1
				name = SIA_SiaCW_PatAut_threat
			}
		}
	}
}

# Rebellion in Siam Crushed
news_event = {
	id = siam_events.208
	immediate = { log = "[GetLogInfo]: event siam_events.208" }
	title = siam_events.208.t
	desc = siam_events.208.d
	picture = GFX_news_event_SIA_khana_ratsadon_dead_boworadet_sanam_luang

	major = yes
	fire_for_sender = no
	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		OR = {
			regional_asia_news = yes
			is_ally_with = SIA
		}
	}

	option = {
		name = siam_events.208.a
		trigger = {
			has_socialist_government = no
			is_starting_german_tag = no
			NOT = {
				tag = JAP
				original_tag = SIA
			}
		}
	}
	option = {
		name = siam_events.208.b_gov
		trigger = {
			has_socialist_government = yes
			NOT = {
				original_tag = SIA
				FROM = { has_country_flag = SIA_syndie_purge_pol }
			}
		}
	}
	option = {
		name = siam_events.208.b_reb
		trigger = {
			has_socialist_government = yes
			NOT = { original_tag = SIA }
			FROM = { has_country_flag = SIA_syndie_purge_pol }
		}
	}
	option = {
		name = siam_events.208.c_gov
		trigger = {
			is_starting_german_tag = yes
			NOT = { FROM = { has_country_flag = SIA_royalist_purge_pol } }
		}
	}
	option = {
		name = siam_events.208.c_reb
		trigger = {
			is_starting_german_tag = yes
			FROM = { has_country_flag = SIA_royalist_purge_pol }
		}
	}
	option = {
		name = siam_events.208.e
		trigger = {
			tag = JAP
		}
	}
	option = {
		name = siam_events.208.f
		trigger = {
			original_tag = SIA
		}
	}
}

###################################
##
## NEW PHIBUN EVENTS (ID 2000-2999)
##
###################################

#country_event = { # Phao's False Flag Army Purge
#	id = siam_events.2001
#	title = siam_events.2001.t
#	desc = siam_events.2001.d
#
#	is_triggered_only = yes
#
#	option = {
#		name = siam_events.1001.a # Songsuradet & Co.
#
#	}
#
#	option = {
#		name = siam_events.1001.b # Srisitthisongkhram & the royalists
#
#	}
#}

################################
##
## LEGACY EVENTS (ID 6000-6999)
##
################################

# Succession line related events (Mahidol vs Paribatra)
country_event = { # Death of Rama VII - 3967403
	id = siam_events.6013
	title = siam_events.6013.t
	desc = {
		text = siam_events.6013.d
		trigger = {
			has_country_leader = { character = SIA_prajadhipok }
		}
	}
	desc = {
		text = siam_events.6013.d.plaek
		trigger = {
			has_country_leader = { character = SIA_plaek_phibunsongkhram }
		}
	}
	desc = {
		text = siam_events.6013.d.rep
		trigger = {
			NOT = {
				has_country_leader = { character = SIA_prajadhipok }
				has_country_leader = { character = SIA_plaek_phibunsongkhram }
			}
		}
	}

	picture = GFX_report_event_SIA_King_Death

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event siam_events.6013 option siam_events.6013.a"
		name = siam_events.6013.a # RIP for him
		if = {
			limit = { has_country_leader = { character = SIA_prajadhipok } }
			SIA_create_ananda_mahidol = yes
		}
		SIA_prajadhipok = { kill_character = yes }
	}
}
country_event = { # Paribatra Sukhumbhand reacts - xxxxxxx (a.k.a. Paribatra line or not)
	id = siam_events.6014
	title = siam_events.6014.t
	desc = siam_events.6014.d
	picture = GFX_report_event_SIA_Privy_Council_Grand_Palace_1939

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		has_country_flag = SIA_CONSTITUTION_GIVEN_BORIPATR
		NOT = {
			has_country_leader = { character = SIA_prajadhipok ruling_only = no }
			is_monarchy = no
		}
	}

	option = {
		log = "[GetLogInfo]: event siam_events.6014 option siam_events.6014.a"
		name = siam_events.6014.a # A throne vacant for us!
		ai_chance = { base = 90 }
		SIA_create_paribatra_sukhumbhand = yes
	}
	option = {
		log = "[GetLogInfo]: event siam_events.6014 option siam_events.6014.b"
		name = siam_events.6014.b # Nothing for now
		ai_chance = { base = 10 }
	}
}
country_event = { # Death of Rama VIII - xxxxxxx
	id = siam_events.6015
	title = siam_events.6015.t
	desc = {
		text = siam_events.6015.d
		trigger = {
			has_country_leader = { character = SIA_ananda_mahidol }
		}
	}
	desc = {
		text = siam_events.6015.d.plaek
		trigger = {
			has_country_leader = { character = SIA_plaek_phibunsongkhram }
		}
	}
	desc = {
		text = siam_events.6015.d.paribatra
		trigger = {
			OR = {
				has_country_leader = { character = SIA_paribatra_sukhumbhand }
				has_country_leader = { character = SIA_chumbhotbongs_paribatra }
				has_country_leader = { character = SIA_sukhumabhinanda }
			}
		}
	}
	desc = {
		text = siam_events.6015.d.rep
		trigger = {
			NOT = {
				# Default
				has_country_leader = { character = SIA_ananda_mahidol }
				# Plaek
				has_country_leader = { character = SIA_plaek_phibunsongkhram }
				# Paribatra
				has_country_leader = { character = SIA_paribatra_sukhumbhand }
				has_country_leader = { character = SIA_chumbhotbongs_paribatra }
				has_country_leader = { character = SIA_sukhumabhinanda }
				# Chakrabongse - .rep loc likely works fine enough
			}
		}
	}
	picture = GFX_report_event_SIA_King_Death

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event siam_events.6015 option siam_events.6015.a"
		name = siam_events.6015.a # RIP for him
		if = {
			limit = { has_country_leader = { character = SIA_ananda_mahidol } }
			SIA_create_bhumibol_adulyadej = yes
		}
		SIA_ananda_mahidol = { kill_character = yes }
	}
}

country_event = { # Death of Paribatra Sukhumbhand (Paribatra Line of Sucession) - xxxxxxx
	id = siam_events.6033
	title = siam_events.6033.t
	desc = siam_events.6033.d
	picture = GFX_report_event_SIA_King_Death

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event siam_events.6033 option siam_events.6015.a"
		name = siam_events.6015.a # RIP for him
		if = {
			limit = { has_country_leader = { character = SIA_paribatra_sukhumbhand } }
			SIA_create_chumbhotbongs_paribatra = yes
		}
		SIA_paribatra_sukhumbhand = { kill_character = yes }
	}
}
country_event = { # Death of Chumbhotbongs Paribatra (Paribatra Line of Sucession) - xxxxxxx
	id = siam_events.6034
	title = siam_events.6034.t
	desc = siam_events.6034.d
	picture = GFX_report_event_SIA_King_Death

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event siam_events.6034 option siam_events.6015.a"
		name = siam_events.6015.a # RIP for him
		if = {
			limit = { has_country_leader = { character = SIA_chumbhotbongs_paribatra } }
			SIA_create_sukhumabhininda = yes
		}
		SIA_chumbhotbongs_paribatra = { kill_character = yes }
	}
}

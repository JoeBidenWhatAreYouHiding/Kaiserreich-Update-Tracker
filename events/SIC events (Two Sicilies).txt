###########################
# Two Sicilies
###########################

add_namespace = two_sicilies_events

#intro events in intro screen

country_event = { # Black Monday hits the Two Sicilies
	id = two_sicilies_events.2
	title = two_sicilies_events.2.t
	desc = two_sicilies_events.2.d
	picture = GFX_report_event_generic_run_on_the_banks

	is_triggered_only = yes

	immediate = {
		hidden_effect = { add_ideas = SIC_BM_3 }
	}

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.2 option two_sicilies_events.2.a"
		name = two_sicilies_events.2.a
		effect_tooltip = { add_ideas = SIC_BM_3 }
		add_stability = -0.15
		hidden_effect = {
			country_event = { id = two_sicilies_events.3 days = 30 }
		}
	}
}
country_event = { # Falling living standards
	id = two_sicilies_events.3
	title = two_sicilies_events.3.t
	desc = two_sicilies_events.3.d
	picture = GFX_report_event_HOL_worse_living_standard
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.3 option two_sicilies_events.3.a"
		name = two_sicilies_events.3.a
		add_stability = -0.05
		hidden_effect = {
			country_event = { id = two_sicilies_events.4 days = 25 }
		}
	}
}
country_event = { # Rise of the Black Shirts
	id = two_sicilies_events.4
	title = two_sicilies_events.4.t
	desc = two_sicilies_events.4.d
	picture = GFX_report_event_fascist_militia

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.4 option two_sicilies_events.4.a"
		name = two_sicilies_events.4.a
		add_stability = -0.02
		add_popularity = {
			ideology = national_populist
			popularity = 0.08
		}
		hidden_effect = {
			country_event = { id = two_sicilies_events.5 days = 150 }
			country_event = { id = two_sicilies_events.6 days = 90 }
			country_event = { id = two_sicilies_events.7 days = 100 }
		}
	}
}
country_event = { # A call to Conservatism
	id = two_sicilies_events.5
	title = two_sicilies_events.5.t
	desc = two_sicilies_events.5.d
	picture = GFX_report_event_fascist_gathering
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.5 option two_sicilies_events.5.a"
		name = two_sicilies_events.5.a
		add_popularity = {
			ideology = social_liberal
			popularity = 0.08
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
	}
}
country_event = { # Liberal Coalition formed
	id = two_sicilies_events.6
	title = two_sicilies_events.6.t
	desc = two_sicilies_events.6.d
	picture = GFX_report_event_SRI_palace
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.6 option two_sicilies_events.6.a"
		name = two_sicilies_events.6.a
		add_popularity = {
			ideology = social_democrat
			popularity = 0.08
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.02
		}
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.6 option two_sicilies_events.6.b"
		name = two_sicilies_events.6.b
		add_popularity = {
			ideology = social_liberal
			popularity = 0.08
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.04
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.02
		}
	}
}
country_event = { # Union workers vs Black-shirts
	id = two_sicilies_events.7
	title = two_sicilies_events.7.t
	desc = two_sicilies_events.7.d
	picture = GFX_report_event_BEL_Protest_Aggressive
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.7 option two_sicilies_events.7.a"
		name = two_sicilies_events.7.a
		add_popularity = {
			ideology = social_conservative
			popularity = 0.08
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.03
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.02
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.02
		}
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.7 option two_sicilies_events.7.b"
		name = two_sicilies_events.7.b
		add_popularity = {
			ideology = social_liberal
			popularity = 0.02
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.08
		}
	}
}
country_event = { # The 1937 Election
	id = two_sicilies_events.10
	title = two_sicilies_events.10.t
	desc = two_sicilies_events.10.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = SIC_the_general_election_has_occurred }
	}

	option = { # Support the Social Conservatives
		log = "[GetLogInfo]: event two_sicilies_events.10 option two_sicilies_events.10.a"
		name = two_sicilies_events.10.a
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCLIB }
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_AUTDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_NATPOP }
				}
			}
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.1
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 60
			elections_allowed = yes
		}
		activate_advisor = SIC_luigi_sturzo_sic
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = {
			localization_key = tooltip_enable_focus
			FOCUS = SIC_constitutional_kingdom
		}
	}
	option = { # Support the Social Democrats
		log = "[GetLogInfo]: event two_sicilies_events.10 option two_sicilies_events.10.b"
		name = two_sicilies_events.10.b
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCCON }
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCLIB }
					has_game_rule = { rule = SIC_path option = SIC_PATH_AUTDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_NATPOP }
				}
			}
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.1
		}
		set_politics = {
			ruling_party = social_democrat
			election_frequency = 60
			elections_allowed = yes
		}
		activate_advisor = SIC_enrico_mole_sic
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = {
			localization_key = tooltip_enable_focus
			FOCUS = SIC_constitutional_kingdom
		}
	}
	option = { # Support the Social Liberals
		log = "[GetLogInfo]: event two_sicilies_events.10 option two_sicilies_events.10.c"
		name = two_sicilies_events.10.c
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCCON }
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_AUTDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_NATPOP }
				}
			}
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.1
		}
		set_politics = {
			ruling_party = social_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		activate_advisor = SIC_salvatore_aldisio_sic
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = {
			localization_key = tooltip_enable_focus
			FOCUS = SIC_constitutional_kingdom
		}
	}
	option = { # Support the Authoritarian Democrats
		log = "[GetLogInfo]: event two_sicilies_events.10 option two_sicilies_events.10.e"
		name = two_sicilies_events.10.e
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCCON }
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCLIB }
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_NATPOP }
				}
			}
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.05
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			election_frequency = 60
			elections_allowed = yes
		}
		set_temp_variable = { coalition_partner_var = token:market_liberal }
		add_to_coalition = yes
		activate_advisor = SIC_enrico_de_nicola_sic
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = {
			localization_key = tooltip_enable_focus
			FOCUS = SIC_constitutional_kingdom
		}
	}
	option = { # National Populists Democrats
		log = "[GetLogInfo]: event two_sicilies_events.10 option two_sicilies_events.10.f"
		name = two_sicilies_events.10.f
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCCON }
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCLIB }
					has_game_rule = { rule = SIC_path option = SIC_PATH_AUTDEM }
				}
			}
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.1
		}
		hidden_effect = {
			country_event = { id = two_sicilies_events.21 days = 150 }
		}
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
		}
		activate_advisor = SIC_achille_lauro_sic
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = {
			localization_key = tooltip_enable_focus
			FOCUS = SIC_organic_kingdom
		}
	}
	after = {
		set_country_flag = SIC_the_general_election_has_occurred
	}
}

### Democratic Sicily ###
country_event = { # Welfare Act
	id = two_sicilies_events.11
	title = two_sicilies_events.11.t
	desc = two_sicilies_events.11.d
	picture = GFX_report_event_fascist_speech
	is_triggered_only = yes

	option = { # Extensive Welfare
		log = "[GetLogInfo]: event two_sicilies_events.11 option two_sicilies_events.11.a"
		name = two_sicilies_events.11.a
		add_popularity = {
			ideology = social_democrat
			popularity = 0.08
		}
		add_political_power = -50
		add_stability = 0.05
	}
	option = { #
		log = "[GetLogInfo]: event two_sicilies_events.11 option two_sicilies_events.11.b"
		name = two_sicilies_events.11.b
		add_popularity = {
			ideology = social_liberal
			popularity = 0.08
		}
		add_political_power = 20
	}
	option = { #
		log = "[GetLogInfo]: event two_sicilies_events.11 option two_sicilies_events.11.c"
		name = two_sicilies_events.11.c
		add_popularity = {
			ideology = social_conservative
			popularity = 0.08
		}
		add_political_power = 50
		add_stability = -0.05
	}
}
country_event = { # end of the black-shirts
	id = two_sicilies_events.19
	title = two_sicilies_events.19.t
	desc = two_sicilies_events.19.d
	picture = GFX_report_event_generic_diplomacy3
	is_triggered_only = yes

	option = { # finally
		log = "[GetLogInfo]: event two_sicilies_events.19 option two_sicilies_events.19.a"
		name = two_sicilies_events.19.a
		add_popularity = {
			ideology = national_populist
			popularity = -0.1
		}
		add_stability = 0.05
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
}
country_event = { # Future Elections
	id = two_sicilies_events.20
	title = two_sicilies_events.20.t
	desc = two_sicilies_events.20.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	trigger = {
		has_country_flag = SIC_the_general_election_has_occurred
	}

	option = { # Support the Social Conservatives
		log = "[GetLogInfo]: event two_sicilies_events.20 option two_sicilies_events.20.a"
		name = two_sicilies_events.20.a
		ai_chance = {
			base = 20
			modifier = {
				factor = 5
				has_government = social_conservative
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCLIB }
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_AUTDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_NATPOP }
				}
			}
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.1
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 60
			elections_allowed = yes
		}
		activate_advisor = SIC_luigi_sturzo_sic
	}
	option = { # Support the Social Democrats
		log = "[GetLogInfo]: event two_sicilies_events.20 option two_sicilies_events.20.b"
		name = two_sicilies_events.20.b
		ai_chance = {
			base = 20
			modifier = {
				factor = 5
				has_government = social_democrat
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCCON }
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCLIB }
					has_game_rule = { rule = SIC_path option = SIC_PATH_AUTDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_NATPOP }
				}
			}
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.1
		}
		set_politics = {
			ruling_party = social_democrat
			election_frequency = 60
			elections_allowed = yes
		}
		activate_advisor = SIC_enrico_mole_sic
	}
	option = { # Support the Social Liberals
		log = "[GetLogInfo]: event two_sicilies_events.20 option two_sicilies_events.20.c"
		name = two_sicilies_events.20.c
		ai_chance = {
			base = 20
			modifier = {
				factor = 5
				has_government = social_liberal
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCCON }
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_AUTDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_NATPOP }
				}
			}
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.1
		}
		set_politics = {
			ruling_party = social_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		activate_advisor = SIC_salvatore_aldisio_sic
	}
	option = { # Support the Authoritarian
		log = "[GetLogInfo]: event two_sicilies_events.20 option two_sicilies_events.20.e"
		name = two_sicilies_events.20.e
		ai_chance = {
			base = 20
			modifier = {
				factor = 5
				has_government = authoritarian_democrat
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCCON }
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCLIB }
					has_game_rule = { rule = SIC_path option = SIC_PATH_SOCDEM }
					has_game_rule = { rule = SIC_path option = SIC_PATH_NATPOP }
				}
			}
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.05
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			election_frequency = 60
			elections_allowed = yes
		}
		set_temp_variable = { coalition_partner_var = token:market_liberal }
		add_to_coalition = yes
		activate_advisor = SIC_enrico_de_nicola_sic
	}
}

### Integralist Sicily ###
country_event = { # Rebuilding Noble Sicilies
	id = two_sicilies_events.21
	title = two_sicilies_events.21.t
	desc = two_sicilies_events.21.d
	picture = GFX_report_event_SIC_naples
	is_triggered_only = yes

	option = { # Restore the Nobility
		log = "[GetLogInfo]: event two_sicilies_events.21 option two_sicilies_events.21.a"
		name = two_sicilies_events.21.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.1
		}
	}
}
country_event = { # Union Act
	id = two_sicilies_events.22
	title = two_sicilies_events.22.t
	desc = two_sicilies_events.22.d
	picture = GFX_report_event_fascist_speech
	is_triggered_only = yes

	option = { # Extensive Welfare
		log = "[GetLogInfo]: event two_sicilies_events.22 option two_sicilies_events.22.a"
		name = two_sicilies_events.22.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.03
		}
		add_stability = 0.05
	}
	option = { # State Controlled Union
		log = "[GetLogInfo]: event two_sicilies_events.22 option two_sicilies_events.22.b"
		name = two_sicilies_events.22.b
		add_ideas = SIC_state_catholic_unions
	}
}
country_event = { # Catholic Recreation
	id = two_sicilies_events.23
	title = two_sicilies_events.23.t
	desc = two_sicilies_events.23.d
	picture = GFX_report_event_ITA_italian_recreation
	is_triggered_only = yes

	option = { # yay the outdoors
		log = "[GetLogInfo]: event two_sicilies_events.23 option two_sicilies_events.23.a"
		name = two_sicilies_events.23.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.03
		}
		add_stability = 0.02
	}
}
country_event = { # Protests against disolving Parliament
	id = two_sicilies_events.24
	title = two_sicilies_events.24.t
	desc = two_sicilies_events.24.d
	picture = GFX_report_event_BEL_Protest_Aggressive
	is_triggered_only = yes

	option = { # Let them Shout
		log = "[GetLogInfo]: event two_sicilies_events.24 option two_sicilies_events.24.a"
		name = two_sicilies_events.24.a
		add_popularity = {
			ideology = social_conservative
			popularity = 0.03
		}
		add_popularity = {
			ideology = national_populist
			popularity = -0.03
		}
		add_stability = -0.03
	}
	option = { # Lock them Up
		log = "[GetLogInfo]: event two_sicilies_events.24 option two_sicilies_events.24.b"
		name = two_sicilies_events.24.b
		add_stability = -0.05
		add_popularity = {
			ideology = social_conservative
			popularity = -0.05
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
	}
	option = { # Let the Black Shirts deal with them
		log = "[GetLogInfo]: event two_sicilies_events.24 option two_sicilies_events.24.c"
		name = two_sicilies_events.24.c
		add_stability = -0.08
		add_popularity = {
			ideology = social_conservative
			popularity = -0.1
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.1
		}
	}
}
country_event = { # Integrate the black-shirts?
	id = two_sicilies_events.25
	title = two_sicilies_events.25.t
	desc = two_sicilies_events.25.d
	picture = GFX_report_event_fascist_militia
	is_triggered_only = yes

	option = { # Integrate them
		log = "[GetLogInfo]: event two_sicilies_events.25 option two_sicilies_events.25.a"
		name = two_sicilies_events.25.a
		add_war_support = 0.05
		# add_stability = 0.05
	}
	option = { # Keep them Separate
		log = "[GetLogInfo]: event two_sicilies_events.25 option two_sicilies_events.25.b"
		name = two_sicilies_events.25.b
		add_political_power = 80
	}
}
country_event = { # National Youth League
	id = two_sicilies_events.26
	title = two_sicilies_events.26.t
	desc = two_sicilies_events.26.d
	picture = GFX_report_event_ITA_ani_youth
	is_triggered_only = yes

	option = { # Traditional Youth
		log = "[GetLogInfo]: event two_sicilies_events.26 option two_sicilies_events.26.a"
		name = two_sicilies_events.26.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.1
		}
		add_stability = 0.05
	}
}
country_event = { # Traditional Art Program
	id = two_sicilies_events.27
	title = two_sicilies_events.27.t
	desc = two_sicilies_events.27.d
	picture = GFX_report_event_fascist_speech
	is_triggered_only = yes

	option = { # Yay Art! Welfare
		log = "[GetLogInfo]: event two_sicilies_events.27 option two_sicilies_events.27.a"
		name = two_sicilies_events.27.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.1
		}
		add_stability = 0.01
	}
}
country_event = { # Magna Curia
	id = two_sicilies_events.28
	title = two_sicilies_events.28.t
	desc = two_sicilies_events.28.d
	picture = GFX_report_event_SRI_palace
	is_triggered_only = yes

	option = { # Extensive Welfare
		log = "[GetLogInfo]: event two_sicilies_events.28 option two_sicilies_events.28.a"
		name = two_sicilies_events.28.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.1
		}
		add_stability = 0.01
	}
}
country_event = { # Ennobled Corporate leaders
	id = two_sicilies_events.29
	title = two_sicilies_events.29.t
	desc = two_sicilies_events.29.d
	picture = GFX_report_event_generic_diplomacy2
	is_triggered_only = yes

	option = { # Extensive Welfare
		log = "[GetLogInfo]: event two_sicilies_events.29 option two_sicilies_events.29.a"
		name = two_sicilies_events.29.a
		add_stability = 0.01
	}
}

### Italian Empire ###
country_event = { # Imperial Italia
	id = two_sicilies_events.40
	title = two_sicilies_events.40.t
	desc = two_sicilies_events.40.d
	picture = GFX_report_event_SIC_sicily

	is_triggered_only = yes

	option = { # Avantai Italia!
		log = "[GetLogInfo]: event two_sicilies_events.40 option two_sicilies_events.40.a"
		name = two_sicilies_events.40.a
		add_stability = 0.05
		hidden_effect = {
			country_event = { id = two_sicilies_events.41 days = 360 }
			country_event = { id = two_sicilies_events.42 days = 720 }
			country_event = { id = two_sicilies_events.62 days = 300 }
			if = {
				limit = { has_democratic_government = yes }
				country_event = { id = two_sicilies_events.11 days = 340 }
			}
			else_if = {
				limit = { has_government = national_populist }
				country_event = { id = two_sicilies_events.29 days = 300 }
			}
		}
	}
}
country_event = { # Desyndicalization
	id = two_sicilies_events.41
	title = two_sicilies_events.41.t
	desc = two_sicilies_events.41.d
	picture = GFX_report_event_fascist_speech
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = two_sicilies_events.46 days = 720 }
		}
	}

	option = { # They should learn their lesson
		log = "[GetLogInfo]: event two_sicilies_events.41 option two_sicilies_events.41.a"
		name = two_sicilies_events.41.a
		trigger = {
			NOT = {
				has_government = national_populist
			}
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.08
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.08
		}
		add_political_power = 80
		add_stability = -0.03
		set_country_flag = SIC_crackdown_on_syndies
	}
	option = { # Reconcilliation is best
		log = "[GetLogInfo]: event two_sicilies_events.41 option two_sicilies_events.41.b"
		name = two_sicilies_events.41.b
		add_popularity = {
			ideology = social_liberal
			popularity = 0.08
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.08
		}
		add_stability = 0.03
	}
}
country_event = { # Strengthening Monarchism
	id = two_sicilies_events.42
	title = two_sicilies_events.42.t
	desc = two_sicilies_events.42.d
	picture = GFX_report_event_royal_parade
	is_triggered_only = yes

	option = { # Yay for monarchy!
		log = "[GetLogInfo]: event two_sicilies_events.42 option two_sicilies_events.42.a"
		name = two_sicilies_events.42.a
		add_stability = 0.03
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
}
country_event = { # Absorbing generals(democracy)
	id = two_sicilies_events.43
	title = two_sicilies_events.43.t
	desc = two_sicilies_events.43.d
	picture = GFX_report_event_SRI_italy_army

	fire_only_once = yes

	trigger = {
		tag = SIC
		owns_state = 159
		has_country_flag = SIC_empire
		NOT = { country_exists = ITA }
		ITA = {
			OR = {
				has_character = ITA_ettore_bastico
				has_character = ITA_rodolfo_graziani
				has_character = ITA_annibale_bergonzoli
				has_character = ITA_alberto_pariani
			}
		}
	}

	mean_time_to_happen = {
		months = 24
	}

	option = { # Let them Serve!
		log = "[GetLogInfo]: event two_sicilies_events.43 option two_sicilies_events.43.a"
		name = two_sicilies_events.43.a
		add_stability = -0.05
		ITA = {
			ITA_ettore_bastico = { set_nationality = ROOT }
			ITA_rodolfo_graziani = { set_nationality = ROOT }
			ITA_annibale_bergonzoli = { set_nationality = ROOT }
			ITA_alberto_pariani = { set_nationality = ROOT }
		}
	}
	option = { # Our Generals are good enough
		log = "[GetLogInfo]: event two_sicilies_events.43 option two_sicilies_events.43.b"
		name = two_sicilies_events.43.b
		ai_chance = { base = 0 }
		army_experience = 50
		add_war_support = 0.05
	}
}
country_event = { # Women's Role
	id = two_sicilies_events.44
	title = two_sicilies_events.44.t
	desc = two_sicilies_events.44.d
	picture = GFX_report_event_SRI_italy_women_congress

	fire_only_once = yes

	trigger = {
		tag = SIC
		owns_state = 158
		has_country_flag = SIC_empire
		NOT = { country_exists = SRI }
	}

	mean_time_to_happen = {
		months = 24
	}

	option = { # Traditional Values!
		log = "[GetLogInfo]: event two_sicilies_events.44 option two_sicilies_events.44.a"
		name = two_sicilies_events.44.a
		add_stability = 0.08
		add_popularity = {
			ideology = social_conservative
			popularity = 0.03
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.03
		}
	}
	option = { # voting only
		log = "[GetLogInfo]: event two_sicilies_events.44 option two_sicilies_events.44.b"
		name = two_sicilies_events.44.b
		trigger = {
			NOT = {
				has_government = national_populist
			}
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.03
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.03
		}
		add_stability = 0.03
	}
	option = { # full suffrage
		log = "[GetLogInfo]: event two_sicilies_events.44 option two_sicilies_events.44.c"
		name = two_sicilies_events.44.c
		trigger = {
			NOT = {
				has_government = national_populist
			}
		}
		add_stability = -0.08
		add_popularity = {
			ideology = social_democrat
			popularity = 0.03
		}
	}
}
country_event = { # Dealing with Christian Socialism
	id = two_sicilies_events.45
	title = two_sicilies_events.45.t
	desc = two_sicilies_events.45.d
	picture = GFX_report_event_SRI_catholic_priest

	fire_only_once = yes

	trigger = {
		tag = SIC
		owns_state = 158
		has_country_flag = SIC_empire
		NOT = { country_exists = SRI }
	}

	mean_time_to_happen = {
		months = 24
	}

	option = { # Christian Socialism is Heresy!
		log = "[GetLogInfo]: event two_sicilies_events.45 option two_sicilies_events.45.a"
		name = two_sicilies_events.45.a
		add_stability = -0.05
		add_popularity = {
			ideology = national_populist
			popularity = 0.03
		}
	}
	option = { # Focus on Christian Democracy
		log = "[GetLogInfo]: event two_sicilies_events.45 option two_sicilies_events.45.b"
		name = two_sicilies_events.45.b
		trigger = {
			NOT = {
				has_government = national_populist
			}
		}
		add_stability = 0.05
		add_popularity = {
			ideology = social_conservative
			popularity = 0.09
		}
	}
}
country_event = { # Resistance from Socialist
	id = two_sicilies_events.46
	title = two_sicilies_events.46.t
	desc = two_sicilies_events.46.d
	picture = GFX_report_event_BEL_Protest_Aggressive
	is_triggered_only = yes

	option = { # Damn Syndie Terrorists
		log = "[GetLogInfo]: event two_sicilies_events.46 option two_sicilies_events.46.a"
		name = two_sicilies_events.46.a
		add_ideas = SIC_red_guard_terrorists
		add_stability = -0.1
		hidden_effect = {
			if = {
				limit = { has_country_flag = SIC_crackdown_on_syndies }
				country_event = { id = two_sicilies_events.47 days = 365 }
				clr_country_flag = SIC_crackdown_on_syndies
			}
			else = {
				country_event = { id = two_sicilies_events.47 days = 150 }
			}
		}
	}
}
country_event = { # Resistance is over
	id = two_sicilies_events.47
	title = two_sicilies_events.47.t
	desc = two_sicilies_events.47.d
	picture = GFX_report_event_BEL_Protest_Aggressive

	is_triggered_only = yes

	option = { # Finally
		log = "[GetLogInfo]: event two_sicilies_events.47 option two_sicilies_events.47.a"
		name = two_sicilies_events.47.a
		remove_ideas = SIC_red_guard_terrorists
		add_stability = 0.12
	}
}

### Cultural Flavor Events ###
country_event = { # Act of Succession
	id = two_sicilies_events.61
	title = two_sicilies_events.61.t
	desc = two_sicilies_events.61.d
	picture = GFX_report_event_SRI_palace
	is_triggered_only = yes

	option = { # Prince Carlos
		log = "[GetLogInfo]: event two_sicilies_events.61 option two_sicilies_events.61.a"
		name = two_sicilies_events.61.a
		add_stability = 0.05
	}
	option = { # Prince Ranieri
		log = "[GetLogInfo]: event two_sicilies_events.61 option two_sicilies_events.61.b"
		name = two_sicilies_events.61.b
		add_stability = 0.03
	}
}
country_event = { # Language of the Kingdom
	id = two_sicilies_events.62
	title = two_sicilies_events.62.t
	desc = two_sicilies_events.62.d
	picture = GFX_report_event_SIC_sicily
	is_triggered_only = yes

	option = { # Focus on Sicilian
		log = "[GetLogInfo]: event two_sicilies_events.62 option two_sicilies_events.62.a"
		name = two_sicilies_events.62.a
		add_political_power = 25
	}
	option = { # Focus on Neapolitan
		log = "[GetLogInfo]: event two_sicilies_events.62 option two_sicilies_events.62.b"
		name = two_sicilies_events.62.b
		add_political_power = 25
	}
	option = { # Focus on Bilingualism
		log = "[GetLogInfo]: event two_sicilies_events.62 option two_sicilies_events.62.c"
		name = two_sicilies_events.62.c
		add_stability = 0.03
	}
}
country_event = { # Royal Marriage
	id = two_sicilies_events.63
	title = two_sicilies_events.63.t
	desc = two_sicilies_events.63.d
	picture = GFX_report_event_royal_parade

	fire_only_once = yes

	trigger = {
		OR = {
			tag = SIC
			tag = SRD
		}
		date > 1938.10.15
		date < 1938.10.30
	}

	mean_time_to_happen = {
		days = 10
	}

	option = { # Whom Doesn't love a wedding!
		log = "[GetLogInfo]: event two_sicilies_events.63 option two_sicilies_events.63.a"
		name = two_sicilies_events.63.a
		add_political_power = 80
		add_stability = 0.05
	}
}

### Offering Piedmont back to Sardinia
country_event = { #Initial Proposal
	id = two_sicilies_events.100
	title = two_sicilies_events.100.t
	desc = two_sicilies_events.100.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.100 option two_sicilies_events.100.a"
		name = two_sicilies_events.100.a #We'll take the deal
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		add_political_power = 100

		if = {
			limit = {
				is_in_faction = yes
				NOT = { is_in_faction_with = SIC }
			}
			hidden_effect = {
				every_country = {
					limit = {
						is_subject = no
						is_in_faction_with = ROOT
						NOT = { tag = ROOT }
					}
					country_event = annexation_events.8
				}
			}
			leave_faction = yes
		}

		if = {
			limit = {
				NOT = { is_in_faction_with = SIC }
			}
			separate_peace_all_wars = yes
		}

		every_subject_country = {
			set_temp_variable = { target = THIS }
			FROM = { puppet_country_without_changing_government = yes }
		}

		FROM = {
			every_owned_state = {
				limit = {
					OR = {
						state = 1003 #Aosta Valley
						state = 158 #Piedmont
						state = 838 #Liguria
						state = 762 #Nice
						state = 735 #Savoy
						state = 943 #Upper Savoy
					}
				}
				if = {
					limit = { is_claim_or_core_of_ROOT = no }
					add_claim_by = ROOT
				}
				transfer_state_to = ROOT
			}
			if = {
				limit = { is_faction_leader = yes }
				add_to_faction = ROOT
			}
			hidden_effect = {
				country_event = { id = two_sicilies_events.101 days = 1 }
			}
		}

		get_current_government_type = yes
		FROM = {
			set_autonomy = {
				target = ROOT
				autonomy_state = autonomous_puppet
				end_wars = no
			}
		}
		restore_previous_government_type = yes
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.100 option two_sicilies_events.100.b"
		name = two_sicilies_events.100.b #Ask again when the war is over
		trigger = {
			has_war = yes
		}
		ai_chance = { base = 100 }
		set_country_flag = ITA_ask_after_war_@FROM
		FROM = {
			country_event = { id = two_sicilies_events.103 days = 1 }
		}
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.100 option two_sicilies_events.100.c"
		name = two_sicilies_events.100.c #We refuse
		ai_chance = { base = 0 }
		set_country_flag = ITA_refuse_join_@FROM
		FROM = {
			country_event = { id = two_sicilies_events.102 days = 1 }
		}
	}
}
country_event = { #Deal has been struck
	id = two_sicilies_events.101
	title = two_sicilies_events.101.t
	desc = two_sicilies_events.101.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.101 option two_sicilies_events.101.a"
		name = two_sicilies_events.101.a
		reverse_add_opinion_modifier = { target = FROM modifier = KR_returned_land }
		if = {
			limit = { is_faction_leader = yes }
			effect_tooltip = { add_to_faction = FROM }
		}
		every_state = {
			limit = {
				OR = {
					state = 1003 #Aosta Valley
					state = 158 #Piedmont
					state = 838 #Liguria
					state = 762 #Nice
					state = 735 #Savoy
					state = 943 #Upper Savoy
				}
			}
			if = {
				limit = { is_claimed_by = ROOT }
				remove_claim_by = ROOT
			}
			if = {
				limit = { is_core_of = ROOT }
				remove_core_of = ROOT
				if = {
					limit = { check_variable = { core_countries^num < 1 } }
					hidden_effect = { add_core_of = SRI }
				}
			}
		}
		recheck_annexations = yes
	}
}
country_event = { #Deal has been refused
	id = two_sicilies_events.102
	title = two_sicilies_events.102.t
	desc = two_sicilies_events.102.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.102 option two_sicilies_events.102.a"
		name = two_sicilies_events.102.a
		recheck_annexations = yes
	}
}
country_event = { #Deal has been put off until after the war
	id = two_sicilies_events.103
	title = two_sicilies_events.103.t
	desc = two_sicilies_events.103.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.103 option two_sicilies_events.103.a"
		name = two_sicilies_events.103.a
		recheck_annexations = yes
	}
}

### New Events
country_event = { #Call for Help
	id = two_sicilies_events.104
	title = two_sicilies_events.104.t
	desc = two_sicilies_events.104.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	trigger = {
		FROM = { has_war_with = SRI }
		NOT = { has_war_with = SRI }
	}

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.104 option two_sicilies_events.104.a"
		name = two_sicilies_events.104.a #We will go to their aid!
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.25
				tag = SIC
				ITA = { has_war_with = VNC }
			}
			modifier = {
				factor = 0.1
				tag = SIC
				FROM = { has_war_with = AUS }
			}
			modifier = {
				factor = 0.1
				tag = ITA
				country_exists = VNC
			}
			modifier = {
				factor = 3
				SRI = {
					OR = {
						has_war_with = GER
						has_war_with = AUS
						has_war_with = CAN
					}
				}
			}
		}
		add_opinion_modifier = { target = FROM modifier = KR_close_allies }
		reverse_add_opinion_modifier = { target = FROM modifier = KR_close_allies }
		add_war_support = 0.10
		declare_war_on = {
			target = SRI
			type = annex_everything
		}
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.104 option two_sicilies_events.104.b"
		name = two_sicilies_events.104.b #Leave them to their fate
		ai_chance = {
			base = 60
			modifier = {
				factor = 0.1
				FROM = {
					NOT = { has_war_with = FRA }
				}
			}
		}
		add_war_support = -0.10
		FROM = { country_event = two_sicilies_events.105 }
	}
}
country_event = { #Call for Help refused
	id = two_sicilies_events.105
	title = two_sicilies_events.105.t
	desc = two_sicilies_events.105.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.105 option two_sicilies_events.105.a"
		name = two_sicilies_events.105.a
		add_opinion_modifier = { target = FROM modifier = KR_outraged }
	}
}
country_event = { #Austria wants to be buddies
	id = two_sicilies_events.107
	title = two_sicilies_events.107.t
	desc = two_sicilies_events.107.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.107 option two_sicilies_events.107.a"
		name = two_sicilies_events.107.a
		ai_chance = { base = 70 }
		AUS = {
			country_event = { id = austria_events.107 days = 1 }
		}
		add_political_power = -15
	}

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.107 option two_sicilies_events.107.b"
		name = two_sicilies_events.107.b
		ai_chance = {
			base = 30
			modifier = {
				factor = 4
				italy_balance_has_broken = no
			}
		}
		AUS = {
			country_event = { id = austria_events.108 days = 1 }
		}
		add_stability = 0.05
	}
}

### Peacefully uniting Italy
country_event = { #Notification
	id = two_sicilies_events.109
	title = two_sicilies_events.109.t
	picture = GFX_report_event_SRI_palace

	desc = {
		text = two_sicilies_events.109.d.sicconfedITA
		trigger = {
			FROM.FROM = { tag = ITA }
			has_country_flag = SIC_confed
		}
	}
	desc = {
		text = two_sicilies_events.109.d.sicconfedNOTITA
		trigger = {
			FROM.FROM = { NOT = { tag = ITA } }
			has_country_flag = SIC_confed
		}
	}
	desc = {
		text = two_sicilies_events.109.d.empire
		trigger = {
			NOT = { has_country_flag = SIC_confed }
		}
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.109 option two_sicilies_events.109.a"
		name = two_sicilies_events.109.a
	}
}
country_event = { #Initial Offer
	id = two_sicilies_events.110
	title = two_sicilies_events.110.t
	picture = GFX_report_event_SRI_palace

	desc = {
		text = two_sicilies_events.110.d.sicconfedITA
		trigger = {
			tag = ITA
			FROM = { has_country_flag = SIC_confed }
		}
	}
	desc = {
		text = two_sicilies_events.110.d.sicconfedNOTITA
		trigger = {
			NOT = { tag = ITA }
			FROM = { has_country_flag = SIC_confed }
		}
	}
	desc = {
		text = two_sicilies_events.110.d.empire
		trigger = {
			NOT = { FROM = { has_country_flag = SIC_confed } }
		}
	}

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			clr_country_flag = ITA_ask_after_war_@FROM
			FROM = { save_event_target_as = uniter }
		}
	}

	option = { # We agree to their offer
		log = "[GetLogInfo]: event two_sicilies_events.110 option two_sicilies_events.110.a"
		name = two_sicilies_events.110.a
		trigger = {
			OR = {
				is_in_faction = no
				is_in_faction_with = FROM
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					any_neighbor_country = { has_war_with = ROOT } #== being invaded or invading someone
					any_enemy_country = {
						same_continent_as_ROOT = yes
						has_capitulated = no
					}
				}
			}
		}
		# Warnings for players
		if = {
			limit = { FROM = { has_country_flag = SIC_confed } }
			if = {
				limit = { tag = ITA }
				custom_effect_tooltip = ITA_warning_switch2
			}
			else = {
				custom_effect_tooltip = ITA_warning_switch3
			}
		}
		else = {
			custom_effect_tooltip = ITA_warning_switch1
		}
		FROM = { country_event = { id = two_sicilies_events.128 days = 15 } }
	}

	option = { # We agree to their offer, but must inform faction
		log = "[GetLogInfo]: event two_sicilies_events.110 option two_sicilies_events.110.b"
		name = two_sicilies_events.110.b
		trigger = {
			is_in_faction = yes
			NOT = { is_in_faction_with = FROM }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					any_neighbor_country = { has_war_with = ROOT } #== being invaded or invading someone
					any_enemy_country = {
						same_continent_as_ROOT = yes
						has_capitulated = no
					}
				}
			}
		}
		# Warnings for players
		if = {
			limit = { FROM = { has_country_flag = SIC_confed } }
			if = {
				limit = { tag = ITA }
				custom_effect_tooltip = ITA_warning_switch2
			}
			else = {
				custom_effect_tooltip = ITA_warning_switch3
			}
		}
		else = {
			custom_effect_tooltip = ITA_warning_switch1
		}
		faction_leader = { country_event = { id = two_sicilies_events.113 days = 5 } }
	}

	option = { # They can ask again when the war is over
		log = "[GetLogInfo]: event two_sicilies_events.110 option two_sicilies_events.110.c"
		name = two_sicilies_events.110.c
		trigger = {
			has_war = yes
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				OR = {
					any_neighbor_country = { has_war_with = ROOT } #== being invaded or invading someone
					any_enemy_country = {
						same_continent_as_ROOT = yes
						has_capitulated = no
					}
				}
			}
		}
		set_country_flag = ITA_ask_after_war_@FROM
		FROM = { country_event = { id = two_sicilies_events.129 days = 15 } }
	}

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.110 option two_sicilies_events.110.e"
		name = two_sicilies_events.110.e # We refuse
		ai_chance = { base = 0 }
		set_country_flag = ITA_refuse_join_@FROM
		FROM = { country_event = { id = two_sicilies_events.130 days = 15 } }
	}
}
country_event = { #Informing the faction leader
	id = two_sicilies_events.113
	title = two_sicilies_events.113.t
	desc = two_sicilies_events.113.d
	picture = GFX_report_event_SRI_palace

	is_triggered_only = yes

	trigger = {
		FROM = {
			exists = yes
			is_subject = no
			has_socialist_government = no
			NOT = { has_war_with = event_target:uniter }
		}
	}

	option = { # Maybe they'll join our faction?
		log = "[GetLogInfo]: event two_sicilies_events.113 option two_sicilies_events.113.a"
		name = two_sicilies_events.113.a
		trigger = {
			is_faction_leader = yes
			is_in_faction_with = FROM
			event_target:uniter = {
				both_socialist_or_both_not_socialist = yes
				is_in_faction = no
				NOT = { has_war_with = ROOT }
				OR = {
					has_war = no
					any_enemy_country = { has_war_with = ROOT }
				}
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					any_core_state = { is_owned_by = event_target:uniter }
					any_allied_country = { any_core_state = { is_owned_by = event_target:uniter } }
				}
				italy_game_rule_uniter_same_faction = no
			}
			modifier = {
				factor = 0
				italy_game_rule_uniter_other_faction = yes
			}
		}
		FROM = { country_event = two_sicilies_events.114 }
	}
	option = { # Please reconsider
		log = "[GetLogInfo]: event two_sicilies_events.113 option two_sicilies_events.113.b"
		name = two_sicilies_events.113.b
		trigger = {
			is_in_faction_with = FROM
			is_faction_leader = yes
			has_war = no
		}
		ai_chance = { base = 0 }
		FROM = { country_event = two_sicilies_events.123 }
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.113 option two_sicilies_events.113.c"
		name = two_sicilies_events.113.c # Please reconsider, for the war
		trigger = {
			is_in_faction_with = FROM
			is_faction_leader = yes
			has_war = yes
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				event_target:uniter = {
					both_socialist_or_both_not_socialist = yes
					is_in_faction = no
					NOT = { has_war_with = ROOT }
					OR = {
						has_war = no
						any_enemy_country = { has_war_with = ROOT }
					}
				}
				italy_game_rule_FROM_same_faction = no
			}
			modifier = {
				factor = 0
				italy_game_rule_FROM_other_faction = yes
			}
		}
		FROM = { country_event = two_sicilies_events.123 }
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.113 option two_sicilies_events.113.e"
		name = two_sicilies_events.113.e # You have our blessing
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				event_target:uniter = {
					both_socialist_or_both_not_socialist = yes
					is_in_faction = no
					NOT = { has_war_with = ROOT }
					OR = {
						has_war = no
						any_enemy_country = { has_war_with = ROOT }
					}
				}
				italy_game_rule_uniter_other_faction = no
			}
			modifier = {
				factor = 0
				is_in_faction_with = FROM
				is_faction_leader = yes
				has_war = yes
				italy_game_rule_uniter_other_faction = no
			}
			modifier = {
				factor = 0
				italy_game_rule_FROM_same_faction = yes
			}
		}
		FROM = { country_event = two_sicilies_events.127 }
	}
}
country_event = { #Faction leader wants them to join
	id = two_sicilies_events.114
	title = two_sicilies_events.114.t
	desc = two_sicilies_events.114.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.114 option two_sicilies_events.114.a"
		name = two_sicilies_events.114.a
		event_target:uniter = { country_event = two_sicilies_events.115 }
	}
}
country_event = { #Informing of yes - faction leader wants them to join
	id = two_sicilies_events.115
	title = two_sicilies_events.115.t
	desc = two_sicilies_events.115.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = { # We'd be happy to
		log = "[GetLogInfo]: event two_sicilies_events.115 option two_sicilies_events.115.a"
		name = two_sicilies_events.115.a
		trigger = {
			is_in_faction = no
			NOT = { has_war_with = FROM.FROM }
		}
		ai_chance = { base = 100 }
		FROM.FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
			country_event = { id = two_sicilies_events.116 days = 1 }
		}
		FROM = { clr_country_flag = ITA_considering_invite_@FROM }

		if = {
			limit = {
				has_country_flag = SIC_confed
				FROM = { tag = ITA }
			}
			FROM = { ITA_italy_join_with_confed = yes }
		}
		else_if = {
			limit = {
				has_country_flag = SIC_confed
			}
			FROM = { ITA_notitaly_join_with_confed = yes }
		}
		else = {
			ITA_restore_savoyard_monarchy = yes
			FROM = { ITA_join_with_empire = yes }
		}

		##TODO: add news event
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.115 option two_sicilies_events.115.b"
		name = two_sicilies_events.115.b # We'd rather not
		ai_chance = { base = 0 }
		FROM.FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
		}
		FROM = {
			country_event = { id = two_sicilies_events.117 days = 1 }
		}
	}
}
country_event = { #To the faction leader: they agree
	id = two_sicilies_events.116
	title = two_sicilies_events.116.t
	desc = two_sicilies_events.116.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	trigger = {
		is_faction_leader = yes
		FROM = {
			exists = yes
			is_in_faction = no
			NOT = { has_war_with = ROOT }
		}
	}

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.116 option two_sicilies_events.116.a"
		name = two_sicilies_events.116.a
		add_to_faction = FROM
	}
}
country_event = { #They won't join the faction
	id = two_sicilies_events.117
	title = two_sicilies_events.117.t
	desc = two_sicilies_events.117.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	trigger = {
		exists = yes
		is_subject = no
		has_socialist_government = no
		NOT = { has_war_with = event_target:uniter }
	}

	option = { #Then ask us again once the war is over
		log = "[GetLogInfo]: event two_sicilies_events.117 option two_sicilies_events.117.a"
		name = two_sicilies_events.117.a
		trigger = {
			has_war = yes
		}
		ai_chance = { base = 100 }
		faction_leader = {
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
			country_event = { id = two_sicilies_events.118 days = 1 }
		}
		event_target:uniter = {
			ROOT = { set_country_flag = ITA_ask_after_war_@PREV }
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = { id = two_sicilies_events.120 days = 1 }
		}
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.117 option two_sicilies_events.117.b"
		name = two_sicilies_events.117.b #Then we refuse
		ai_chance = { base = 0 }
		faction_leader = {
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
			country_event = { id = two_sicilies_events.118 days = 1 }
		}
		event_target:uniter = {
			ROOT = { set_country_flag = ITA_refuse_join_@PREV }
			add_opinion_modifier = { target = ROOT modifier = KR_outraged }
			country_event = { id = two_sicilies_events.121 days = 1 }
		}
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.117 option two_sicilies_events.117.c"
		name = two_sicilies_events.117.c #We intend to press forward anyhow
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		faction_leader = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			add_opinion_modifier = { target = event_target:uniter modifier = KR_hates_govt }
			country_event = { id = two_sicilies_events.119 days = 1 }
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
			country_event = { id = two_sicilies_events.122 days = 1 }
		}
	}
}
country_event = { #To the faction leader: they have decided to remain in the faction, for now
	id = two_sicilies_events.118
	title = two_sicilies_events.118.t
	desc = two_sicilies_events.118.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	trigger = {
		is_faction_leader = yes
		is_in_faction_with = FROM
	}

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.118 option two_sicilies_events.118.a"
		name = two_sicilies_events.118.a
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
		}
	}
}
country_event = { #To the faction leader: they have decided to join anyhow
	id = two_sicilies_events.119
	title = two_sicilies_events.119.t
	desc = two_sicilies_events.119.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	trigger = {
		is_faction_leader = yes
	}

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.119 option two_sicilies_events.119.a"
		name = two_sicilies_events.119.a
	}
}
country_event = { #They have decided to refuse because uniter won't join - ask later
	id = two_sicilies_events.120
	title = two_sicilies_events.120.t
	desc = two_sicilies_events.120.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.120 option two_sicilies_events.120.a"
		name = two_sicilies_events.120.a #Accept their refusal
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.120 option two_sicilies_events.120.b"
		name = two_sicilies_events.120.b #Then this means war!
		trigger = {
			is_subject = no
			has_capitulated = no
		}
		ai_chance = { base = 0 }
		if = {
			limit = {
				is_faction_leader = yes
				is_in_faction_with = FROM
			}
			FROM = {
				leave_faction = yes
				peace_out_non_neighbours_after_leaving_faction = yes
			}
		}
		else_if = {
			limit = { is_in_faction_with = FROM }
			leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes
		}
		FROM = {
			add_war_support = 0.10
			set_country_flag = ITA_refuse_join_@ROOT
			clr_country_flag = ITA_ask_after_war_@ROOT
		}
		add_war_support = 0.10
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
	after = {
		FROM = {
			clr_country_flag = ITA_considering_invite_@FROM
		}
	}
}
country_event = { #They have decided to refuse because uniter won't join
	id = two_sicilies_events.121
	title = two_sicilies_events.121.t
	desc = two_sicilies_events.121.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.121 option two_sicilies_events.121.a"
		name = two_sicilies_events.121.a #Accept their refusal
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.121 option two_sicilies_events.120.b"
		name = two_sicilies_events.120.b #Then this means war!
		trigger = {
			is_subject = no
			has_capitulated = no
		}
		ai_chance = { base = 0 }
		if = {
			limit = {
				is_faction_leader = yes
				is_in_faction_with = FROM
			}
			FROM = {
				leave_faction = yes
				peace_out_non_neighbours_after_leaving_faction = yes
			}
		}
		else_if = {
			limit = { is_in_faction_with = FROM }
			leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes
		}
		FROM = {
			add_war_support = 0.10
		}
		add_war_support = 0.10
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
	after = {
		FROM = { clr_country_flag = ITA_considering_invite_@FROM }
	}
}
country_event = { #They have decided to proceed even if uniter won't join
	id = two_sicilies_events.122
	title = two_sicilies_events.122.t
	desc = two_sicilies_events.122.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.122 option two_sicilies_events.122.a"
		name = two_sicilies_events.122.a
		if = {
			limit = {
				FROM = {
					OR = {
						tag = SIC
						tag = ITA
					}
				}
			}
			add_political_power = 100
			add_stability = -0.10
		}
		else = {
			add_political_power = 50
			add_stability = -0.05
		}
		FROM = { clr_country_flag = ITA_considering_invite_@FROM }
		if = {
			limit = { has_country_flag = SIC_confed }
			FROM = {
				if = {
					limit = { tag = ITA }
					ITA_italy_join_with_confed = yes
				}
				else = {
					ITA_notitaly_join_with_confed = yes
				}
			}
		}
		else = {
			ITA_restore_savoyard_monarchy = yes
			FROM = { ITA_join_with_empire = yes }
		}

		##TODO: add news event
	}
}
country_event = { #Faction leader asks to reconsider
	id = two_sicilies_events.123
	title = two_sicilies_events.123.t
	desc = two_sicilies_events.123.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.123 option two_sicilies_events.123.a"
		name = two_sicilies_events.123.a # Maybe once the war is over, then
		trigger = {
			has_war = yes
		}
		ai_chance = { base = 100 }
		faction_leader = {
			country_event = { id = two_sicilies_events.118 days = 1 }
		}
		event_target:uniter = {
			ROOT = { set_country_flag = ITA_ask_after_war_@PREV }
			country_event = { id = two_sicilies_events.124 days = 1 }
		}
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.123 option two_sicilies_events.123.b"
		name = two_sicilies_events.123.b # Very well
		trigger = {
			has_war = no
		}
		ai_chance = { base = 0 }
		faction_leader = {
			country_event = { id = two_sicilies_events.118 days = 1 }
		}
		event_target:uniter = {
			ROOT = { set_country_flag = ITA_refuse_join_@PREV }
			country_event = { id = two_sicilies_events.125 days = 1 }
		}
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.123 option two_sicilies_events.123.c"
		name = two_sicilies_events.123.c # No, we must proceed
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		faction_leader = {
			country_event = { id = two_sicilies_events.119 days = 1 }
		}
		event_target:uniter = {
			country_event = { id = two_sicilies_events.126 days = 1 }
		}
	}
}
country_event = { #They have decided to refuse for now because faction leader asked them to reconsider
	id = two_sicilies_events.124
	title = two_sicilies_events.124.t
	desc = two_sicilies_events.124.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.124 option two_sicilies_events.120.a"
		name = two_sicilies_events.120.a #Accept their refusal
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.124 option two_sicilies_events.120.b"
		name = two_sicilies_events.120.b #Then this means war!
		trigger = {
			is_subject = no
			has_capitulated = no
		}
		ai_chance = { base = 0 }
		if = {
			limit = {
				is_faction_leader = yes
				is_in_faction_with = FROM
			}
			FROM = {
				leave_faction = yes
				peace_out_non_neighbours_after_leaving_faction = yes
			}
		}
		else_if = {
			limit = { is_in_faction_with = FROM }
			leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes
		}
		FROM = {
			add_war_support = 0.10
			set_country_flag = ITA_refuse_join_@ROOT
			clr_country_flag = ITA_ask_after_war_@ROOT
		}
		add_war_support = 0.10
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
	after = {
		FROM = { clr_country_flag = ITA_considering_invite_@FROM }
	}
}
country_event = { #They have decided to refuse because faction leader asked them to reconsider
	id = two_sicilies_events.125
	title = two_sicilies_events.125.t
	desc = two_sicilies_events.125.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.125 option two_sicilies_events.121.a"
		name = two_sicilies_events.121.a #Accept their refusal
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.125 option two_sicilies_events.120.b"
		name = two_sicilies_events.120.b #Then this means war!
		trigger = {
			is_subject = no
			has_capitulated = no
		}
		ai_chance = { base = 0 }
		if = {
			limit = {
				is_faction_leader = yes
				is_in_faction_with = FROM
			}
			FROM = {
				leave_faction = yes
				peace_out_non_neighbours_after_leaving_faction = yes
			}
		}
		else_if = {
			limit = { is_in_faction_with = FROM }
			leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes
		}
		FROM = {
			add_war_support = 0.10
		}
		add_war_support = 0.10
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
	after = {
		FROM = { clr_country_flag = ITA_considering_invite_@FROM }
	}
}
country_event = { #They have decided to proceed even if faction leader disapproves
	id = two_sicilies_events.126
	title = two_sicilies_events.126.t
	desc = two_sicilies_events.126.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.126 option two_sicilies_events.126.a"
		name = two_sicilies_events.126.a
		if = {
			limit = {
				FROM = {
					OR = {
						tag = SIC
						tag = ITA
					}
				}
			}
			add_political_power = 100
			add_stability = -0.10
		}
		else = {
			add_political_power = 50
			add_stability = -0.05
		}
		FROM = { clr_country_flag = ITA_considering_invite_@FROM }
		if = {
			limit = { has_country_flag = SIC_confed }
			FROM = {
				if = {
					limit = { tag = ITA }
					ITA_italy_join_with_confed = yes
				}
				else = {
					ITA_notitaly_join_with_confed = yes
				}
			}
		}
		else = {
			ITA_restore_savoyard_monarchy = yes
			FROM = { ITA_join_with_empire = yes }
		}

		##TODO: add news event
	}
}
country_event = { #Faction leader gives blessing
	id = two_sicilies_events.127
	title = two_sicilies_events.127.t
	desc = two_sicilies_events.127.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.127 option two_sicilies_events.127.a"
		name = two_sicilies_events.127.a
		event_target:uniter = {
			country_event = { id = two_sicilies_events.128 days = 1 }
		}
	}
}
country_event = { #Informing them of full agreement
	id = two_sicilies_events.128
	title = two_sicilies_events.128.t
	picture = GFX_report_event_generic_diplomacy3

	desc = {
		text = two_sicilies_events.128.d.noconfed
		trigger = {
			NOT = { has_country_flag = SIC_confed }
		}
	}
	desc = {
		text = two_sicilies_events.128.d.confed
		trigger = {
			has_country_flag = SIC_confed
		}
	}

	is_triggered_only = yes

	trigger = {
		FROM = {
			exists = yes
			is_subject = no
			has_socialist_government = no
			NOT = { has_war_with = ROOT }
		}
	}

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.128 option two_sicilies_events.128.a"
		name = two_sicilies_events.128.a
		if = {
			limit = {
				FROM = {
					OR = {
						tag = SIC
						tag = ITA
					}
				}
			}
			add_political_power = 100
			add_stability = -0.10
		}
		else = {
			add_political_power = 50
			add_stability = -0.05
		}
		FROM = { clr_country_flag = ITA_considering_invite_@FROM }
		if = {
			limit = { has_country_flag = SIC_confed }
			FROM = {
				if = {
					limit = { tag = ITA }
					ITA_italy_join_with_confed = yes
				}
				else = {
					ITA_notitaly_join_with_confed = yes
				}
			}
		}
		else = {
			ITA_restore_savoyard_monarchy = yes
			FROM = { ITA_join_with_empire = yes }
		}

		##TODO: add news event
	}
}
country_event = { #Ask again when the war is over
	id = two_sicilies_events.129
	title = two_sicilies_events.129.t
	desc = two_sicilies_events.129.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	trigger = {
		FROM = {
			exists = yes
			is_subject = no
			has_socialist_government = no
			NOT = { has_war_with = ROOT }
		}
	}

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.129 option two_sicilies_events.129.a"
		name = two_sicilies_events.129.a #We will wait
		ai_chance = { base = 100 }
		add_opinion_modifier = { target = FROM modifier = KR_approves_of_govt }
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
		}
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.129 option two_sicilies_events.129.b"
		name = two_sicilies_events.129.b #Then this means war!
		trigger = {
			is_subject = no
			has_capitulated = no
		}
		ai_chance = { base = 0 }
		if = {
			limit = {
				is_faction_leader = yes
				is_in_faction_with = FROM
			}
			FROM = {
				leave_faction = yes
				peace_out_non_neighbours_after_leaving_faction = yes
			}
		}
		else_if = {
			limit = { is_in_faction_with = FROM }
			leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes
		}
		FROM = {
			add_war_support = 0.10
			set_country_flag = ITA_refuse_join_@ROOT
			clr_country_flag = ITA_ask_after_war_@ROOT
		}
		add_war_support = 0.10
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
	after = {
		FROM = { clr_country_flag = ITA_considering_invite_@FROM }
	}
}
country_event = { #Informing them of refusal
	id = two_sicilies_events.130
	title = two_sicilies_events.130.t
	desc = two_sicilies_events.130.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	trigger = {
		FROM = {
			exists = yes
			is_subject = no
			has_socialist_government = no
			NOT = { has_war_with = ROOT }
		}
	}

	option = { #Accept their refusal
		log = "[GetLogInfo]: event two_sicilies_events.130 option two_sicilies_events.130.a"
		name = two_sicilies_events.130.a
		ai_chance = { base = 0 }
		add_opinion_modifier = { target = FROM modifier = KR_disapproves_of_govt }
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
		}
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.130 option two_sicilies_events.130.b"
		name = two_sicilies_events.130.b #Then this means war!
		trigger = {
			is_subject = no
			has_capitulated = no
		}
		ai_chance = { base = 100 }
		if = {
			limit = {
				is_faction_leader = yes
				is_in_faction_with = FROM
			}
			FROM = {
				leave_faction = yes
				peace_out_non_neighbours_after_leaving_faction = yes
			}
		}
		else_if = {
			limit = { is_in_faction_with = FROM }
			leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes
		}
		FROM = {
			add_war_support = 0.10
		}
		add_war_support = 0.10
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
	after = {
		FROM = { clr_country_flag = ITA_considering_invite_@FROM }
	}
}

country_event = { #Our italian overlord decides to join the new italy. What do we do?
	id = two_sicilies_events.131
	title = two_sicilies_events.131.t
	desc = two_sicilies_events.131.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.131 option two_sicilies_events.131.a"
		name = two_sicilies_events.131.a #We will join the new italy
		every_core_state = {
			add_core_of = event_target:uniter
			hidden_effect = { remove_claim_by = event_target:uniter }
		}
		set_temp_variable = { ITA_general_transfer_target = event_target:uniter }
		Italy_general_transfer_effect = yes
		event_target:uniter = {
			annex_country = { target = ROOT transfer_troops = yes }
			change_tag_from = ROOT
		}
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.131 option two_sicilies_events.131.b"
		name = two_sicilies_events.131.b #Then this means war!
		if = {
			limit = { is_in_faction = yes }
			leave_faction = yes
		}
		if = {
			limit = { surrender_progress < 0.05 }
			separate_peace_all_wars = yes
		}
		declare_war_on = {
			target = event_target:uniter
			type = annex_everything
		}
	}
}

### Land Reform
country_event = { #Agrarian Question (fired from focus)
	id = two_sicilies_events.140
	title = two_sicilies_events.140.t
	desc = two_sicilies_events.140.d
	picture = GFX_report_event_generic_farming

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event two_sicilies_events.140 option two_sicilies_events.140.a"
		name = two_sicilies_events.140.a #We will pursue land reform, no matter what
		ai_chance = {
			base = 50
			modifier = {
				factor = 3
				has_government = social_democrat
			}
			modifier = {
				factor = 2
				has_government = social_liberal
			}
		}
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
		add_timed_idea = {
			idea = SIC_angry_nobles
			days = 180
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = {
			localization_key = tooltip_enable_focus
			FOCUS = SIC_through_land_reform
		}
		set_country_flag = SIC_pursuing_land_reform
	}
	option = {
		log = "[GetLogInfo]: event two_sicilies_events.140 option two_sicilies_events.140.b"
		name = two_sicilies_events.140.b #We will work with the landowners to make progress
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				has_government = national_populist
			}
			modifier = {
				factor = 3
				has_government = social_conservative
			}
		}
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
		add_political_power = -100
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = {
			localization_key = tooltip_enable_focus
			FOCUS = SIC_invest_modern_farming
		}
		set_country_flag = SIC_work_with_landowners
	}
}

# Italian Empire Declared
news_event = {
	id = two_sicilies_events.141
	immediate = { log = "[GetLogInfo]: event two_sicilies_events.141" }
	title = two_sicilies_events.141.t
	desc = two_sicilies_events.141.d
	picture = GFX_news_event_ITA_big_crowd

	major = yes

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		regional_europe_news = yes
	}

	option = {
		name = two_sicilies_events.141.a
	}
}

# Italian Confederation Declared
news_event = {
	id = two_sicilies_events.142
	immediate = { log = "[GetLogInfo]: event two_sicilies_events.142" }
	title = two_sicilies_events.142.t
	desc = two_sicilies_events.142.d
	picture = GFX_news_event_ITA_big_crowd

	major = yes

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		regional_europe_news = yes
	}

	option = {
		name = two_sicilies_events.142.a
	}
}

